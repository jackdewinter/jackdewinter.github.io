<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ With a specific focus on getting list issues resolved …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Delving Into the Issues - 10 "/>
<meta property="og:url" content="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" />
<meta property="og:description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ With a specific focus on getting list issues resolved …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2020-11-30T00:00:00-08:00" />
<meta name="twitter:title" content="Markdown Linter - Delving Into the Issues - 10 ">
<meta name="twitter:description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ With a specific focus on getting list issues resolved …">

        <title>Markdown Linter - Delving Into the Issues - 10  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/">
                Markdown Linter - Delving Into the Issues - 10
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#starting-off-with-an-easy-task">Starting Off with An Easy Task</a></li>
<li><a href="#double-checking">Double Checking</a></li>
<li><a href="#ordered-list-blocks-and-start-numbers">Ordered List Blocks and Start Numbers</a></li>
<li><a href="#variations-on-existing-lists">Variations on Existing Lists</a></li>
<li><a href="#variations-on-a-theme">Variations on A Theme</a></li>
<li><a href="#this-weeks-big-issue">This Week’s Big Issue</a><ul>
<li><a href="#aborted-due-to-missing-leading-space">Aborted Due to Missing Leading Space?</a></li>
<li><a href="#what-is-the-issue-then">What Is the Issue Then?</a></li>
<li><a href="#getting-a-good-view-on-the-issue">Getting A Good View on The Issue</a></li>
<li><a href="#html-blocks">HTML blocks</a></li>
<li><a href="#cleaning-up-html-blocks-in-lists">Cleaning Up HTML Blocks in Lists</a></li>
<li><a href="#moving-on-to-the-other-blocks">Moving on To The Other Blocks</a></li>
<li><a href="#it-was-a-slog">It Was A Slog…</a></li>
</ul>
</li>
<li><a href="#lather-rinse-repeat">Lather, Rinse, Repeat</a></li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2020/11/23/markdown-linter-delving-into-the-issues-9/">last article</a>,
I continued in my quest to reduce the size of the issues list.  In this article, I
split my time between adding to the scenario cases tables and dealing with items from
the issues list.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>With a specific focus on getting list issues resolved this week, I was hoping to
make some decent headway with the issues list.  From my reading of the list at the
start of the week, there were a fair number of List element related issues, Block Quote
element related issues, and cross-over issues between the two.  It just made sense to
me to pick one and focus on it.  And I picked List elements related issues.</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather that the solutions themselves.  For a full record of the solutions presented in
this article, please go to this project’s GitHub repository and consult the
commits between
<a href="https://github.com/jackdewinter/pymarkdown/commit/4335e2dea51cafd20b96c54832e2cfc50abd1f01">11 Nov 2020</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/09fe53af190cf566d6476aa4a382f87e92b5cc76">15 Nov 2020</a>.</p>
<h2 id="starting-off-with-an-easy-task">Starting Off with An Easy Task<a class="headerlink" href="#starting-off-with-an-easy-task" title="Permanent link">¶</a></h2>
<p>While not a big task, the task:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">292</span><span class="n">x</span> <span class="k">with</span> <span class="n">ordered</span> <span class="n">lists</span><span class="o">?</span>
</pre></div>
<p>was a nice easy one to start with.  This task was simply to take the functions
<code>test_list_items_292a</code> to <code>test_list_items_292c</code>, copy them to <code>test_list_items_292d</code>
to <code>test_list_items_292e</code>, changing them from an Unordered List elements to Ordered
List elements.  Nothing more, nothing less.</p>
<p>And this was very simple, and similarly, the tests passed without any issues.  A
simple, but a good, solid start.</p>
<h2 id="double-checking">Double Checking<a class="headerlink" href="#double-checking" title="Permanent link">¶</a></h2>
<p>For these tasks:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">269</span> <span class="k">and</span> <span class="mi">305</span><span class="p">,</span> <span class="k">and</span> <span class="n">variations</span>
  <span class="o">-</span> <span class="n">whitespace</span> <span class="k">is</span> <span class="k">not</span> <span class="mi">100</span><span class="o">%</span> <span class="n">correct</span>
  <span class="o">-</span> <span class="n">weird</span> <span class="n">cases</span> <span class="k">in</span> <span class="n">list_in_process</span>
</pre></div>
<p>nothing was changed, but some research was done.</p>
<p>To start, I went to those
two scenario tests and their variations and looked at the whitespace in the
tests.  While it took me a second to remember why the whitespace looks that way in
the list tokens, there
was nothing wrong with the way it was being stored there.  However, it did take
me a second or two to remember that a paragraph within a list stores part of its leading
whitespace in the List token and the remaining leading whitespace in the paragraph
token.  Maybe that is what caused me to add the item to the issues list?</p>
<p>I then looked at the code for the <code>list_in_process</code> function with a similar
exploratory effort, but nothing seemed out
of place.  I even enabled debug for a few of the <code>test_list_items_292</code> functions,
tracing through the code to look for any issues.  While I did not find anything wrong,
I was happy to take a second look at these areas to put any perceived issues that I
might have had to rest.</p>
<h2 id="ordered-list-blocks-and-start-numbers">Ordered List Blocks and Start Numbers<a class="headerlink" href="#ordered-list-blocks-and-start-numbers" title="Permanent link">¶</a></h2>
<p>Once again, I found a small task to get out of the way:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="nv">CommonMark</span> <span class="nv">and</span> <span class="nv">how</span> <span class="nv">handles</span> <span class="nv">non</span><span class="o">-</span><span class="nv">initial</span> <span class="nv">cases</span> <span class="k">for</span> <span class="nv">list</span> <span class="nv">starts</span>
</pre></div>
<p>To examine this issue, I created two new functions, <code>test_list_blocks_extra_1</code> and
<code>test_list_blocks_extra_2</code>.  In the first of these functions, I added a couple of lists
with sub-lists, all starting with the the integer <code>1</code>.  In the second of these
functions, I changed one of the sub-lists to start with the integer <code>2</code> instead.</p>
<p>Checking the PyMarkdown parser HTML output against the BabelMark, everything was fine
for the first function, but there was a slight difference for the second function.
Instead of acknowledging the <code>2.</code> signifying the start of a sub-list, that <code>2.</code> text
was combined with the paragraph element from the previous line.  That was curious.</p>
<p>After combing through the specification for about an hour, I posted a question to
the
<a href="https://talk.commonmark.org/">CommonMark Discussion Boards</a>, and waited for a response.
More on that in a later article.</p>
<h2 id="variations-on-existing-lists">Variations on Existing Lists<a class="headerlink" href="#variations-on-existing-lists" title="Permanent link">¶</a></h2>
<p>Graduating from the simpler tasks, I decided to tackle a task that had a bit more
substance to it:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">276</span> <span class="k">with</span> <span class="n">extra</span> <span class="k">level</span> <span class="k">of</span> <span class="n">depth</span><span class="p">,</span> <span class="k">with</span> <span class="n">olist</span><span class="o">/</span><span class="n">olist</span><span class="p">,</span> <span class="n">ulist</span><span class="o">/</span><span class="n">olist</span><span class="p">,</span> <span class="k">and</span> <span class="n">olist</span><span class="o">/</span><span class="n">ulist</span>
</pre></div>
<p>Starting with the scenario test for
<a href="https://github.github.com/gfm/#example-276">example 276</a>:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="o">-</span> <span class="n">foo</span>
</pre></div>
<p>I started generating variations based along different themes. For each of
the main variations, I simply ran through a simple list of combinations of the Ordered
List element and the Unordered List element: Unordered/Ordered, Ordered/Unordered,
Ordered/Ordered, and Unordered/Unordered.  After those combinations were taken care of,
the <code>a</code> and <code>b</code> variations of those variations were created by adding an Unordered List
element (for <code>a</code>) or an Ordered List element (for <code>b</code>).</p>
<p>While I expected something to happen, it was nice to be proven wrong.  The tests all
passed without any issues.  The reason for my initial doubt on this issue?  I have
had problems with “empty” lists before.  While I do not use them myself, the Markdown
specification allows for a List element that only contains a start List Element text
sequence, say <code>1.</code>, with no other text on that line.  And from my knowledge of the
GFM Specification, empty list items are covered, but not as completely as the list
item starts followed by text.  Based on that background, it was good to see that so
far, those empty list items were not going to be an issue.</p>
<h2 id="variations-on-a-theme">Variations on A Theme<a class="headerlink" href="#variations-on-a-theme" title="Permanent link">¶</a></h2>
<p>On a bit of a roll with some easy wins in the completed task column, I decided to
do a couple of tasks together as a single task:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">256</span> <span class="nv">with</span> <span class="nv">extra</span> <span class="nv">spaces</span> <span class="nv">on</span> <span class="nv">blanks</span>
<span class="o">-</span> <span class="mi">256</span> <span class="nv">with</span> <span class="nv">other</span> <span class="nv">list</span> <span class="nv">types</span> <span class="k">for</span> <span class="nv">last</span> <span class="nv">instead</span> <span class="nv">of</span> <span class="nv">just</span> <span class="nv">li</span>
</pre></div>
<p>Based on previous tasks, it seemed like a good idea to come up with variations to
deal with these tasks.  To do this, I started with the example for
<a href="https://github.github.com/gfm/#example-256">example 256</a>:</p>
<div class="highlight"><pre><span></span><span class="o">-</span>
  <span class="n">foo</span>
<span class="o">-</span>
  <span class="o">```</span>
  <span class="n">bar</span>
  <span class="o">```</span>
<span class="o">-</span>
      <span class="n">baz</span>
</pre></div>
<p>For the first two variations on <code>test_list_blocks_256</code>, I modified the example Markdown
to include extra trailing whitespace as part of the empty list items.  From there,
I added a variation which replaced the unordered list item elements with ordered list
item elements.  In addition, I further modified that variation by adding extra blank
lines and by reducing the indent on the Fenced Code Block element from 3 to 2, making
it ineligible for inclusion into the list. Basically, I looked at Example 256
and experimented with what I thought would be good variations to test.</p>
<p>While a lot of those variations did not result in the discovery of any expected issues,
there was one interesting new issue.  In cases where there is a blank line inside
of a list, there was a weird ordering where the processing of the blank line and the
processing of the blank line to close the list were in the wrong order.  As such,
a small fix was required to make sure that the information is available to make a
proper decision on how to handle that blank line with the correct data.</p>
<p>That one took a bit of effort to figure out, but it was a good warm up for what I knew
was going to be a bear of a task to follow.</p>
<h2 id="this-weeks-big-issue">This Week’s Big Issue<a class="headerlink" href="#this-weeks-big-issue" title="Permanent link">¶</a></h2>
<p>While there was not an explicit entry in the issues list for this issue, it was an
issue that I had long been concerned about.  As the commit message stated, that issue
was to “add better support for lists that are aborted due to missing leading space in
front of a new block”.  I knew I was opening a can of worms by exploring this issue,
but for me to have confidence in the project, I felt that I needed to explore this, and
explore it now.</p>
<h3 id="aborted-due-to-missing-leading-space">Aborted Due to Missing Leading Space?<a class="headerlink" href="#aborted-due-to-missing-leading-space" title="Permanent link">¶</a></h3>
<p>Basically, in its simplest form, this issue breaks down into the following scenario:</p>
<div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span>
<span class="c1">---</span>
</pre></div>
<p>In this scenario, the Markdown specifies a simple List element that is created without
any content on that line, an empty list item.  In starting to parse the second line,
the parser must first determine if that newly parsed text will be part of that list or
not.  To ensure that text is added to that List element, the text on the next line must
be indented 3 spaces, matching the indent level
of that List element.  Therefore, when the Thematic Break element on that next line
fails to maintain that level of indentation, the original list is then aborted, and the
Thematic Break element is processed after the list has been closed.</p>
<p>This reading of the specification is backed by the HTML output generated by
<a href="https://johnmacfarlane.net/babelmark2/">BabelMark</a>
for this scenario:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ol</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">ol</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
</pre></div>
<h3 id="what-is-the-issue-then">What Is the Issue Then?<a class="headerlink" href="#what-is-the-issue-then" title="Permanent link">¶</a></h3>
<p>While I had a specific answer to a specific question regarding how the List element
and the Thematic Break element interacted, I wanted a more generic answer that I
could work with.  As usual, I opened up the
<a href="https://github.github.com/gfm">GFM Specification</a>
in my browser and started looking for that generic answer.  Unfortunately, I
did not get an answer that I was satisfied with.</p>
<p>The first thing that I looked for
was some variation on the previous example, of which I kind of found a related test
with <a href="https://github.github.com/gfm/#example-27">example 27</a>:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">foo</span>
<span class="o">***</span>
<span class="o">-</span> <span class="n">bar</span>
</pre></div>
<p>While it was not exactly what I was looking for, it was something.  When I went to look
for a similar example including an Atx Heading element, I did not find any comparable
example.</p>
<p>To be clear, I do not believe this is the fault of the GFM Specification. To
be honest, I think the specification has done a great job and specifying the main cases
that people are going to encounter.  But there is always room for improvement, and I am
hoping to contribute to that improvement with the PyMarkdown project’s testing suite.
That is part of the process, and how the specification gets better.</p>
<p>With that newfound information in mind, I was left with a slightly modified issue.
As I did not have a good set of examples detailing how lists and other leaf blocks
interacted, I therefore did not have a good comprehensive
scenario test suite that I had confidence in.  I was confident that the GFM
Specification was getting me a good 90% of the way there, but I wanted more than that
90%.  Therefore, the newly modified issue that I needed to solve was that I needed to
specifically add more specific tests in this area.</p>
<h3 id="getting-a-good-view-on-the-issue">Getting A Good View on The Issue<a class="headerlink" href="#getting-a-good-view-on-the-issue" title="Permanent link">¶</a></h3>
<p>The first thing I did to address this issue was to stop and think clearly about what
needed to be done.  From the last bit of work, I knew that the scenario functions
<code>test_list_blocks_256*</code> were a good start, so I decided to add functions with similar
names more from that point.</p>
<p>Starting with the example I outlined the function <code>test_list_blocks_256f</code> with the
following markdown:</p>
<div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span>
<span class="c1">---</span>
</pre></div>
<p>Then I added a variation on that, making test function <code>test_list_blocks_256fa</code> be the
same thing, just with text after the List Item element.  Once that was done, I basically
copied those scenario tests, replacing the Thematic Break element with an Atx Heading
element, a SetExt Heading element, an Ordered Code Block element, a Fenced Code Block
element, and an HTML Block element.  With scenario test titles going from <code>256f</code> to
<code>256k</code>, I went back and used BabelMark to replace the output HTML in each of the
scenario tests.</p>
<p>Running the newly created scenario tests, I discovered a solid number of issues that
needed to be looked at.  I knew at this point that there was not going to be an easy
solution here.  I rolled up my sleeves and got to work.</p>
<h3 id="html-blocks">HTML blocks<a class="headerlink" href="#html-blocks" title="Permanent link">¶</a></h3>
<p>Picking one of the elements to start with, that night I decided to start working with
the HTML Block element and regretted it within hours.  Looking at the failures
from those tests, it was obvious that there was more than one problem with these tests.
The most immediate problem was that the tokens produced by the parser just looked
wrong.</p>
<p>Taking the time to look at the problem in depth, I quickly discovered that the
HTML Block element was not causing the list to close like it should.  As that was
a major issue to find, everything else after that token was affected in some way.
To address this issue, I created the <code>correct_for_leaf_block_start_in_list</code> function
to allow the parser to clean up in situations like this.  More specifically, it was
for cases where a paragraph had just been closed while in an active list.  In those
cases, the parser thought the lists had been closed, but the proper tokens were not
being emitted.</p>
<p>But even with those observations in place, there still was something about the tokens
that looked “off”.  However, I know that there was currently too much noise in the
way for me to see that other issue clearly, so I just decided to get it out of the
way first.</p>
<h3 id="cleaning-up-html-blocks-in-lists">Cleaning Up HTML Blocks in Lists<a class="headerlink" href="#cleaning-up-html-blocks-in-lists" title="Permanent link">¶</a></h3>
<p>To take care of those concerns, I experimented with eight other variations on that list
scenario, including some variations with sub-lists.  While I was mostly pleased with the
results, there were three tests that were failing due to issues in generating the
correct HTML and rehydrated Markdown text.  After some quick investigation, it became
obvious that there was whitespace missing at the start of the HTML blocks.</p>
<p>Double checking with the other failing tests, the pattern that emerged was that the
spacing between the end of the previous paragraph and the new HTML block needed to
be altered a bit.  To make sure that information could get from the parser to the
HTML generator, I added a new member variable <code>fill_count</code> to the HTML Block token,
using the <code>add_fill</code> function to adjust its value.  Once that was added, I was then
able to make small alterations to the <code>correct_for_leaf_block_start_in_list</code> function
to adjust that <code>fill_count</code> member variable with the difference between the number of
whitespace characters removed and the indentation level of the currently active list.</p>
<p>With that information now present in the token, the HTML generator was easily changed to
add those extra characters between the start of the HTML Block and the processing of
the text within that block.  With those changes generating HTML properly, the focus
shifted to applying similar changes to the the Markdown generator and the consistency
checks.  While the first part of this issue had taken days to complete and fix, this
part took only half an hour.  At that point, the HTML blocks and all their variations
were working properly.</p>
<h3 id="moving-on-to-the-other-blocks">Moving on To The Other Blocks<a class="headerlink" href="#moving-on-to-the-other-blocks" title="Permanent link">¶</a></h3>
<p>After fixing the HTML Block elements, I took a closer look at the other failing tests
and started to notice similar problems.  While the <code>fill_count</code> solution was only useful
for the HTML blocks, the <code>correct_for_leaf_block_start_in_list</code> function was useful
in fixing issues with the handling of Fenced Code Block elements and Atx Heading
elements.  In both of those instances, the new element was supposed to abort the
previous list but was not doing so.  The <code>correct_for_leaf_block_start_in_list</code>
function needed a couple of tweaks to make sure it was handling things consistently
across all three scenarios, but they were all easy fixes.</p>
<p>With the parser generating the tokens properly, the tests were making more progress but
still failed on the output HTML.  While not a big difference, the output HTML was
missing a newline between the end of the previous list and new Fenced Code Block
elements,
Atx Heading elements, and SetExt Heading elements.  That difference was quickly
eliminated by adding two small lines of code to the handle of those elements:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">output_html</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">"&lt;/ol&gt;"</span><span class="p">)</span> <span class="ow">or</span> <span class="n">output_html</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">"&lt;/ul&gt;"</span><span class="p">):</span>
        <span class="n">output_html</span> <span class="o">+=</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
</pre></div>
<p>After crossing my fingers for good luck, and fixing a couple of typing mistakes,
the new tests passed without much fanfare.  It was just a relief.  I knew it would
take a while, but I did not think it would take three days to complete the
implementation and verification of these new scenario tests.</p>
<h3 id="it-was-a-slog">It Was A Slog…<a class="headerlink" href="#it-was-a-slog" title="Permanent link">¶</a></h3>
<p>Over that three days, I was able to get 18 new scenario tests coded and passing
properly.  To be honest, I was doubtful at certain points that I would get done, as
progress was hard to come by.  While I cannot remember how “on my game” I felt during
that time, I do remember that I felt burdened by the knowledge that this work was
only the starting point, and I would have to repeat it multiple times in the future.</p>
<p>And to that end, I had my next task already lined up.</p>
<h2 id="lather-rinse-repeat">Lather, Rinse, Repeat<a class="headerlink" href="#lather-rinse-repeat" title="Permanent link">¶</a></h2>
<p>While it was a tough couple of days getting through that block of work, I felt that it
was a good task to complete, but that it was not yet 100% complete.  With some extra
time left in the evening, I decided to take a shot at replicating the width of tests
that I added for HTML Block elements to the other Leaf Block elements as well.</p>
<p>Taking a bit of time to setup (copy, paste, alter, repeat… many times), I was
pleasantly surprised with the low number of failures.  For those tests that did fail,
patterns that I was familiar with from the previous issues with HTML Block elements
began to resurface.  As these issues arose in the Atx Heading elements and the Fenced
Code Block elements, the first set of changes I made were to add a <code>fill_count</code>
member variable to those token class, similar to how I had added them to the Html Block
token class.  As some of those classes were in a bit more of a “raw” state than the
HTML Block class was, I needed to do a bit of extra work to make sure that I could
adjust the <code>fill_count</code> variable and have it be persisted.  But it was nothing I had
not done multiple times before, so it was quickly accommodated.</p>
<p>Other than a couple of small changes, the only big change was to the function
<code>__check_for_list_closures</code>.  Taking a while to get right, I needed to alter
a few of the functions that feed that function to pass the right parameters
around.  While it was not too difficult, I was hoping that I would find time in
the near future to revisit parts of this code and refactor it to make it cleaner.</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>Getting a fair number of items related to lists taken off the issues list was a
good feeling.  While there were a couple of draining issues in the middle, it was
still good to make that progress forward.  While it was a bit disheartening finding
issues in the parser after a spell without any major issues with the parser, it
was par for the course.  Better for me to discover them now, than to have a consumer
discover them later.  But as long as I was finding these issues, I would have to make
sure to examine the existing tests and identify any potential areas where I can
add extra tests to validate that I had found most of the issues with lists.</p>
<p>At this point, I thought it would be useful for me to reiterate a point from previous
articles.
I am not trying to make this project perfect.  After years of software development and
years of software automation, I know that eliminating all issues is not possible.  It
always boils down to when the next issue is going to happen, not if.  But for me, it is
very important to make my best effort in getting the quality to a point that I feel
comfortable with.</p>
<p>Following that, while I know there is a bit left to go before releasing this project,
I know that it is getting nearer with each item I resolve from the issues lists.  And
that is the point.  It is getting closer, and I just need to keep my focus on the prize:
that project release.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>Continuing with my efforts to get better scenario tests around lists, I knew
that I had to be more structured about that testing.  As that meant creating
a new test series, it forbade that the next week’s work would be moving this
week’s work into a new series and cleaning it up.</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2010&url=https%3A//jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2010&amp;body=https%3A//jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-delving-into-the-issues-10"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2020/11/23/markdown-linter-delving-into-the-issues-9/" title="Previous: Markdown Linter - Delving Into the Issues - 9">Markdown Linter - Delving Into the Issues - 9</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" title="Next: Markdown Linter - Delving Into the Issues - 11">Markdown Linter - Delving Into the Issues - 11</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~14 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-11-30T00:00:00-08:00">Nov 30, 2020</time>
        <h4>Markdown Linter Issues</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2020/09/28/markdown-linter-delving-into-the-issues-1/" title="Markdown Linter - Delving Into the Issues - 1">Part 1: Markdown Linter - Delving Into the Issues - 1</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/05/markdown-linter-delving-into-the-issues-2/" title="Markdown Linter - Delving Into the Issues - 2">Part 2: Markdown Linter - Delving Into the Issues - 2</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/12/markdown-linter-delving-into-the-issues-3/" title="Markdown Linter - Delving Into the Issues - 3">Part 3: Markdown Linter - Delving Into the Issues - 3</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/19/markdown-linter-delving-into-the-issues-4/" title="Markdown Linter - Delving Into the Issues - 4">Part 4: Markdown Linter - Delving Into the Issues - 4</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/26/markdown-linter-delving-into-the-issues-5/" title="Markdown Linter - Delving Into the Issues - 5">Part 5: Markdown Linter - Delving Into the Issues - 5</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/02/markdown-linter-delving-into-the-issues-6/" title="Markdown Linter - Delving Into the Issues - 6">Part 6: Markdown Linter - Delving Into the Issues - 6</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/09/markdown-linter-delving-into-the-issues-7/" title="Markdown Linter - Delving Into the Issues - 7">Part 7: Markdown Linter - Delving Into the Issues - 7</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/16/markdown-linter-delving-into-the-issues-8/" title="Markdown Linter - Delving Into the Issues - 8">Part 8: Markdown Linter - Delving Into the Issues - 8</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/23/markdown-linter-delving-into-the-issues-9/" title="Markdown Linter - Delving Into the Issues - 9">Part 9: Markdown Linter - Delving Into the Issues - 9</a>
            </li>
            <li  class="active-part">
            Part 10: Markdown Linter - Delving Into the Issues - 10
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" title="Markdown Linter - Delving Into the Issues - 11">Part 11: Markdown Linter - Delving Into the Issues - 11</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/14/markdown-linter-delving-into-the-issues-12/" title="Markdown Linter - Delving Into the Issues - 12">Part 12: Markdown Linter - Delving Into the Issues - 12</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/21/markdown-linter-delving-into-the-issues-13/" title="Markdown Linter - Delving Into the Issues - 13">Part 13: Markdown Linter - Delving Into the Issues - 13</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/28/markdown-linter-delving-into-the-issues-14/" title="Markdown Linter - Delving Into the Issues - 14">Part 14: Markdown Linter - Delving Into the Issues - 14</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/04/markdown-linter-delving-into-the-issues-15/" title="Markdown Linter - Delving Into the Issues - 15">Part 15: Markdown Linter - Delving Into the Issues - 15</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>36</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>54</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2020 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>