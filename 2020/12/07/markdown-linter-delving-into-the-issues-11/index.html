<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ I jokingly referred to this week as the week …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Delving Into the Issues - 11 "/>
<meta property="og:url" content="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" />
<meta property="og:description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ I jokingly referred to this week as the week …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2020-12-07T00:00:00-08:00" />
<meta name="twitter:title" content="Markdown Linter - Delving Into the Issues - 11 ">
<meta name="twitter:description" content="Summary¶ In my last article, I continued in my quest to reduce the size of the issues list. In this article, I split my time between adding to the scenario cases tables and dealing with items from the issues list. Introduction¶ I jokingly referred to this week as the week …">

        <title>Markdown Linter - Delving Into the Issues - 11  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/">
                Markdown Linter - Delving Into the Issues - 11
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#indented-code-blocks-and-list-blocks">Indented Code Blocks and List Blocks</a><ul>
<li><a href="#working-through-it">Working Through It</a></li>
</ul>
</li>
<li><a href="#the-birth-of-series-m">The Birth of Series M</a></li>
<li><a href="#weird-list-contents">“Weird” List Contents</a><ul>
<li><a href="#tracking-down-the-issues">Tracking Down the Issues</a></li>
</ul>
</li>
<li><a href="#sometimes-it-is-not-obvious">Sometimes It Is Not Obvious</a></li>
<li><a href="#variation-on-example-297">Variation on Example 297</a></li>
<li><a href="#fun-with-list-elements">Fun with List Elements</a><ul>
<li><a href="#debugging-the-issues">Debugging the Issues</a></li>
</ul>
</li>
<li><a href="#bulking-up-the-series-m-tests">Bulking Up the Series M Tests</a><ul>
<li><a href="#powering-through-the-scenarios">Powering Through the Scenarios</a></li>
<li><a href="#digging-deep-into-the-issue">Digging Deep into The Issue</a></li>
</ul>
</li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/">last article</a>,
I continued in my quest to reduce the size of the issues list.  In this article, I
split my time between adding to the scenario cases tables and dealing with items from
the issues list.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>I jokingly referred to this week as the week from hell.  It was hellish in
nature because of a bad cold that got into my sinuses and would not leave, no matter
what I tried to get rid of it.  As such, I felt that I got approximately half the work
done that I had wanted to.  Therefore, I felt that it was appropriate to talk about the
work done during the two-week period that I had the sinus cold instead of just my usual
one week period.  Even though my brain was fogging with the sinus cold for a good
solid two weeks, I was able to get some good work done, even if it was not at the
pace that I am used to having.</p>
<p>The big focus at this point in the project was on reducing the number of items on the
issues list that dealt with List elements.  Having taken a significant amount of time
working on
the leaf block elements and getting those items resolved, I was hoping to get a good
chunk of the list issues dealt with.  But I also knew that the impending American
Thanksgiving holiday and a nasty sinus cold were going to slow me down.  It was just
a matter of being honest with myself about what I could accomplish during this period.</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather that the solutions themselves.  For a full record of the solutions presented in
this article, please go to this project’s GitHub repository and consult the
commits between
<a href="https://github.com/jackdewinter/pymarkdown/commit/57ba5d7777602b3d67cbea901cc289db539cf0d2">17 Nov 2020</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/307bbc4ebf6b6f764a88731a1739a2ec895f5fbf">29 Nov 2020</a>.</p>
<h2 id="indented-code-blocks-and-list-blocks">Indented Code Blocks and List Blocks<a class="headerlink" href="#indented-code-blocks-and-list-blocks" title="Permanent link">¶</a></h2>
<p>Up to that point, I had a good variety of cases for each leaf block type in Markdown
save for one: Indented Code Blocks.  Hence, I had logged this issue:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">256</span><span class="nv">i</span> <span class="nv">tests</span>, <span class="nv">not</span> <span class="nv">computing</span> <span class="nv">indent</span> <span class="nv">properly</span> <span class="k">if</span> <span class="nv">empty</span> <span class="nv">list</span> <span class="nv">and</span> <span class="nv">indented</span>
</pre></div>
<p>I gave a good solid first try at getting them working, but in my mind, Indented Code
Blocks were different enough that they posed additional difficulty.  As such, I left
them for last.  The example that gave me the trouble was an additional test that I
added, function <code>test_list_blocks_256i</code> or function <code>test_list_blocks_256ix</code> as I
renamed it.  The Markdown for the example was simple:</p>
<div class="highlight"><pre><span></span>   <span class="mi">1</span><span class="p">.</span>
    <span class="n">foo</span>
</pre></div>
<p>With the list start indented to the maximum with three leading spaces, the indentation
of the text <code>foo</code> should have been enough to make it eligible for an Indented Code Block
with four leading spaces.   Instead, it was just getting captured as part of the text
for the List Item element.</p>
<h3 id="working-through-it">Working Through It<a class="headerlink" href="#working-through-it" title="Permanent link">¶</a></h3>
<p>Granted, my cold was raging in my head, and I was not thinking clearly, but eventually I
looked at the tokens long enough and something stuck out at me.   The start List Block
token for line 1 was <code>[olist(1,3):.:1:3:  :   ]</code> which did not look weird to me at
first.  Looking at the end of the token, where I usually look, everything was fine.
There were three leading spaces before the start List element, and there were three
spaces registered for that token.  Exactly as it should be!  And it was an start
Ordered List token with a single digit start number, so the <code>indent_level</code> for that
list should be 3: 1 for the single digit, 1 for the list character <code>.</code>, and one for the
whitespace after it.  Check!  </p>
<p>Then it dawned on me.  While the three leading spaces were appearing in the token
itself, they were not being accounted for in the <code>indent_level</code>.  As such, when the
parser got to the second line, the <code>indent_level</code> was set to <code>3</code>, and it looked like the
that line was only indented by one character, not enough to start an Indented Code
Block.  After making some changes to pass through the <code>extracted_whitespace</code> variable
from the first line, the <code>indent_level</code> was adjusted by the length of the
<code>extracted_whitespace</code> variable, resulting in an <code>indent_level</code> of 6.  As the four
leading spaces on the second line was less than that value, it was properly interpreted
as an Indented Code Block element.</p>
<p>After adding some additional variations to test and make sure that the change was the
right change, I was happy to resolve this issue, and get some rest.</p>
<h2 id="the-birth-of-series-m">The Birth of Series M<a class="headerlink" href="#the-birth-of-series-m" title="Permanent link">¶</a></h2>
<p>Having documented this process before for the other series, I will not take the time to
go through all the steps performed to move these scenario tests over.  I will point out
that for me, with a sinus cold that was not letting up, it was the perfect thing for me
to work on.  It was a lot of moving tests over two days, but it was slow, and it was
methodical.  More importantly, it had built in error checking.  A good thing to have
when you are not 100% sure of how clearly you are thinking.</p>
<p>As this series was genuinely moving scenario tests over from their origin module
<code>test_markdown_list_blocks.py</code>, I did not expect any issues and there were none.  Due
to some clarity in thinking when setting up this work, any errors that I did make during
that process were caught and recovered from right away.  Other than that, the entire
process was a blur.</p>
<h2 id="weird-list-contents">“Weird” List Contents<a class="headerlink" href="#weird-list-contents" title="Permanent link">¶</a></h2>
<p>Mostly due to the sinus cold, which was finally starting to ease up, it took me another
couple of days to get the next issue resolved.  Mentally, I realized that I could either
push myself hard and perhaps prolong the cold, or I could take more breaks and have that
energy go towards resolving the cold.  Whether it was the positive thinking or the
natural course of the cold, I will never be sure which one helped more.  But by noon on
Saturday, I was starting to feel better, and I started to tackle these issues:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">code</span> <span class="n">span</span> <span class="n">inside</span> <span class="k">of</span> <span class="n">a</span> <span class="n">list</span>
<span class="o">-</span> <span class="n">multi</span><span class="o">-</span><span class="n">line</span> <span class="n">link</span> <span class="n">inside</span> <span class="k">of</span> <span class="n">a</span> <span class="n">list</span>
</pre></div>
<p>The first issue was easy.  I started with something simple, adding the function
<code>test_list_blocks_extra_2a</code> to test split paragraphs with the following Markdown:</p>
<div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span> <span class="n">abc</span>
<span class="n">def</span>
   <span class="mi">1</span><span class="p">.</span> <span class="n">ghi</span>
<span class="n">jkl</span>
<span class="mi">1</span><span class="p">.</span> <span class="n">three</span>
</pre></div>
<p>From there, I made a small modification to test for Code Spans by using the following
Markdown:</p>
<div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span> <span class="ss">`one`</span>
   <span class="mi">1</span><span class="p">.</span> <span class="ss">``</span><span class="n">one</span><span class="o">-</span><span class="n">A</span><span class="ss">``</span>
<span class="mi">1</span><span class="p">.</span> <span class="ss">`two`</span>
   <span class="mi">1</span><span class="p">.</span> <span class="ss">``</span><span class="n">two</span><span class="o">-</span><span class="n">A</span><span class="ss">``</span>
</pre></div>
<p>With the Code Spans dealt with, I moved on to links, using Inline Link elements and
splitting them between two lines are various points in the link itself.  While not
that interesting, it was a good solid scenario that I wanted to make sure was working:</p>
<div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="p">[</span><span class="n">test</span><span class="p">](</span><span class="o">/</span><span class="n">me</span>
<span class="s">"out"</span><span class="p">)</span>
   <span class="mf">1.</span> <span class="p">[</span><span class="n">really</span> <span class="n">test</span><span class="p">](</span><span class="o">/</span><span class="n">me</span>
<span class="s">"out"</span><span class="p">)</span>
<span class="mf">1.</span> <span class="n">three</span>
</pre></div>
<h3 id="tracking-down-the-issues">Tracking Down the Issues<a class="headerlink" href="#tracking-down-the-issues" title="Permanent link">¶</a></h3>
<p>After coding those new tests, I started executing the tests and everything within the
changing parts of the lists looked fine.  However, on the third line of each example,
when the next item of the base list was defined, some of the tests emitted their text
surrounded by a Paragraph tag.  As this relates to
<a href="https://github.github.com/gfm/#loose">whether a List is considered loose</a>,
I took some time to poke around and debug through it.</p>
<p>Looking at the debug, I realized that I had some issues with the function
<code>__reset_list_looseness</code> in the <code>transform_to_gfm.py</code> module.  In trying to be smart
about locating the end of the relevant tokens belonging to a given list, I was going
forward from the start List token looking for the matching end List token.  The problem
was that I was not being selective about which end List token I found, just that I found
a token.</p>
<p>A short while later, I had some changes coded up that kept track of the <code>stack_count</code>
associated with the start List tokens and end List tokens that were seen.  The start
List tokens bumped the count by one and the end List tokens reduced the count by one.
If the <code>stack_count</code> variable was ever zero, it meant that the algorithm had found
the matching end List token, and it broke out of the loop.</p>
<p>After I finished executing the tests and verifying the results, it was clear to me that
I had found and remedied the issue.  While it was not a big issue to fix, it
was a sneaky one to find, and I was happy to resolve it.</p>
<h2 id="sometimes-it-is-not-obvious">Sometimes It Is Not Obvious<a class="headerlink" href="#sometimes-it-is-not-obvious" title="Permanent link">¶</a></h2>
<p>Feeling good from my success and solving the last issue, and with the sinus cold
allowing, I started to work on another issue:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">242</span> <span class="k">with</span> <span class="n">variations</span> <span class="k">on</span> <span class="k">where</span> <span class="n">the</span> <span class="n">blank</span> <span class="n">lines</span> <span class="k">are</span>
</pre></div>
<p>While I remembered adding this item to the issues list, I could not remember anything
around the reason that made me add this to the list.  As I was not aware of the
reasoning
behind the inclusion of this item into the list, and I could not figure out from the
item, I decided to make copies of function <code>test_list_blocks_242</code> and experiment with
the positioning and number of blank lines within the document.  What I found was
interesting.</p>
<p>It was a time where I was very happy that I had taken the time to add consistency
checks, as they caught this problem right away, where the output HTML comparison tests
did not.  The problem?  In cases where the <code>__remove_top_element_from_stack</code> function
in the blank line handling of the <code>tokenized_markdown.py</code> module were removing
blank lines to be added to the document, it was doing so in reverse order.  That reverse
order meant that in cases with multiple blank lines, the latest blank line would be
added first, messing up the ordering in the document.  </p>
<p>Once again, a quick fix, and with a couple of iterations of testing to make sure other
functions were not impacted by that side effect (and mitigating those), things were
taken care of.  Another issue solved and resolved.</p>
<h2 id="variation-on-example-297">Variation on Example 297<a class="headerlink" href="#variation-on-example-297" title="Permanent link">¶</a></h2>
<p>I had some energy left from fighting my cold, and some time left before the American
Thanksgiving holiday started, so I figured I could work on something light.  Hopefully
picking something easy, I picked this task off the list:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="mi">296</span> <span class="nv">and</span> <span class="mi">297</span> <span class="o">-</span> <span class="nv">added</span> <span class="nv">in</span> <span class="nv">case</span> <span class="k">for</span> <span class="nv">LRD</span>, <span class="nv">but</span> <span class="nv">need</span> <span class="nv">to</span> <span class="nv">test</span>:
  <span class="o">-</span> <span class="nv">other</span> <span class="nv">types</span> <span class="nv">of</span> <span class="nv">blocks</span>
  <span class="o">-</span> <span class="nv">block</span>, <span class="nv">blank</span>, <span class="k">then</span> <span class="nv">multiple</span> <span class="nv">blocks</span>
</pre></div>
<p>After a quick look at the Markdown for
<a href="https://github.github.com/gfm/#example-297">example 297</a>:</p>
<div class="highlight"><pre><span></span><span class="o">-</span><span class="w"> </span><span class="n">a</span><span class="w"></span>
<span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="w"></span>

<span class="w">  </span><span class="o">[</span><span class="n">ref</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="o">/</span><span class="n">url</span><span class="w"></span>
<span class="o">-</span><span class="w"> </span><span class="n">d</span><span class="w"></span>
</pre></div>
<p>I had a good feeling that I would be able to deal with this issue in a couple of hours
or less. To deal with this issue properly, I quickly created variations on function
<code>test_list_items_297</code> to
test those different scenarios.  Instead of a Link Reference Definition in each
variation, I used an Atx Heading element, a SetExt Heading element, a HTML Block
element, an Indented Code Block element, and a Fenced Code Block element.  Just for
good measure, I added an extra scenario test that had a Fenced Code Block element
followed by a HTML Block element.</p>
<p>After adding those scenario test and executing them, I was greeted by
the good news which was that the tokens and the output HTML matched what was expected
of each test.  The only issue was in the Markdown generator where the original Markdown
was being reconstructed from the tokens.  After a quick bit of debugging was done
around the processing of the Html Block token, a small change was needed in the function
<code>__merge_with_container_data</code> to allow the <code>remove_trailing_newline</code> variable to be set
if the block ends with a newline character.  With those small changes in place, the
newly added scenarios worked fine, generating the correct Markdown to match the
original Markdown.</p>
<h2 id="fun-with-list-elements">Fun with List Elements<a class="headerlink" href="#fun-with-list-elements" title="Permanent link">¶</a></h2>
<p>I do not have any notes on why I picked this task:</p>
<div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">test_link_reference_definitions_185f</span> <span class="o">&amp;</span> <span class="n">test_link_reference_definitions_183f</span>
</pre></div>
<p>but it was a fairly interesting task to pick.  Previously, I had disabled both
tests as I was not able to get them working previously.  And it was not
much, but I somewhat remembered working on both these items for at least a couple
of hours each, and not making much progress.  As I said, this was going to be
interesting.</p>
<p>The good news was that, after a small amount of debugging, I was convinced that I
was looking at two separate issues.   While I did not have any concrete information,
I had a strong feeling that the <code>test_link_reference_definitions_183f</code> function
failures were due to the Block Quote element in the Markdown, while the
<code>test_link_reference_definitions_185f</code> function was simply an issue of getting
the Markdown generator adjusted properly.</p>
<h3 id="debugging-the-issues">Debugging the Issues<a class="headerlink" href="#debugging-the-issues" title="Permanent link">¶</a></h3>
<p>Picking what I thought was the easy issue to solve, I decided to start working on
the problem with the handling of the Block Quote element.  This happened to be a good
choice as some simple debugging showed me that the issue was a simple one of
not closing off an active List before starting off the Block Quote element.  I
quickly fixed that by adding a simple loop in the <code>__ensure_stack_at_level</code> function of
the <code>BlockQuoteProcessor</code> class to ensure that occurs before the Block Quote itself
is started.</p>
<p>With that part of the issue fixed, my focus shifted to dealing with ensuring that
the Markdown was being properly generated.  After a couple of hours of debugging,
I finally figured out that the failures were being caused when the already transformed
data ends with a newline character, and the next token to transform is either a normal
text token, or one of the <code>SpecialTextToken</code> related tokens:  Links, Images, and
Emphasis tokens.  In each case, these tokens somehow interrupted the accumulated text,
leaving it ending with a newline character.  To properly add any more text to that
accumulated text, the new data to be added needs to be processed differently to
accommodate that break.</p>
<p>Like one of the previous sections, the first issue was relatively quick to fix,
while the second issue took hours.  Working through the debugging with a sinus cold
was a bit of a slog, but it was a good issue to take off the list.</p>
<h2 id="bulking-up-the-series-m-tests">Bulking Up the Series M Tests<a class="headerlink" href="#bulking-up-the-series-m-tests" title="Permanent link">¶</a></h2>
<p>It was Saturday afternoon and I had finished doing some work around my house.  While
I was a bit fatigued, I felt that the
sinus cold was letting up enough that I could spend some weekend time making some
progress on getting more depth to the Series M scenarios.  To do that, I basically
started by placing each of the tests in Series M of the scenario tests into their own
tables.  Having over 45 tests at that point, that separation was equal parts necessity
for my sanity to keep each table separate and readability for anyone looking at them.</p>
<p>Adding 60 scenario tests to the series, I added 10 scenario tests in each of the six
groups within the series.  While there were small variations to each group of tests,
the underlying tests were essentially the same 10 tests added each time.  And just
as I have mentioned before, the process was a long one: adding the rough form of
the specific test to the table, adding a scenario test to match that rough form,
and then dialing in the example, the token list, and cleaning up the final form of the
entry in the table.  And as usually, it was a long, grueling process.</p>
<h3 id="powering-through-the-scenarios">Powering Through the Scenarios<a class="headerlink" href="#powering-through-the-scenarios" title="Permanent link">¶</a></h3>
<p>The bad news was that I did not get everything done.  After working hard to
get all tests passing, there were 35 tests that for one reason or another were not
passing.  Between the scope of the changes and the last vestiges of my sinus cold,
I did not think twice of marking those failed tests with <code>@pytest.mark.skip</code>, to be
handled in the following week.  I had a feeling that this task was more than I
could handle in the time allotted with the energy I had, and I was right. Regardless,
I had 25 new scenario tests passing where I did not have them before.</p>
<p>The good news was that in those 25 new scenario tests, I only found two issues that
I needed to fix and was able to fix.  The most obvious one was in the case of two
empty start List elements, nested together on the same line.  Following through the
code and the log files for that scenario test, it was immediately obvious to me that
assigning the first element of the result from the function
<code>parse_line_for_container_blocks</code> to <code>_</code> (in essence, throwing it away), was the
wrong thing to do.   Assigning that first element to the <code>produced_inner_tokens</code>
variable and adding the line:</p>
<div class="highlight"><pre><span></span><span class="n">parser_state</span><span class="o">.</span><span class="n">token_document</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">produced_inner_tokens</span><span class="p">)</span>
</pre></div>
<p>Fixed that problem. One down, one to go.</p>
<h3 id="digging-deep-into-the-issue">Digging Deep into The Issue<a class="headerlink" href="#digging-deep-into-the-issue" title="Permanent link">¶</a></h3>
<p>The other issue that I found was in dealing with empty
list starts in the <code>__pre_list</code> function.  In one of the first iterations of this
function, I added code in the <code>True</code> evaluation of
<code>if after_marker_ws_index == len(line_to_parse):</code> to handle those empty list items.
After a lot of work to come up with the correct formula, I had settled on the code
in that function, part of it for empty list items, and the other part of it for the
non-empty list items.  And that worked well.</p>
<p>That is until I started looking at it considering the new examples added during these
tasks.  Looking at why scenario tests with empty list items were failing, I kept on
looking at this <code>__pre_list</code> function.  And with each debugging session that I came
back to that function, the surer I was that I missed something pivotal.  And that
feeling was getting stronger each time.</p>
<p>Given that feeling, I spent a couple of hours taking that <code>if</code> statement apart and
putting it back together.  Ultimately, I left the <code>True</code> case of the <code>if</code> statement
as it was, but I changed the condition to
<code>after_marker_ws_index == len(line_to_parse) and ws_after_marker</code>.  As for the cases
where <code>ws_after_marker</code> is <code>0</code>, I added the following code to the <code>False</code> case to
handle that:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">after_marker_ws_index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_to_parse</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ws_after_marker</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ws_after_marker</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
<p>After my experimentation, it just seemed like the right thing to do.  I did find other
solutions that were way more complicated than this one, but those solutions were a lot
more convoluted.  This one was simple.  Instead of doing a complicated calculation and
having lots of <code>if</code> statements, this just added a slight adjustment to the variable
<code>ws_after_marker</code>, after which the rest of the <code>False</code> part of the <code>if</code> statement was
executed without change.</p>
<p>While the first solution with the tokens took less than a half an hour to code and
test, when all was said and done, more than five hours had been spent on the task.
But even though it took a while, I was pleased with the result, and I am confident
that the time was well spent in upgrading those solutions.</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>In the beginning of this project, having those 35 scenario tests marked as skipped
would have hung heavily over me.  But at this stage of the project, I recognized that
it was a necessary tool at my disposal.  Instead of waiting until all 60 new scenario
tests were working 100%, it was better to chip away at those tests, committing those
changes to the repository as I went.  Having worked on this project for almost a
year at this point, I knew there were going to be things that ended up running away
from me.  I also knew that while I try and break bigger issues into smaller issues,
there are times that is not possible, for one reason or another.  In this case, I
was concerned that if I did not add all 60 scenarios at once, I would miss one and
it would be hard to detect.  It just meant I would have to adjust.</p>
<p>And for me, both in my professional life and with this project, is the big takeaway
that I have learned in the last couple of years.  It is extremely important to
set expectations at a healthy level that can be sustained.  Too little, and you can
be viewed as taking it easy.  Too much, and you may be expected to sustain that level
of output for months or years.  I have found great success in clearly stating my
goals and how I plan to achieve them, and resetting expectations on a weekly or
daily basis.  It just makes sense to me.  Well, it does now.  That was not always the
case.</p>
<p>From my point of view, I could not see a clear way to break up that big issue without
sacrificing the quality in the Series M group changes.  So, I reset my own expectations
for resolving that issue, promising myself that I would address each of those skipped
tests in the next week.  And I was at peace with my decision to do that.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>Leaving 35 scenario tests marked as skipped because I could not figure them out
did not sit well with me, so I made them the priority for the following week.</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2011&url=https%3A//jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2011&amp;body=https%3A//jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-delving-into-the-issues-11"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" title="Previous: Markdown Linter - Delving Into the Issues - 10">Markdown Linter - Delving Into the Issues - 10</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2020/12/14/markdown-linter-delving-into-the-issues-12/" title="Next: Markdown Linter - Delving Into the Issues - 12">Markdown Linter - Delving Into the Issues - 12</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~15 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-12-07T00:00:00-08:00">Dec 7, 2020</time>
        <h4>Markdown Linter Issues</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2020/09/28/markdown-linter-delving-into-the-issues-1/" title="Markdown Linter - Delving Into the Issues - 1">Part 1: Markdown Linter - Delving Into the Issues - 1</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/05/markdown-linter-delving-into-the-issues-2/" title="Markdown Linter - Delving Into the Issues - 2">Part 2: Markdown Linter - Delving Into the Issues - 2</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/12/markdown-linter-delving-into-the-issues-3/" title="Markdown Linter - Delving Into the Issues - 3">Part 3: Markdown Linter - Delving Into the Issues - 3</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/19/markdown-linter-delving-into-the-issues-4/" title="Markdown Linter - Delving Into the Issues - 4">Part 4: Markdown Linter - Delving Into the Issues - 4</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/26/markdown-linter-delving-into-the-issues-5/" title="Markdown Linter - Delving Into the Issues - 5">Part 5: Markdown Linter - Delving Into the Issues - 5</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/02/markdown-linter-delving-into-the-issues-6/" title="Markdown Linter - Delving Into the Issues - 6">Part 6: Markdown Linter - Delving Into the Issues - 6</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/09/markdown-linter-delving-into-the-issues-7/" title="Markdown Linter - Delving Into the Issues - 7">Part 7: Markdown Linter - Delving Into the Issues - 7</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/16/markdown-linter-delving-into-the-issues-8/" title="Markdown Linter - Delving Into the Issues - 8">Part 8: Markdown Linter - Delving Into the Issues - 8</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/23/markdown-linter-delving-into-the-issues-9/" title="Markdown Linter - Delving Into the Issues - 9">Part 9: Markdown Linter - Delving Into the Issues - 9</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" title="Markdown Linter - Delving Into the Issues - 10">Part 10: Markdown Linter - Delving Into the Issues - 10</a>
            </li>
            <li  class="active-part">
            Part 11: Markdown Linter - Delving Into the Issues - 11
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/14/markdown-linter-delving-into-the-issues-12/" title="Markdown Linter - Delving Into the Issues - 12">Part 12: Markdown Linter - Delving Into the Issues - 12</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/21/markdown-linter-delving-into-the-issues-13/" title="Markdown Linter - Delving Into the Issues - 13">Part 13: Markdown Linter - Delving Into the Issues - 13</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/28/markdown-linter-delving-into-the-issues-14/" title="Markdown Linter - Delving Into the Issues - 14">Part 14: Markdown Linter - Delving Into the Issues - 14</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/04/markdown-linter-delving-into-the-issues-15/" title="Markdown Linter - Delving Into the Issues - 15">Part 15: Markdown Linter - Delving Into the Issues - 15</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/" title="Markdown Linter - Delving Into the Issues - 16">Part 16: Markdown Linter - Delving Into the Issues - 16</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/18/markdown-linter-delving-into-the-issues-17/" title="Markdown Linter - Delving Into the Issues - 17">Part 17: Markdown Linter - Delving Into the Issues - 17</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/25/markdown-linter-delving-into-the-issues-18/" title="Markdown Linter - Delving Into the Issues - 18">Part 18: Markdown Linter - Delving Into the Issues - 18</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/02/01/markdown-linter-delving-into-the-issues-19/" title="Markdown Linter - Delving Into the Issues - 19">Part 19: Markdown Linter - Delving Into the Issues - 19</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>63</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>81</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>