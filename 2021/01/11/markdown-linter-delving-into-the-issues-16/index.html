<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I continued working on Block Quote issues and some general clean up that I have wanted to do for a couple of months now. With one week left in my holiday, I wanted to make sure I tackled as many of the big-ticket items that …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Delving Into the Issues - 16 "/>
<meta property="og:url" content="https://jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/" />
<meta property="og:description" content="Summary¶ In my last article, I continued working on Block Quote issues and some general clean up that I have wanted to do for a couple of months now. With one week left in my holiday, I wanted to make sure I tackled as many of the big-ticket items that …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2021-01-11T00:00:00-08:00" />
<meta name="twitter:title" content="Markdown Linter - Delving Into the Issues - 16 ">
<meta name="twitter:description" content="Summary¶ In my last article, I continued working on Block Quote issues and some general clean up that I have wanted to do for a couple of months now. With one week left in my holiday, I wanted to make sure I tackled as many of the big-ticket items that …">

        <title>Markdown Linter - Delving Into the Issues - 16  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/">
                Markdown Linter - Delving Into the Issues - 16
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#enhancing-code-quality">Enhancing Code Quality</a></li>
<li><a href="#enhancing-some-more">Enhancing Some More</a></li>
<li><a href="#closing-the-test-loop">Closing the Test Loop</a></li>
<li><a href="#keeping-things-simple">Keeping Things Simple</a></li>
<li><a href="#reorganizing-the-series-m-file">Reorganizing the Series M File</a></li>
<li><a href="#collapsing-ordered-and-unordered-list-processing">Collapsing Ordered and Unordered List Processing</a><ul>
<li><a href="#the-first-step">The First Step</a></li>
<li><a href="#equalizing-the-two-list-blocks">Equalizing the Two List Blocks</a></li>
<li><a href="#refining-list-start-functions">Refining List Start Functions</a></li>
</ul>
</li>
<li><a href="#consolidating-new-block-starts">Consolidating New Block Starts</a></li>
<li><a href="#verifying-paragraph-usage">Verifying Paragraph Usage</a></li>
<li><a href="#as-i-was-making-these-changes">As I Was Making These Changes…</a></li>
<li><a href="#preparing-for-the-future">Preparing for The Future</a></li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2021/01/04/markdown-linter-delving-into-the-issues-15/">last article</a>,
I continued working on Block Quote issues and some general clean up that I have wanted to
do for a couple of months now.  With one week left in my holiday, I wanted to make sure
I tackled as many of the big-ticket items that I can while I have the time.  If I am
going to be doing some work during my holiday, I want to make it count!</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>With a couple of weeks off for the holidays and relatively light “honey-do”<sup id="fnref:honey"><a class="footnote-ref" href="#fn:honey">1</a></sup>
schedule,
I had some free time to devote to getting the project closer to the goal line.  While
I did not want to lose focus on getting the smaller items completed, I had a number
of big-ticket items that I wanted to do.  Because of their size or scope, I wanted to
ensure that I had a dedicated amount of contiguous time to work on each item.  Except
for the occasional weekend, I figured that this would be the best time to work on them
and hopefully get all of them completed in one big push. With a good week left of
New Year’s holiday left to go, it seemed like a good idea to try and get as much done
as i could in the short amount of time I had.  At least, that was my plan.</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather that the solutions themselves.  For a full record of the solutions presented in
this article, please go to this project’s GitHub repository and consult the
commits between
<a href="https://github.com/jackdewinter/pymarkdown/commit/9582d7f984dad91539877a073ef251f272f592e5">28 Dec 2020</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/a0281da5414ec2c45fb32c3d687027ba21f1ccb6">03 Jan 2021</a>.</p>
<h2 id="enhancing-code-quality">Enhancing Code Quality<a class="headerlink" href="#enhancing-code-quality" title="Permanent link">¶</a></h2>
<p>Continuing with the large item cleanup that I had started in the previous week; I was
eager to get some refactoring done on the Markdown token classes.  The first step towards
refactoring those classes was to make each token as read-only as possible, to avoid the
possibility of changing the tokens.  To accomplish this task, I just went through each
token in
order, adding the <code>__</code> prefix to most of the field names, thereby making them private.
With each of those fields now private, I added a new getter property for each field
named after the original field name.  As the property name for the new getter function
matched the old name of the field, any read-only access was able to continue without any
issues.</p>
<p>As with any such change, there are always exceptions that need to be dealt with
individually.  One such case was the <code>active</code> field of the <code>SpecialTextMarkdownToken</code>
class. The first exception was that instead of retaining the name <code>active</code>, I felt that
the name <code>is_active</code> was more descriptive.  The second exception was that this token
type is used to look for starts and ends of various inline token sequences.  As such,
when those sequences are found, the previous instances of those tokens are marked as
inactive, meaning they will not be used any more.  To take care of this, I introduced
to that token a new function <code>deactivate</code>, specifically used to deactivate the token
without exposing the token’s member variable in its private form.</p>
<p>Once this refactoring was completed, I realized that the <code>markdown_token.py</code> module
was way too large for my liking and needed to be broken down.  Keeping the base
<code>MarkdownToken</code> and <code>EndMarkdownToken</code> classes in their original file, I started to
move every Markdown token to one of three new modules: one for container block tokens,
one for leaf block tokens, and one for inline tokens.  Once the tokens were in their
new modules and all tests passed, I added a new base token class for each of the three
new modules and switched the base class for each token to the new base token in the
same module.  By switching over each token to use these three new base classes, I was
able to further reduce the amount of code in each token.  While it was not too much of
a reduction, it was a reduction I felt good about.</p>
<h2 id="enhancing-some-more">Enhancing Some More<a class="headerlink" href="#enhancing-some-more" title="Permanent link">¶</a></h2>
<p>When I started working on this group of tasks, the first thing that came to mind was
the words to an old campfire song I learned long ago in Boy Scouts of Canada.  While
it is a silly song named
<a href="https://makingmusicfun.net/htm/f_mmf_music_library_songbook/nelly_in_the_barn_lyrics.php">Nelly In The Barn</a>,
the bit between the verses goes:</p>
<blockquote>
<p>Second verse, same as the first, a little bit louder and a little bit worse!</p>
</blockquote>
<p>I could think of no phrase better to describe what I needed to do with the <code>StackToken</code>
class.  Having had good success with changing all the <code>MarkdownToken</code> classes to use
private fields and <code>is_x</code> methods (as detailed in my last article), I felt that the
<code>StackToken</code> class needed the same treatment.</p>
<p>Unlike the almost 20 classes for <code>MarkdownToken</code> descended classes, the transformation
on the 9 classes descended from <code>StackToken</code> went by quickly.  Like the changes made to the
<code>MarkdownToken</code>
classes, I was emboldened to make these changes due to the confidence of having a large
group of scenario tests that I can use to look for any issues.  Without that large
group of tests, I would be worried that I would fix one thing, only to break something
else in a related piece of code that I forgot about.</p>
<h2 id="closing-the-test-loop">Closing the Test Loop<a class="headerlink" href="#closing-the-test-loop" title="Permanent link">¶</a></h2>
<p>As I noted in the section of the last article entitled
<a href="{filename}/articles/SoftwareQuality/#making-the-test-invocation-more-efficient#making-the-test-invocation-more-efficient">Making the Test Invocation More Efficient</a>,
I implemented a change to how I invoked the test infrastructure to reduce the needed code
from eight lines (1 blank line, 2 comment lines, and 5 code lines) to two lines (1 comment
line and 1 code line).  Having done some further examination of those changes, I felt that
those changes had settled in nicely and it was time to propagate those changes to all
similar test functions.</p>
<p>I had a good model for the changes, but even so, the work was very monotonous.  With just
short of 2000 scenario tests that required changing, it was a test of wills: me versus
the code base.  To keep myself motivated, I kept a search window open on the side of my
editor, selecting a new group of tests to modify whenever I found myself getting bored.
Even after taking extra breaks to do household chores, I still found that it was a tough
task.  But I knew it was a good task to do, so even though I could feel the lobes of my
brain numbing with each keystroke, I pressed forward with making the changes.</p>
<h2 id="keeping-things-simple">Keeping Things Simple<a class="headerlink" href="#keeping-things-simple" title="Permanent link">¶</a></h2>
<p>Having ensured that all end Markdown tokens had their <code>start_markdown_token</code> field set, I
looked at the code to figure out if there were any redundancies that were introduced with
that change.  As
that field points to the start Markdown token, there was a good chance that I had stored
duplicate data in the <code>EndMarkdownToken</code> to avoid having to calculate the start Markdown
token for some of the tokens.  It was just a matter of identifying any such tokens.</p>
<p>While I was sincerely expecting more of an impact, the only change that I was able to
perform was around the end Markdown token generated for the <code>EmphasisMarkdownToken</code>
token.  To get around the constraints at the time that it was written, I had added
duplicated data to that end token
to denote the length of the emphasis and the emphasis character.  With that actual start
token now available for reference, I was able to replace the duplicate data stored in the
<code>EndMarkdownToken</code> with a reference to the <code>EmphasisMarkdownToken</code> instance.</p>
<p>No longer needing that duplicate data, I removed it from the <code>__process_emphasis_pair</code>
function. The fallout of that change was approximately 200 instances where I needed to
replace the now useless data with the string <code>:</code>.  To make things easier while editing,
I simply kept the text <code>:::</code> in the clipboard, searched for <code>[end-emphasis(</code>, and replaced
the first three characters after the <code>)</code> character.  It was mind numbing work that I did
in three or four shifts, but I got it done.  Running the tests, everything was working
except for a couple of tests.  Investigating each of those failed tests, the failures
were all simple typing errors, quickly fixed to make the tests pass.</p>
<h2 id="reorganizing-the-series-m-file">Reorganizing the Series M File<a class="headerlink" href="#reorganizing-the-series-m-file" title="Permanent link">¶</a></h2>
<p>This task was a pure cut-and-paste task, but one that I really needed to do. At over
10 thousand lines of code, the <code>test_markdown_paragraph_series_m.py</code> module was just
way too big!  I was initially okay with the size of the module, seeing that all the
scenario tests in the file were related to each other.  But as I started to add more
and more tests to that one large file, it was becoming too difficult to work on
in that form.  As such, I simply create one file for each group of tests, such
as <code>test_markdown_paragraph_series_m_fb.py</code> for the Fenced Code Block tests, and moved
the test functions into their new home.</p>
<h2 id="collapsing-ordered-and-unordered-list-processing">Collapsing Ordered and Unordered List Processing<a class="headerlink" href="#collapsing-ordered-and-unordered-list-processing" title="Permanent link">¶</a></h2>
<p>At the start of the project, while I was working through the initial parts of the parser,
I was not sure that the processing of Ordered List Blocks and Unordered List Blocks would
overlap.  With almost a year of processing accomplished, I now had a very solid observation
on that subject.  Most of the processing overlapped, and overlapped cleanly.  Now it was
just a manner of taking the time to surgically merge two List Block token concepts into one
in different places in the source code.</p>
<h3 id="the-first-step">The First Step<a class="headerlink" href="#the-first-step" title="Permanent link">¶</a></h3>
<p>A big first step on this journey was to move the code for calculating the looseness of
a HTML rendered list from the <code>TransformToGfm</code> class into the new
<code>TransformToGfmListLooseness</code> class.  While it was just a simple cut-and-paste move,
I feel that the move left the <code>TransformToGfm</code> class better able to focus on the HTML
transformation, instead of also having the responsibility of figuring out the list
looseness.  It just felt cleaner to have that responsibility in its own class and module.</p>
<p>Along with that change, I made equal changes to how the List Block starts were processed
in the HTML transformer and the Markdown Transformer.  In the HTML transformer, the
<code>__handle_start_unordered_list_token</code> function was renamed to <code>__handle_start_list_token</code>
and the <code>__handle_start_ordered_list_token</code> function code was merged into that function.
In the Markdown transformer, the same process was repeated with the
<code>__rehydrate_unordered_list_start</code> function was renamed to <code>__rehydrate_list_start</code>
and the <code>__rehydrate_unordered_list_start_end</code> function code was merged into that function.</p>
<p>That merge allowed for the handler calls in each module to deal more simply with the List
Blocks, something that was worth it to me.</p>
<h3 id="equalizing-the-two-list-blocks">Equalizing the Two List Blocks<a class="headerlink" href="#equalizing-the-two-list-blocks" title="Permanent link">¶</a></h3>
<p>Having done a lot of testing with the Unordered List Blocks, I felt it was time to give
some extra focus to the Ordered List Blocks.  Before the holiday break
started, I had noticed a handful of cases where the Ordered List Blocks had errors in
them that I thought should have been caught by existing tests.  While fixing this issue
was not the primary goal of this round of refactoring, I considered it a simple  secondary
goal that I should only have to fix list issues once, not twice.</p>
<p>Looking at the second half of the <code>is_ulist_start</code> function, I noticed that there
were significant differences from its sibling <code>is_olist_start</code> function.  Slowly, I started
making changes to the <code>is_ulist_start</code> function, bringing it more in line with it sibling.
But after making those changes, I still had the task of making sure that those changes
were working properly.  As any failures were not already caught, but discovered through
other tests, I figured that I needed to stop up my test game.</p>
<p>To start this off, I picked six scenarios from each of Series M tests and made copies of
those tests.  Instead of using the Order List Blocks in those tests, I replaced the Ordered
List Blocks with Unordered List Blocks.  It was only after adding those 108 scenario tests
that I was confident that those changes had a good start at getting coverage.  And it paid
off too.  The only issues that were found were in the
<code>__perform_container_post_processing_lists</code> function, where the data to be merged with
the surrounding list had to be massaged before a call to <code>__merge_with_container_data</code> and
restored after that call was completed.</p>
<h3 id="refining-list-start-functions">Refining List Start Functions<a class="headerlink" href="#refining-list-start-functions" title="Permanent link">¶</a></h3>
<p>The final set of functionality to merge was the <code>is_ulist_start</code> function and the
<code>is_olist_start</code> function.  Both of these functions had been on my “refactor” list for a
while, so I was glad to get started on them.  On closer examination, there were only a
few statements or values that changed between the two functions.  Once
the setup was accomplished in the first half of the function, the second half was near
identical.  Creating a new <code>__xxx</code> function, I cut the second half of one of those two
functions and pasted it in that new function.  After checking to make sure nothing was lost
in the cut-and-paste, I compared it line-by-line with the similar code in the other
function, adjusting both functions to be represented by the new function.</p>
<p>After a couple of rewind moments, the new <code>__xxx</code> function incorporated the process from
both original functions.  With that accomplished and staged, I removed the second function
and used the new function in its place.  After fixing a couple of small issues, the new
function was up and running and working for both Ordered List Blocks and Unordered List
Blocks.</p>
<p>At that time, I remember looking at the code and thinking that I had only completed half
of the job.  Repeating the same process that got me to that point, I soon renamed the
<code>__xxx</code> function to <code>__is_start_phase_two</code>, and further extracted code into a new
<code>__is_start_phase_one</code> function.  With that done, the <code>is_olist_start</code> function was
already slim, and I extracted the remaining logic into the <code>__is_start_olist</code> function
to keep it slim, replicating that processing with the <code>is_ulist_start</code> function.</p>
<p>In the end, I was very satisfied with the amount of refactoring that I was able to
accomplish.  Both methods were now six statements long, with 95% of the differing
functionality in the <code>__is_start_olist</code> function and the <code>__is_start_ulist</code> function.
While it was a good feeling getting the refactoring done, it was an even better feeling
knowing that I had a healthy set of test cases that I could count on when refactoring!</p>
<h2 id="consolidating-new-block-starts">Consolidating New Block Starts<a class="headerlink" href="#consolidating-new-block-starts" title="Permanent link">¶</a></h2>
<p>Having poured through the code looking for things to simplify, I was keenly aware of one
set of function calls that I could simplify: detecting new block starts.  Developed in
different parts of the code for similar reasons, both the List Block Processor’s
<code>__check_for_list_closures</code> function and the Block Quote Processor’s
<code>check_for_lazy_handling</code> function were performing almost the same set of
instructions.  One by one, the different Leaf Block start functions were being invoked
to determine if a newline indicated the start of a new block.</p>
<p>It was not a big change but consolidating that code into the
<code>is_paragraph_ending_leaf_block_start</code> function just made things cleaner.  There was just
one function to call with good documentation on what was going on.  It just made sense
to me.</p>
<h2 id="verifying-paragraph-usage">Verifying Paragraph Usage<a class="headerlink" href="#verifying-paragraph-usage" title="Permanent link">¶</a></h2>
<p>Just before I started writing on that Sunday morning, I decided to add something that was
hopefully going to be a slam dunk.  While I was reasonably sure that all the various
referenced to Paragraph elements and any newlines within them were accounted for, I wanted
to be doubly sure.  So, to be sure of that, I added the following code to the end of
the <code>__rehydrate_paragraph_end</code> function:</p>
<div class="highlight"><pre><span></span>        <span class="n">rehydrate_index</span> <span class="o">=</span> <span class="n">current_token</span><span class="o">.</span><span class="n">start_markdown_token</span><span class="o">.</span><span class="n">rehydrate_index</span>
        <span class="n">expected_rehydrate_index</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">current_token</span><span class="o">.</span><span class="n">start_markdown_token</span><span class="o">.</span><span class="n">extracted_whitespace</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">rehydrate_index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">expected_rehydrate_index</span><span class="p">),</span> <span class="p">(</span>
            <span class="s2">"rehydrate_index+1="</span>
            <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">rehydrate_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="o">+</span> <span class="s2">";expected_rehydrate_index="</span>
            <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">expected_rehydrate_index</span><span class="p">))</span>
        <span class="p">)</span>
</pre></div>
<p>Basically, by the end of the Paragraph element’s processing, the <code>rehydrate_index</code> member
variable should have been incremented once for each newline contained within the paragraph.
If this did not happen, it means that the use of that <code>rehydrate_index</code> member variable is
potentially off and needs to be fixed.</p>
<p>Surprisingly, even after adding some extra tests, the only one element had issues: the
Raw HTML element.  In the main parser’s <code>parse_raw_html</code> function, the raw text to use
for the tag was not properly accounting for the newline, something that was quickly fixed.
This pattern continued in the Markdown generator’s <code>__rehydrate_inline_raw_html</code> function,
where I specifically created the <code>__handle_extracted_paragraph_whitespace</code> to handle the
pulling apart and reintegration of that information.  This was a useful function to have
as I found some small issues with the <code>__rehydrate_inline_code_span</code> function that required
applying that function to the various parts of the Code Span element.  Finally, to round
out the fixes, the <code>__verify_next_inline_raw_html</code> function needed to have a similar
approach taken to address the last issues with the <code>rehydrate_index</code>.</p>
<p>Given that it could have been a lot more cumbersome to fix, I was happy that I got off with
a relatively light amount of work!</p>
<h2 id="as-i-was-making-these-changes">As I Was Making These Changes…<a class="headerlink" href="#as-i-was-making-these-changes" title="Permanent link">¶</a></h2>
<p>During the middle of these changes, I rearranged the items in the issues list.  My goal was
to take the priorities that I had in my mind and reinforce them in the list.  The only
exceptions to this reorganization were anything that was an immediate focus of what I was
doing at the moment.  The way I rationalized this was that anything that I could set down
for a while was something that I could figure out when to get to it.  With an item that
remained on the list or was newly added to the list, I deemed that the items were more of
an immediate task to get done, and just needed doing.</p>
<p>While it may seem like a bit of a wishy-washy rule, it was one that I still felt fine with
after a couple of days of having the prioritization in place.  Granted, it felt like I was
churning through the immediate task section, but that also felt right.  As I am working on
whatever current task that I need to work on, I observe things in the code and have
questions about whether I took the right approach.  Writing those things down in
the issues list allows me to continue with the task without losing too much of the essence
of what I wanted to verify or question.  To me, that just seems like a good approach!</p>
<h2 id="preparing-for-the-future">Preparing for The Future<a class="headerlink" href="#preparing-for-the-future" title="Permanent link">¶</a></h2>
<p>A major part of this week’s work was to clean things up a bit with bigger tasks that I
do not normally have time for.  As such, I decided to spend about four to five hours during
the week experimenting with <code>SnakeViz</code> and incorporating primitive SnakeViz support
into the project.  While it is too early to say what needs the most
improvement, I can say that I was able to get some good experience working with the tool
and the output HTML that helps visualize the performance.  I engaged in the
experimentation specifically to gain some experience with code profiling, and I can
honestly say that I think I got the experience that I was looking for!</p>
<p>The smart thing about using SnakeViz to profile is that it is interactive.  To ensure
that a user can dig down and get relevant information, SnakeViz takes a performance
analysis file and hosts fragments of it through a webserver that it starts.  As the
webserver is starting, SnakeViz also launches it own page in its users own browser.
After that, it is just a matter of clicking around and displaying information on any
number of functions that were executed during the code profile run.</p>
<p>I do not know if everyone will have the same experience that I did, but I found the
interface simple and easy to use.  When I start focusing on performance, I know I will
spend a decent amount of time looking at the <code>tottime</code> column which displays the total
amount of time that was spent in each function during the entire code profile run.
I expect I will look at the top few items on that list and try and figure out why they
are taking that much time.  After making some guesses and changes to the code to match,
rerunning the code profile run with the exact same data will be pivotal.</p>
<p>While it is still at least a month or so off, I am looking forward to using this tool
and making the code perform well!</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>In terms of actual issues that I fixed during this week, the count was either low or
zero depending on who was doing the accounting.  But the big win was getting most of
the big-ticket items taken care of.  To be honest, it was a lot of pressure off my
mind getting those big items done.  From my viewpoint, I am not sure that I would have
felt okay with an initial release the project without those items being addressed.  It
was just good housekeeping, and now it was done!</p>
<p>It just felt good to make the time to get those big-ticket items resolved.  While it
can be argued that there were not that many real changes to the code base, each of those
changes made a significant impact to my confidence about the project.  The refactoring
to provide easy and private access to the tokens?  It increased my confidence that I
have not missed any weird side effects.  The reorganizing and simple cleanup? It increased
my confidence that I had extra “stuff” to maintain across the code base that would make
things more complicated.  Consolidating the List Block code?  It increased my confidence
that I have captured a healthy set of scenarios that properly test both Ordered List Blocks
and Unordered List Blocks.  Each change simply increased my confidence by safely
reducing the amount of required code in the project.</p>
<p>It also felt good for another reason: it was fun.  Sure, there were boring parts, like
making 2000 changes for the scenario test refactor.  That was definitely not fun.  But
that was kind of fun because it was something for the project that was different.  It
was not the same old test-fix-run and repeat process that I had been doing for months.  It
was just something different.  And that was just fun to do sometimes.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>With most of the big-ticket tasks out of the way, I needed to buckle down and try and
resolve as many of the Block Quote items in the unprioritized section as possible.
While it would not be as fun as the big-ticket items, it knew they were worth doing and
it would get me closer to an initial release.</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:honey">
<p>To be fair, in our household we have one honey-do list for me and one honey-do list for my spouse.  And we both ignore some items until reminded and get some items off the list on our own.  You know, typical list. <a class="footnote-backref" href="#fnref:honey" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2016&url=https%3A//jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Delving%20Into%20the%20Issues%20-%2016&amp;body=https%3A//jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2021/01/11/markdown-linter-delving-into-the-issues-16/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-delving-into-the-issues-16"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2021/01/04/markdown-linter-delving-into-the-issues-15/" title="Previous: Markdown Linter - Delving Into the Issues - 15">Markdown Linter - Delving Into the Issues - 15</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2021/01/18/markdown-linter-delving-into-the-issues-17/" title="Next: Markdown Linter - Delving Into the Issues - 17">Markdown Linter - Delving Into the Issues - 17</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~16 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-01-11T00:00:00-08:00">Jan 11, 2021</time>
        <h4>Markdown Linter Issues</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2020/09/28/markdown-linter-delving-into-the-issues-1/" title="Markdown Linter - Delving Into the Issues - 1">Part 1: Markdown Linter - Delving Into the Issues - 1</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/05/markdown-linter-delving-into-the-issues-2/" title="Markdown Linter - Delving Into the Issues - 2">Part 2: Markdown Linter - Delving Into the Issues - 2</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/12/markdown-linter-delving-into-the-issues-3/" title="Markdown Linter - Delving Into the Issues - 3">Part 3: Markdown Linter - Delving Into the Issues - 3</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/19/markdown-linter-delving-into-the-issues-4/" title="Markdown Linter - Delving Into the Issues - 4">Part 4: Markdown Linter - Delving Into the Issues - 4</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/10/26/markdown-linter-delving-into-the-issues-5/" title="Markdown Linter - Delving Into the Issues - 5">Part 5: Markdown Linter - Delving Into the Issues - 5</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/02/markdown-linter-delving-into-the-issues-6/" title="Markdown Linter - Delving Into the Issues - 6">Part 6: Markdown Linter - Delving Into the Issues - 6</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/09/markdown-linter-delving-into-the-issues-7/" title="Markdown Linter - Delving Into the Issues - 7">Part 7: Markdown Linter - Delving Into the Issues - 7</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/16/markdown-linter-delving-into-the-issues-8/" title="Markdown Linter - Delving Into the Issues - 8">Part 8: Markdown Linter - Delving Into the Issues - 8</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/23/markdown-linter-delving-into-the-issues-9/" title="Markdown Linter - Delving Into the Issues - 9">Part 9: Markdown Linter - Delving Into the Issues - 9</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/11/30/markdown-linter-delving-into-the-issues-10/" title="Markdown Linter - Delving Into the Issues - 10">Part 10: Markdown Linter - Delving Into the Issues - 10</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/07/markdown-linter-delving-into-the-issues-11/" title="Markdown Linter - Delving Into the Issues - 11">Part 11: Markdown Linter - Delving Into the Issues - 11</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/14/markdown-linter-delving-into-the-issues-12/" title="Markdown Linter - Delving Into the Issues - 12">Part 12: Markdown Linter - Delving Into the Issues - 12</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/21/markdown-linter-delving-into-the-issues-13/" title="Markdown Linter - Delving Into the Issues - 13">Part 13: Markdown Linter - Delving Into the Issues - 13</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2020/12/28/markdown-linter-delving-into-the-issues-14/" title="Markdown Linter - Delving Into the Issues - 14">Part 14: Markdown Linter - Delving Into the Issues - 14</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/04/markdown-linter-delving-into-the-issues-15/" title="Markdown Linter - Delving Into the Issues - 15">Part 15: Markdown Linter - Delving Into the Issues - 15</a>
            </li>
            <li  class="active-part">
            Part 16: Markdown Linter - Delving Into the Issues - 16
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/18/markdown-linter-delving-into-the-issues-17/" title="Markdown Linter - Delving Into the Issues - 17">Part 17: Markdown Linter - Delving Into the Issues - 17</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/01/25/markdown-linter-delving-into-the-issues-18/" title="Markdown Linter - Delving Into the Issues - 18">Part 18: Markdown Linter - Delving Into the Issues - 18</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/02/01/markdown-linter-delving-into-the-issues-19/" title="Markdown Linter - Delving Into the Issues - 19">Part 19: Markdown Linter - Delving Into the Issues - 19</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>53</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>71</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2020 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>