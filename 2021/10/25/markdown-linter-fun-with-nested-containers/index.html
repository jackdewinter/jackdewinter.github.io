<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I talked about my continuing efforts to clean up the scenario tests and the existing parser issues. In this article, I continue to talk about cleaning up existing parser issues. Introduction¶ It is yet another week of me working on bugs, and I can easily …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Fun With Nested Containers "/>
<meta property="og:url" content="https://jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/" />
<meta property="og:description" content="Summary¶ In my last article, I talked about my continuing efforts to clean up the scenario tests and the existing parser issues. In this article, I continue to talk about cleaning up existing parser issues. Introduction¶ It is yet another week of me working on bugs, and I can easily …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2021-10-25T00:00:00-07:00" />
<meta name="twitter:title" content="Markdown Linter - Fun With Nested Containers ">
<meta name="twitter:description" content="Summary¶ In my last article, I talked about my continuing efforts to clean up the scenario tests and the existing parser issues. In this article, I continue to talk about cleaning up existing parser issues. Introduction¶ It is yet another week of me working on bugs, and I can easily …">

        <title>Markdown Linter - Fun With Nested Containers  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/">
                Markdown Linter - Fun With Nested Containers
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#issue-72-fun-with-nested-blocks">Issue 72 - Fun with Nested Blocks</a></li>
<li><a href="#issue-74-more-fun-with-nested-blocks">Issue 74 - More Fun With Nested Blocks</a><ul>
<li><a href="#doing-the-hard-work">Doing The Hard Work</a></li>
</ul>
</li>
<li><a href="#issue-76-nested-unordered-list-fun">Issue 76 - Nested Unordered List Fun</a></li>
<li><a href="#issue-79-fixing-rule-md005">Issue 79 - Fixing Rule Md005</a><ul>
<li><a href="#how-did-this-happen">How Did This Happen?</a></li>
<li><a href="#what-next">What Next?</a></li>
</ul>
</li>
<li><a href="#issue-77-fun-with-scripts">Issue 77 - Fun with Scripts</a><ul>
<li><a href="#starting-from-scratch">Starting From Scratch</a></li>
<li><a href="#digging-deeper">Digging Deeper</a></li>
<li><a href="#scripts-and-permissions">Scripts and Permissions</a></li>
</ul>
</li>
<li><a href="#release-092">Release 0.9.2</a></li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="{filename}/articles/SoftwareQuality/beta-bugs-d.md">last article</a>, I talked
about my continuing efforts to clean up the scenario tests and the existing parser
issues. In this article, I continue to talk about cleaning up existing parser issues.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>It is yet another week of me working on bugs, and I can easily tell that progress
is being made to reduce the amount of outstanding work.  As I look at the Issues
List, the number of issues above the Priority 3 line is dwindling, and that is
a good thing.  Depending on how I look at the Issues List, I can just about see
both headings for Priority 2 and Priority 3 at the same time!  For me, that is
progress!</p>
<p>And while it was not planned, almost all the work that I did this week was related
to nested container blocks in some way, so that was interesting.  As the only way
that I make that progress is by buckling down and getting stuff done, here I go!</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather than the solutions themselves.  For a full record of the solutions presented in
this article, please consult the commits that occurred between
<a href="https://github.com/jackdewinter/pymarkdown/commit/d3618cc194ae490a71e6360ebc6473616ff40095">20 Oct 2021</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/e55b0bbfbee2cdfee8666489e65da7fc6106f14a">24 Oct 2021</a>.</p>
<h2 id="issue-72-fun-with-nested-blocks"><a href="https://github.com/jackdewinter/pymarkdown/issues/72">Issue 72</a> - Fun with Nested Blocks<a class="headerlink" href="#issue-72-fun-with-nested-blocks" title="Permanent link">¶</a></h2>
<p>Picking an issue somewhat at random, I ended up looking at the following issue:</p>
<div class="highlight"><pre><span></span><span class="n">md006</span> <span class="o">-</span> <span class="n">how</span> <span class="n">works</span> <span class="n">within</span> <span class="n">bq</span><span class="o">?</span>
      <span class="o">-</span> <span class="n">two</span> <span class="n">lists</span> <span class="k">in</span> <span class="n">same</span> <span class="n">top</span><span class="o">-</span><span class="k">level</span><span class="p">...</span> <span class="n">same</span> <span class="n">indent</span><span class="o">?</span>
      <span class="o">-</span> <span class="n">ordered</span> <span class="k">with</span> <span class="n">unordered</span> <span class="n">sub</span><span class="p">,</span> <span class="k">and</span> <span class="n">unordered</span> <span class="k">with</span> <span class="n">ordered</span> <span class="n">sub</span>
</pre></div>
<p>As I delved into the issue, I must admit that I never determined the real purpose
of this rule.  First off, the original rule was disabled, but there was no documented
reason for disabling the rule.  If I had to guess, it was because there was
another rule that did the job better than that one.  Which rule replaced this rule?
I am not sure. If I had to guess, perhaps it was Rule Md007, though I do not
feel that Rule Md007 works as an improved version of Rule Md006.  Secondly, the
rule documentation for Rule Md006 seems… well… incomplete.
It describes lists at the start of the line but does not take any time to exclude
sublists.  It is almost as if someone started to make a rule, gave up in the middle,
and then published that rule.</p>
<p>Those feelings left me with an interesting problem.  The primary goal of the PyMarkdown
project is to provide parity with the Markdown Lint rules.  So far, this is the
only rule where I am not sure that I can provide that required parity. In this
case, I strongly feel that parity alone is not good enough.  While I realized that this
rule is also disabled in PyMarkdown, I did not feel that it gave me any leeway
in implementing something that I felt was half done.  As always, I felt that I
need to do what I thought was right for the PyMarkdown
project.  And in the end, that is what I focused on.  For every other rule,
parity was the best choice.  But I made a firm decision that for this rule, leaving
the rule as-is was the wrong decision.  I needed my version of this rule to
be something I could stand behind my work on.</p>
<p>Given that decision, I started to work on the small adjustments needed to change
the rule to allow it to function with Unordered List elements
inside of another container.  First, I started by adding ten new scenario
tests and verifying that each of the tests were failing.  Then I went back to the
rule module and started to make a couple of targeted changes.  Instead of having
a <code>__list_stack</code>, I replaced it with a <code>__token_stack</code> and placed both List elements
and Block Quote elements on the stack.  After a couple of adjustments to ensure
that the Block Quotes were being added and removed from the stack properly, I moved
the calculation of the expected indentation value into the new
<code>__calculate_expected_indent</code> function.</p>
<p>From there, it was largely trial and error as I worked through the existing scenario
tests, adjusting the calculations within the <code>__calculate_expected_indent</code> function
as I went.  One scenario test at a time, I moved closer to having them all passing
until they were all passing. The big addition to the <code>__calculate_expected_indent</code>
function was that I needed to take the Block Quote characters into account.  Once
I had that figured out, the rest of the stuff was easy.</p>
<h2 id="issue-74-more-fun-with-nested-blocks"><a href="https://github.com/jackdewinter/pymarkdown/issues/74">Issue 74</a> - More Fun With Nested Blocks<a class="headerlink" href="#issue-74-more-fun-with-nested-blocks" title="Permanent link">¶</a></h2>
<p>As I had just finished work on nested container blocks, I thought that it
might be useful to get some other nested block issues out of the way as
well.  I decided to tackle this one:</p>
<div class="highlight"><pre><span></span>### <span class="k">if</span> <span class="nv">time</span> <span class="mi">270</span>, <span class="mi">271</span>, <span class="mi">237</span>, <span class="mi">238</span>

<span class="o">-</span> <span class="nv">with</span> <span class="nv">list</span> <span class="nv">item</span>
<span class="o">-</span> <span class="nv">start</span> <span class="nv">with</span> <span class="nv">blank</span>
<span class="o">-</span> <span class="nv">list</span> <span class="nv">starts</span> <span class="nv">after</span> <span class="nv">bq</span> <span class="nv">starts</span>
<span class="o">-</span> <span class="nv">varying</span> <span class="nv">spaces</span> <span class="nv">between</span> <span class="nv">bqs</span>
<span class="o">-</span> <span class="nv">no</span> <span class="nv">space</span> <span class="nv">between</span> <span class="nv">bq</span> <span class="nv">and</span> <span class="nv">following</span> <span class="nv">list</span>
</pre></div>
<p>It was a bit of a meaty issue to tackle, mostly because it is not very clearly
defined.  Specifically, when I started digging into this issue and breaking it
apart, it resulted in seven new variations of the <code>test_list_blocks_271</code> scenario
test, three new variations of the <code>test_list_blocks_270</code> scenario test, and
two variations a piece of the <code>test_list_blocks_237</code> and <code>test_list_blocks_238</code>
scenario tests.  For the most part, everything worked well, and all the tests
passed.  In addition, there were two tests dealing with the alternating four
levels of nesting scenario tests which I postponed until later.</p>
<p>Other than those two scenario tests, the only scenario test that I had a problem
with involved the following Markdown:</p>
<div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">.</span> <span class="n">Blockquote</span>
<span class="o">&gt;</span> <span class="n">continued</span> <span class="n">here</span><span class="p">.</span>
</pre></div>
<p>When the parser first encountered this Markdown document, it incorrectly parsed
the text and merged it all together.  But looking at the reference HTML,
the reference document and the tokens were not matching up.  The reference HTML
had two Block Quote elements, with one line of text in each element.  The tokens
had everything in one Block Quote element, with the text appended together.
That difference is what I needed to figure out.</p>
<p>Walking through the Markdown in my head, it took a bit for me to get the Markdown
parsing in the correct context. When the second line is reached, there are already
three active
containers in play: a List element, a Block Quote element, and another List element.
When the parser then encountered the second line, it only saw the Block Quote starting
on that line and ignored the List elements completely.  That was the main problem.
To parse the document correctly, the parser needed to close all three
containers, as the main List container requires an indent of two spaces, and that
indent is not provided.  Only after those containers are closed can the line be
properly parsed.  With the slate being effectively cleared, a new Block Quote
can then be opened to hold the second line of text, just as the reference HTML
dictates.</p>
<p>But how to get there?</p>
<h3 id="doing-the-hard-work">Doing The Hard Work<a class="headerlink" href="#doing-the-hard-work" title="Permanent link">¶</a></h3>
<p>Most of the changes occurred in the <code>is_block_quote_start</code> function.  During the
initial parsing of the document, the parser believed that the text on the second
line was a continuation of the first line due to paragraph continuation lines.
As those lines apply to both Block Quote elements and List elements, removing
the first two characters from the second line would enact exactly that scenario.
So, care had to be taken not to destroy that existing functionality.</p>
<p>The first part of this solution was the easy part.  I changed the <code>is_block_quote_start</code>
function to look for any List elements near the start of the <code>token_stack</code> list.
If the potential Block Quote start column had any List elements before it where
the leading spaces were not present,
then the algorithm closed all open elements back to and including that List element.
Basically, if current line was not indented enough so that the encompassing List
element was satisfied, everything back to that point needed to be closed. That
code was a bit tricky in places, but relatively easy to figure out.</p>
<p>The tricky part was what to do at that point to get the parsing to continue.
All the obvious options were messy.  Most of them were variations of calling
back into the Container Block Processor and reprocessing the line.  A couple of
the variations were simply trying to bend the processors to do something that I
did not feel comfortable with.  I tried about four different solutions before
I decided that I needed to do something different.  So, I finally tried
to do something unexpected:  I tried the non-obvious solution.  Normally, I would
report that it was the dead simple solution that worked the best, but in this case,
that solution was more work than it was worth.  In this case, I just had a hunch
that something different was needed.</p>
<p>After taking a handful of deep breaths, I decided that the non-obvious but best option
was to use the parser’s requeue ability.  It took me a bit to flush the concept
out, but it made sense in a non-obvious sort of way.  Once I added any tokens
that arose from the blocks that were closed from the close-blocks action, the only
thing left to do was to properly parse the line.  Putting extra code in that
function to call back into the parser just was not working.  On a whim, thinking
that it probably would not work, I added the lines:</p>
<div class="highlight"><pre><span></span>    <span class="n">parser_state</span><span class="o">.</span><span class="n">token_document</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">container_level_tokens</span><span class="p">)</span>
    <span class="n">lines_to_requeue</span> <span class="o">=</span> <span class="p">[</span><span class="n">position_marker</span><span class="o">.</span><span class="n">text_to_parse</span><span class="p">]</span>
    <span class="n">requeue_line_info</span> <span class="o">=</span> <span class="n">RequeueLineInfo</span><span class="p">(</span><span class="n">lines_to_requeue</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
</pre></div>
<p>and then returned that <code>requeue_line_info</code> variable after fourteen <code>None</code>
keywords.  And it worked!  Well, it mostly worked, but it got me close enough
to getting the document parsed properly that I was able to finish the work in
about ten minutes with some smart debugging.</p>
<p>What saved me was that while I wanted to keep things simple, I was not afraid to
try something unusual.  Just because it had not worked before, did not mean it was
not going to work this time.  And the idea itself was a stretch.
Up to that point, the requeue
feature of the parser was only used with Link Reference Definitions.  But if there
was another case for using it to make the code cleaner, this was it. Once the
effects of closing the blocks was completed, the cleanest way for the line to
be processed properly was to requeue the line for further processing.  The handling
of the <code>requeue_line_info</code> return variable was already supported, so no other
code was needed.</p>
<p>And except for <a href="https://github.com/psf/black/blob/main/README.md">Black</a> placing
each return value on its own line<sup id="fnref:record"><a class="footnote-ref" href="#fn:record">1</a></sup>, the code was compact and
localized to where the issue was.  That made it easy to tidy things up and verify
that all tests were passing properly before going on.  I did go back and
forth on whether to leave the <code>container_depth</code> variable debugging in, but as
I have added it and removed it during debugging sessions three times now, I
figured I might as well leave it in.</p>
<h2 id="issue-76-nested-unordered-list-fun"><a href="https://github.com/jackdewinter/pymarkdown/issues/76">Issue 76</a> - Nested Unordered List Fun<a class="headerlink" href="#issue-76-nested-unordered-list-fun" title="Permanent link">¶</a></h2>
<p>The solution to this issue was so funny to me that it made me laugh.  By looking
at the project code, anyone can tell that I prefer descriptive names for my functions
and variables.  Instead of <code>i</code> and <code>j</code>, I am more likely to use <code>inner_loop_index</code>
and <code>outer_loop_index</code>.  It is something that has served me well over the years
and is something I plan to keep on doing.  But that does not mean I always use
it flawlessly.</p>
<p>In looking over the scenario tests for Rule Md007, I decided that it needed at
least one solid complex scenario test to ensure things were working properly.
As such, I added this Markdown document:</p>
<div class="highlight"><pre><span></span><span class="n">This</span> <span class="k">is</span> <span class="n">a</span> <span class="n">test</span>

 <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="k">level</span> <span class="mi">1</span>
 <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">1</span>
   <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="k">level</span> <span class="mi">2</span>
   <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">2</span>
      <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="k">level</span> <span class="mi">3</span>
   <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">2</span>
    <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">2</span>
    <span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">2</span>
<span class="o">*</span> <span class="n">this</span> <span class="k">is</span> <span class="n">also</span> <span class="k">level</span> <span class="mi">1</span>
</pre></div>
<p>This was a good complex test because the only List start or List Item that was
in the right column was the last line.  Every other line was off by at least one
column, and in some cases, off by two columns.</p>
<p>But when I ran the document through PyMarkdown the first time, the errors that
I got back were not the complete list I was expecting.  Narrowing things down
to the <code>__process_eligible_list_start</code> function, I debugged through the
following code until I noticed something.</p>
<div class="highlight"><pre><span></span><span class="n">last_stack_depth</span> <span class="o">=</span> <span class="n">parser_state</span><span class="o">.</span><span class="n">token_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">ws_before_marker</span>
<span class="o">...</span>
<span class="k">while</span> <span class="n">current_start_index</span> <span class="o">&lt;</span> <span class="n">last_stack_depth</span> <span class="ow">and</span> <span class="n">allow_list_removal</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">last_stack_depth</span> <span class="o">=</span> <span class="n">parser_state</span><span class="o">.</span><span class="n">token_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">ws_before_marker</span>
</pre></div>
<p>I did not really notice it clearly at first, but I noticed that something was
weird about the code.  It took me fifteen minutes before I noticed it clearly
enough that I could explain it to myself:  the <code>while</code> statement was comparing
an index to a depth.  As I walked through it again, the reasoning for the error
crystalized before my eyes.</p>
<p>In counting terms, depths and positions are usually different than indices.
The first group of items usually start counting at 1, where the indices always
start counting at 0. And in this case, that made all the difference.  Instead of
comparing an index to a depth, I either needed to compare an index to an index
or a position to a depth.  After flipping a coin, I changed the above code
to the following:</p>
<div class="highlight"><pre><span></span><span class="n">last_stack_depth</span> <span class="o">=</span> <span class="n">parser_state</span><span class="o">.</span><span class="n">token_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">ws_before_marker</span>
<span class="o">...</span>
<span class="n">last_stack_depth_index</span> <span class="o">=</span> <span class="n">last_stack_depth</span> <span class="o">-</span> <span class="mi">1</span>
<span class="k">while</span> <span class="p">(</span>
    <span class="n">current_start_index</span> <span class="o">&lt;</span> <span class="n">last_stack_depth_index</span> <span class="ow">and</span> <span class="n">allow_list_removal</span>
<span class="p">):</span>
    <span class="o">...</span>
    <span class="n">last_stack_depth</span> <span class="o">=</span> <span class="n">parser_state</span><span class="o">.</span><span class="n">token_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">ws_before_marker</span>
    <span class="n">last_stack_depth_index</span> <span class="o">=</span> <span class="n">last_stack_depth</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
<p>I could have gone either way, but once I altered the <code>last_stack_depth</code> variable,
it just seemed like the right choice.  More importantly, with those minor changes,
the tests that were previously passing were still passing, as were the tests that
were previously failing.</p>
<p>Yup, I had an off-by-one error, and I fixed it!  Me, finding an off-by-one
error in my own code.  I laughed.  Maybe you had to be there to get why that
was funny.  But trust me, it was.</p>
<h2 id="issue-79-fixing-rule-md005"><a href="https://github.com/jackdewinter/pymarkdown/issues/79">Issue 79</a> - Fixing Rule Md005<a class="headerlink" href="#issue-79-fixing-rule-md005" title="Permanent link">¶</a></h2>
<p>Rule Md005.  A simple rule, but one that I was never one hundred percent happy
with.  But that was about to change with this issue.  This issue was basically
my “stop complaining and start fixing” issue for this rule.</p>
<p>From the top, there was never anything wrong with this rule, at least
nothing I could point to at the time.  It just did not feel right.  When I was
implementing the rules and checking out their documentation, I was just
left with a feeling that I had missed something in the rule or its scenario tests.
Along the way, I added an issue about
checking for left alignment and right alignment in the same list, but I knew
that there was more to my feeling than that.  I just had to figure out what that
feeling was based on and deal with it.</p>
<p>I started the process by looking through the existing scenario tests for any
holes that I perceived in the tests.  Adding scenario tests to address those
spots, I ended up with ten new scenario tests.  As I started testing the
Unordered List elements, I found out that the new tests for those elements were
passing with only small adjustments to do with the reported expected and actual
measurements.  That was good.  But when I got to the Ordered List elements, things
were not in the same shape.  While I had done a decent job on covering simple scenarios
in the original tests, the more complicated scenario tests were largely ignored.</p>
<h3 id="how-did-this-happen">How Did This Happen?<a class="headerlink" href="#how-did-this-happen" title="Permanent link">¶</a></h3>
<p>Digging into the code, I was able to quickly determine what the issues were.
Before I started addressing this issue, the code for detecting the failures for
List elements was relatively simple:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">is_unordered_list_start</span><span class="p">:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">indent_level</span> <span class="o">!=</span> <span class="n">token</span><span class="o">.</span><span class="n">indent_level</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__report_issue</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">column_number</span> <span class="o">!=</span> <span class="n">token</span><span class="o">.</span><span class="n">column_number</span><span class="p">:</span>
    <span class="n">original_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">list_start_content</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">extracted_whitespace</span><span class="p">:</span>
        <span class="n">original_text</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">extracted_whitespace</span>
    <span class="n">original_text_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">original_text</span><span class="p">)</span>
    <span class="n">current_prefix_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span>
        <span class="n">token</span><span class="o">.</span><span class="n">list_start_content</span> <span class="o">+</span> <span class="n">token</span><span class="o">.</span><span class="n">extracted_whitespace</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">original_text_length</span> <span class="o">==</span> <span class="n">current_prefix_length</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">token</span><span class="o">.</span><span class="n">indent_level</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">indent_level</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__report_issue</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
</pre></div>
<p>If a new List Item was detected, and that List Item element was part of an
Unordered List element, then a simple check was made against the indent level
of the parent List element.  Anything other than that was a failure.  For the
Ordered List Items, there was a bit more to the calculation.  If the two
<code>column_number</code> fields were the same, then the List Item was left-aligned with
the parent List element, and things were okay.  Otherwise, a calculation was done
to see if the new List Item was right aligned with that same parent List element.</p>
<p>There is nothing wrong with that logic… for simple cases.  All the tests were
passing properly, and it was detecting each problem properly and triggering the
rule properly.  But the scenario tests that I added were for more complex scenarios,
and that is where that logic failed.  The failures were not about the individual
lines themselves, but how different lines and different lists interacted with
each other.</p>
<h3 id="what-next">What Next?<a class="headerlink" href="#what-next" title="Permanent link">¶</a></h3>
<p>After starting to understand the scope of the issues, I took a bit of a break
and did some stuff around the house before getting back to the problem.  Looking
at the issue with a fresh set of eyes, I figured out that there were three significant
issues that I needed to take care of.  The first is that there was no cohesion
between lists within the same base list.  The second is that the determination
of alignment for an Ordered List was being made on a List Item by List Item basis.
Finally, the third issue was that List Start tokens were being left completely
out of the check.</p>
<p>Leaving a copy of the existing rule in the editor, I started working on a new
rule from scratch.  I started by copying the <code>__report_issue</code> function and
everything above it over to the new rule, followed by adding a blank <code>next_token</code>
function.  I then started by adding the framework for the Unordered List elements
back into the function.  Except for a couple of small improvements, that handling
was working fine, so there was no need to make drastic changes to it.  But
the Ordered List elements were another story.</p>
<p>Instead of tackling each of the above issues individually, I took a step back
and quickly designed a better rule.  Addressing the third problem first, I needed
code that could work with either a List Item or a List start to decide if it
was properly indented.  To that extent, I created the <code>__handle_ordered_list_item</code>
function that accepted either token as its input and tested that thoroughly
before moving on.  As that function was the cornerstone of the design, it was
critical that I got it right!</p>
<p>I then designed around the second issue by delaying the determination of the
alignment of the list until the end of the list.  Before the rule had been deciding
that line by line, and it did not work well.  Using this design, I could make a
clean determination of the alignment once using every list element.  Once I had
that determination, I could call the <code>__handle_ordered_list_item</code>
function at the end of the list without any loss of functionality.  Instead,
it allowed me to simplify the <code>__handle_ordered_list_item</code> code to look for
one alignment or the other, not both.  That cleared up that issue.</p>
<p>Finally, I looked at the first issue and came up with a quick and dirty solution.
Whenever a new Ordered List was started, it stored an alignment of <code>UNKNOWN</code>
at the level of the sublist.  Then, when a positive determination of the
alignment was made, it would update that value to <code>LEFT</code> or <code>RIGHT</code>.  Within
the <code>__handle_ordered_list_item</code> function the following code was added:</p>
<div class="highlight"><pre><span></span>    <span class="n">list_level</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__list_stack</span><span class="p">)</span>
    <span class="n">list_alignment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__ordered_list_alignment</span><span class="p">[</span><span class="n">list_level</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">list_alignment</span> <span class="o">==</span> <span class="n">OrderedListAlignment</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="o">...</span>
</pre></div>
<p>At that point, the calculation was as simple as determining the depth of the List
element, grabbing the alignment from the <code>__ordered_list_alignment</code> field, and
using that value to determine what alignment to check against.  As part of the
design, I verified that unless the alignment was determined to be <code>RIGHT</code>, the
other two alignments were equivalent.  That helped simplify things.</p>
<p>It was pedantic, but I walked through it all on paper before writing even
one line of code.  It took a bit of time, but it was worth it.  By doing that,
I was quickly able to spot a couple of design flaws and fix them right away.
I do admit that I had a couple of small “black boxes” that were labelled
<code>calculate alignment</code> and <code>handle ordered list</code>, but I was confident that
I had a solid grip on the algorithms for those two components.  It was the
rest of the design I was worried about.</p>
<p>Once done, I found that with the design in hand, the code came naturally from the
design.  I started with
everything in the <code>next_token</code> function before moving groups of functionalities into
their own functions. The <code>__compute_ordered_list_alignment</code> function was used to
calculate the alignment of a list, and <code>__handle_ordered_list_item</code> was used to
evaluate both Ordered List start tokens and Ordered List Item tokens.  The remaining
<code>handle_*</code> were used to manage the delegation of calls to those functions, as well
as ensuring that the various fields to collect the required information were maintained.</p>
<p>It was unexpected, but exception for a couple of small errors that were easily
fixed, the updated version of the rule worked on the first try.  I do not attribute
that to any prowess in writing Python code. Rather it was because I took the time
to design it on paper and walk through the scenarios in my head before going on.
I do admit that sometimes I do some “cowboy coding”, but unless it is something
really simple, I find that those sessions are more hit-or-miss than I prefer.</p>
<p>But what is important to me is that this entire development process has helped
me hone my design skills. And it was cases like this where I got to use those
skills to produce something that worked very cleanly and very solidly.</p>
<h2 id="issue-77-fun-with-scripts"><a href="https://github.com/jackdewinter/pymarkdown/issues/77">Issue 77</a> - Fun with Scripts<a class="headerlink" href="#issue-77-fun-with-scripts" title="Permanent link">¶</a></h2>
<p>With time left before my noon<sup id="fnref:noonish"><a class="footnote-ref" href="#fn:noonish">2</a></sup> deadline, I wanted to look at
a puzzling issue that was just reported within the last couple of days.  In this
issue, the reporter claimed that the <code>pymarkdown</code> script was not being assigned
the right permissions upon installation.  I double checked with them, and they
confirmed the steps the included with the issue.  It just was not working for them.</p>
<p>Not wasting any time, I switched over to my <code>pymtest</code> project and ran my usual
release tests against the version of the project I have built in the <code>dist</code>
directory.  Two minutes later, I walked through the test script and the output
one line at a time, and everything looked good.  I then switched to the variation
of that script that grabs the package from PyPi.org and performed the same
verification with the same results.  Everything looked good so far.</p>
<p>Switching over to my Ubuntu shell running on WSL2, I repeated the same tests,
and everything looked fine.  Nothing deviated from my <code>pymtest</code> project except
the name of the script, the <code>upymtest</code> project it was in, and that it was running
under Ubuntu instead of Windows 10.  I had to be missing something. But what?</p>
<h3 id="starting-from-scratch">Starting From Scratch<a class="headerlink" href="#starting-from-scratch" title="Permanent link">¶</a></h3>
<p>I knew I had to do something different, but I did not have a clue of what to
change.  So, the only thing I could think of was to go back to the beginning and
build my way back up to the level of the script in the <code>upymtest</code> project.
I started by going into the <code>upymtest</code> project and doing a <code>pipenv --rm</code> to remove
the virtual environment.  To be sure, I also found out the location of the virtual
environments on my machine and removed both directories associated with them.
Then I tried to remove the <code>Pipfile</code> file and the <code>Pipfile.lock</code> file. While
I did think this may be overkill, at the very least I knew I was thorough in
my work!</p>
<p>Running through the Ubuntu version of my test, everything stayed the same.  It
was frustrating and rewarding at the same time.  There was something in my process
of local testing that masked the issue, and I still had to find it. But at the
same time, I was mostly there, and just had to find the right thing to tweak.
And just to confirm, with a thoroughly removed PyMarkdown package, installing it
from
<a href="https://pypi.org/project/pymarkdownlnt/">PyPi</a>
resulted in incorrect permissions, installing it locally resulted in correct
permissions.</p>
<h3 id="digging-deeper">Digging Deeper<a class="headerlink" href="#digging-deeper" title="Permanent link">¶</a></h3>
<p>So, I pulled up some online resources and started to read them.  I was about
45 minutes into that research when I came across
<a href="https://realpython.com/python-wheels/">this article</a>
at Real Python.  In it, there was one line that caught my attention:</p>
<blockquote>
<p>If you’ve installed a Python package using pip, then chances are that a wheel
has made the installation faster and more efficient.</p>
</blockquote>
<p>Huh?  I had always thought it was the tarball, the <code>*.tar.gz</code> file, which was
used with PyPi.org and the <code>pip</code> family of commands.  Could I have been wrong?</p>
<p>With nothing to lose, I read the rest of that article, and I was convinced
that I had made a mistake.  Changing my test process to operation off the wheel
file instead of the tarball, everything worked the same on the Windows shell.
But in the Ubuntu shell, I was finally able to reproduce the behavior.  Installing
from the wheel, the script to start PyMarkdown did not have the correct permissions.
I had reproduced the reported issue, now to fix it.</p>
<h3 id="scripts-and-permissions">Scripts and Permissions<a class="headerlink" href="#scripts-and-permissions" title="Permanent link">¶</a></h3>
<p>Now that I had a good handle on the problem, I started looking for a solution.
It took a while to find one because looking for <code>python wheel permission script</code>
or any variation of those words usually results in pages that deal with the proper
permissions needed to install Python packages, not on how to specify the
correct permissions for the scripts.
But it was during one of those searches that I found information referring
to specifying <code>entry-points</code> to allow for post-install fixes.  That
article was about providing an extra feature to set that package up for use
with one of three editors, but it was still a useful find.  It explained that there
was a <code>console_scripts</code> setting for <code>entry-points</code> that creates platform specific
scripts for each entry point at install time.</p>
<p>That just clicked with me as the right thing to do.  Prior to reading that
article, I had hard-wired the <code>pymarkdown</code> and <code>pymarkdown.bat</code> scripts into
the <code>scripts</code> directory.  Since they have been there for months, I can only
assume that there were one or more examples of projects that used <code>scripts</code> and
that method of launching projects.  And to be honest, if you are building on a
Linux system and have all the permissions set right, that might be a practical
alternative.  For my setup, it just was not cutting it.</p>
<p>So, I went to my <code>setup.py</code> file and removed this line:</p>
<div class="highlight"><pre><span></span>    <span class="n">scripts</span><span class="o">=</span><span class="n">PACKAGE_SCRIPTS</span><span class="p">,</span>
</pre></div>
<p>and replaced it with these lines:</p>
<div class="highlight"><pre><span></span>    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"console_scripts"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"pymarkdown=pymarkdown.__main__:main"</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
</pre></div>
<p>According to the article, that code should inform the setup tools to create a new script
called <code>pymarkdown</code> specifically for the operating system it is installed on.
In that script, it looks in the <code>__main__</code> module of the <code>pymarkdown</code> package
and invokes the <code>main</code> function.  After a small alteration to the <code>__main__.py</code>
file to include an extra function, I created a new package.</p>
<p>Holding my breath, I walked through the Windows installation tests, and everything
worked fine.  Switching over to my Ubuntu shell, I repeated the installation tests
and… everything worked!  It was a relief!  It had taken me three hours at that
point to figure out the problem and devise a solution, but it was worth it.</p>
<p>Just to be sure, I cleaned up the <code>__main__.py</code> file and the <code>setup.py</code> file
before repackaging the project and running through the steps two more times.
Once again, it might have been overkill, but I wanted to make sure.</p>
<h2 id="release-092">Release 0.9.2<a class="headerlink" href="#release-092" title="Permanent link">¶</a></h2>
<p>Having completed all the changes I was going to make for this week, I decided that
I had enough changes and fixes queued up to make a release.  After quick
double checking to make sure that everything looked right, I created a package
using my <code>package.cmd</code> script.  Then, using both my Ubuntu shell and my Windows
shell, I tested against the wheel file produced by the <code>package.cmd</code> script to
make sure it installed properly in both environments.</p>
<p>This was only a slight change from earlier releases, but an important one.  In
earlier releases, I was testing against the <code>*.tar.gz</code> file produced by the
script, not the <code>*.whl</code> or wheel file.  As the wheel file is the file that is
uploaded to the PyPi.org site, it is important to test against that file.  As I
thought it was the <code>*.tar.gz</code> file that was uploaded, I was testing locally
against that file.  As such,
<a href="https://github.com/jackdewinter/pymarkdown/issues/77">Issue 77</a>
slipped through the cracks.</p>
<p>But with my slightly adjusted process in place, everything looked good, so
I published the release, tagged the repository, and published the release notes
for the release.  It was a good feeling.</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>Things are rolling, and I am starting to feel that they are taking longer than
I want them to.  And I know that this is my personal danger zone.  For me,
getting that last five to ten percent of a project done has always been my
weak spot.  It happens not because I grow tired of the project, but because I
do not find any fun in the work.  And yes, solving issues is fun for me,
while double checking everything is more of a chore.</p>
<p>Regardless, I need to make sure I keep my focus on completing this section of
the work and getting on to more of the interesting problems in the next
section: code quality improvements and performance improvements.  For now,
I am reminding myself of those tasks coming up as a “carrot” to dangle in front
of myself to get this “boring” work done.</p>
<p>Hope it helps… but I am close enough I think I can manage.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>Looking ahead in the Issues List, I see a lot of validation and a lot of added
scenario tests.  I am not sure which one I will decide to do, but either way, with
those items out the way, the list will almost be down to Priority 3 items.
Gotta like that!
Stay tuned!</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:record">
<p>For the record, that is 14 <code>None</code> keywords and 1 <code>requeue_line_info</code> variable. <a class="footnote-backref" href="#fnref:record" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:noonish">
<p>Well… okay, noon-ish. <a class="footnote-backref" href="#fnref:noonish" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
</ol>
</div>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Fun%20With%20Nested%20Containers&url=https%3A//jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Fun%20With%20Nested%20Containers&amp;body=https%3A//jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-beta-bugs-e"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2021/10/17/markdown-linter-tying-up-some-loose-ends/" title="Previous: Markdown Linter - Tying Up Some Loose Ends">Markdown Linter - Tying Up Some Loose Ends</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2021/11/01/markdown-linter-double-checking-my-double-checks/" title="Next: Markdown Linter - Double Checking My Double Checks">Markdown Linter - Double Checking My Double Checks</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~21 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-10-25T00:00:00-07:00">Oct 25, 2021</time>
        <h4>Markdown Linter Beta Bugs</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2021/09/27/markdown-linter-clearing-away-some-bugs/" title="Markdown Linter - Clearing Away Some Bugs">Part 1: Markdown Linter - Clearing Away Some Bugs</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/04/markdown-linter-more-beta-bugs/" title="Markdown Linter - More Beta Bugs">Part 2: Markdown Linter - More Beta Bugs</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/10/markdown-linter-cleaning-things-up/" title="Markdown Linter - Cleaning Things Up">Part 3: Markdown Linter - Cleaning Things Up</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/17/markdown-linter-tying-up-some-loose-ends/" title="Markdown Linter - Tying Up Some Loose Ends">Part 4: Markdown Linter - Tying Up Some Loose Ends</a>
            </li>
            <li  class="active-part">
            Part 5: Markdown Linter - Fun With Nested Containers
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/11/01/markdown-linter-double-checking-my-double-checks/" title="Markdown Linter - Double Checking My Double Checks">Part 6: Markdown Linter - Double Checking My Double Checks</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/" title="Markdown Linter - Fun With Block Quotes">Part 7: Markdown Linter - Fun With Block Quotes</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/11/29/markdown-linter-the-bug-that-almost-knocked-me-down/" title="Markdown Linter - The Bug That Almost Knocked Me Down">Part 8: Markdown Linter - The Bug That Almost Knocked Me Down</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>76</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>94</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>