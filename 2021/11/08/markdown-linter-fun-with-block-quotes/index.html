<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I talked about my efforts to bolster the consistency checks I have built into the project. In this article, I decided to focus on Nested Container blocks. Introduction¶ While I have confidence that most of the PyMarkdown parser is working the way that I want …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Fun With Block Quotes "/>
<meta property="og:url" content="https://jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/" />
<meta property="og:description" content="Summary¶ In my last article, I talked about my efforts to bolster the consistency checks I have built into the project. In this article, I decided to focus on Nested Container blocks. Introduction¶ While I have confidence that most of the PyMarkdown parser is working the way that I want …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2021-11-08T00:00:00-08:00" />
<meta name="twitter:title" content="Markdown Linter - Fun With Block Quotes ">
<meta name="twitter:description" content="Summary¶ In my last article, I talked about my efforts to bolster the consistency checks I have built into the project. In this article, I decided to focus on Nested Container blocks. Introduction¶ While I have confidence that most of the PyMarkdown parser is working the way that I want …">

        <title>Markdown Linter - Fun With Block Quotes  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/">
                Markdown Linter - Fun With Block Quotes
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#issue-90-verifying-existing-rules">Issue 90 - Verifying Existing Rules</a><ul>
<li><a href="#taking-a-good-look-and-making-a-decision">Taking A Good Look… And Making A Decision</a></li>
<li><a href="#getting-down-to-work">Getting Down To Work</a></li>
</ul>
</li>
<li><a href="#issue-92-staying-the-course">Issue 92 - Staying The Course</a><ul>
<li><a href="#refactoring-the-code">Refactoring The Code</a></li>
<li><a href="#fixing-up-the-remaining-scenario-tests">Fixing Up The Remaining Scenario Tests</a></li>
<li><a href="#the-issue-was">The Issue Was…</a></li>
</ul>
</li>
<li><a href="#issue-104-dial-home-device">Issue 104 - Dial Home Device</a><ul>
<li><a href="#design">Design</a></li>
<li><a href="#implementation">Implementation</a></li>
</ul>
</li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2021/11/01/markdown-linter-double-checking-my-double-checks/">last article</a>, I talked
about my efforts to bolster the consistency checks I have built into the project.
In this article, I decided to focus on Nested Container blocks.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>While I have confidence that most of the <a href="https://github.com/jackdewinter/pymarkdown">PyMarkdown</a>
parser is working the way that
I want it to, there are two areas where I feel that I still need to shore up my
confidence: Link Reference Definitions
and Nested Container Blocks.  Most of my lack of confidence in the Link Reference
Definition code is in how it handles boundary conditions.  As they are boundary
conditions that are not hit that often, I am not too worried
about users hitting those conditions too much.</p>
<p>Nested Container Blocks are a different story.  I personally use these when authoring
documents like this article.  While I do not usually go more than two levels deep,
they are still Markdown constructs that I use quite often.  I would expect that,
outside of Markdown
power users, most authors will probably encounter the same issues. As such, increasing
my confidence on Nested Container Blocks was something I wanted to work on.</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather than the solutions themselves.  For a full record of the solutions presented in
this article, please consult the commits that occurred between
<a href="https://github.com/jackdewinter/pymarkdown/commit/860aea72a8d5e2b0c7dd088c121d7e1ce9012b7b">01 Nov 2021</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/9105fbbedb72997638b209b61766aee0d33a51c0">06 Nov 2021</a>.</p>
<h2 id="issue-90-verifying-existing-rules"><a href="https://github.com/jackdewinter/pymarkdown/issues/90">Issue 90</a> - Verifying Existing Rules<a class="headerlink" href="#issue-90-verifying-existing-rules" title="Permanent link">¶</a></h2>
<p>The first part of Issue 90 was a thorough look through the existing tests for Rule
Md005,  Basically, I was wondering if those tests were really fixed or if it just
looked like they were fixed.  Probably due to earlier work that I have done
in the area, each of these tests worked flawlessly.  They worked so well that I
started to look at other tests in the area to verify if they were also working
properly.  An obvious place to look for me to look was Rule Md027.  I have been doing
a fair amount of work there in the last couple of months, and it is a
meaty module with a decent number of moving parts.  Basically, a good place to look.</p>
<p>It was hard for me to figure out exactly when I noticed something was wrong and what
the exact thing was that I noticed was wrong, but there was something there.  I
could not figure out exactly what it was, only that something was “off”. As I have
valuable experience following my gut feelings about code and finding something,
I decided to try experimenting, and as a result created eight new scenario tests.
To do this, I just started
looking through different test files and started making changes.  I then went to
execute those new scenario tests, and a couple of them failed, raising <code>AssertError</code>
exceptions in Rule Md027.  Both had the same issue: the Block Quote index
was off.</p>
<h3 id="taking-a-good-look-and-making-a-decision">Taking A Good Look… And Making A Decision<a class="headerlink" href="#taking-a-good-look-and-making-a-decision" title="Permanent link">¶</a></h3>
<p>Digging into what I had just found, I noticed a couple of things.
The first thing was that the handling of the Block Quote index was off.  The second
was that everything else seemed to be in decent shape.  Trying extra variations
on nested containers
elements and other elements inside of them helped me figure that out.  It seemed
to be that the index field for the Block Quotes were the only things that were not
correct.  If that was true, then I could get a lot of mileage out of fixing the
index logic.</p>
<p>The further I debugged into the code, the stronger that my confidence in that
observation’s accuracy increased.  There were a couple of small
issues that, if I could
get them resolved, should get me most of the way to stabilizing Rule Md027 and
Block Quotes.  That would also raise my confidence in Nested Container Blocks,
so there was a direct payoff.  But it was going to be arduous work for a couple of
days, instead of addressing other issues.  Was the tradeoff worth it?</p>
<p>In the end, I decided yes.  Improving my confidence in Nested Container Blocks
by adding more scenarios for Block Quote elements with other nested elements
was a win for both my confidence and the project.  As such, I decided that was
the way I wanted the week to play out.  For better or worse!</p>
<h3 id="getting-down-to-work">Getting Down To Work<a class="headerlink" href="#getting-down-to-work" title="Permanent link">¶</a></h3>
<p>Before starting on the actual changes, I wanted to start the week with some cleanup.
The main <code>next_token</code> function for Rule Md027 was getting big, and since I was going
to be spending the week in that code, I wanted to split it up
to make it more maintainable. To that extent, I took the code to manage
the start of the Block Quotes and moved it into the new <code>__handle_block_quote_start</code>
function, the code to handle the end of the Block Quotes into the new
<code>__handle_block_quote_end</code> function and so on.  It made things
neater and easier to read, even with the many comments with debug code scattered
throughout the module.</p>
<p>After that, the first thing I noticed when I was debugging was that the Blank Line elements
were not updating the index properly.  From experience, I know that the order of
the Blank Line tokens and the end List tokens are backwards from what they are
expected to be.  It was therefore no surprise to find something like this in
the Rule Md027 code. To properly handle these Blank Lines, I figured out that I
needed to wait until the right point after the any end List tokens were processed.</p>
<p>To deal with that, once a Blank Line token is found within an active
Block Quote element, I set the new <code>__delayed_blank_line</code> variable to <code>True</code>
and added the following function:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__process_delayed_blank_line</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">num_container_tokens</span><span class="p">,</span> <span class="n">allow_block_quote_end</span>
<span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__delayed_blank_line</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span>
            <span class="n">token</span><span class="o">.</span><span class="n">is_leaf_end_token</span>
            <span class="ow">or</span> <span class="p">(</span><span class="n">allow_block_quote_end</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">is_block_quote_end</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__have_incremented_for_this_line</span> <span class="ow">or</span> <span class="n">token</span><span class="o">.</span><span class="n">is_blank_line</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__have_incremented_for_this_line</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__handle_blank_line</span><span class="p">(</span>
            <span class="n">context</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__delayed_blank_line</span><span class="p">,</span> <span class="n">num_container_tokens</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__delayed_blank_line</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>
<p>Taking a while to get to this point, the debugging was worth it. Called from the
top of the <code>__handle_within_block_quotes</code> function and the top of the
<code>__handle_block_quote_end</code> function, this function delays the processing of a
Blank Line token until after any processing of required end tokens is completed.
The setting of <code>__have_incremented_for_this_line</code> to <code>False</code>?  I will get to that
in a bit.</p>
<p>Like the logic for the Blank Line tokens, there was also a need to delay the
processing of the end Paragraph token.  Working through the debugger and examining
the log files took a while to get right.  But going through that, I noticed that
there were a few cases where the incrementing of the Block Quote
index from the end Paragraph token was doubling up with an increment for the token
that followed it. Specifically, this doubling was occurring for start Block Quote
tokens, List Item tokens, and end List tokens.  To counter this effect, the
<code>__process_delayed_paragraph_end</code> function was added that delays the increment
for the end of the Paragraph element until such time as any increments for the
listed tokens are dealt with.</p>
<p>Finally, after all that work to handle those two cases, there were a couple of
boundary cases that needed to be addressed.  While not as <code>__have_incremented_for_this_line</code>
simple.</p>
<h2 id="issue-92-staying-the-course"><a href="https://github.com/jackdewinter/pymarkdown/issues/92">Issue 92</a> - Staying The Course<a class="headerlink" href="#issue-92-staying-the-course" title="Permanent link">¶</a></h2>
<p>While on the path of cleaning up Rule Md027, and Nested Blocks in particular, I
decided to stay on that path and clean up other code dealing with nested
blocks.  Having cleaned up the Block Quote index in the last section, I was hoping
that I had found all the issues.  But if I am honest, I was not convinced
that I had.  For me to be convinced that I had found them all, I really needed to
do a deep dive and start throwing some serious levels of nesting container examples
against the parser, and Rule Md027 specifically.</p>
<p>So, starting with the scenario tests and their data, I created forty-five new
scenario tests and their test data.  To do that, I started with nesting containers
within each other up to three levels of nesting.  When I was done with that, I
added variations on each of the Leaf elements inside of a simple Block Quote
element.  Finally, I added variations on each of those Leaf elements to embed
them within a List element within a Block Quote.</p>
<p>As I worked through those scenarios, I ended up adding eight new tests to
the “extra” scenario tests to verify that I had found a new issue.  While not
related to those eight scenario tests, eight issues were added to
the project because of working through those issues.  I do not like to see
parser issues in general, but it was not strange to me to see them here.  As I have said at
least a couple of times before, groups of alternating Nested Block elements are
one area where I am not convinced that I have found all the issues.</p>
<p>And before I get into the work done to address the issues that I could, I want
to point out that I did a bit of work with the debug strings to ensure that they
are using f-strings where possible. Normally I do not expect debug strings to stay
around for a long time, so I am not too fussy with them.  However, with this rule
and its complexities, I know that I have at least eight more visits to this code
for each of the eight issues that are related to this issue.  It just seemed
prudent to clean them up if they are staying around for a while.</p>
<h3 id="refactoring-the-code">Refactoring The Code<a class="headerlink" href="#refactoring-the-code" title="Permanent link">¶</a></h3>
<p>As I was going through the new code for Rule Md027, I noticed that the code
I added for handling start List tokens was almost the same as the code that
I added to handle List Item tokens.  While it was not a big effort, I decided
that it was best if I refactored the code into the new <code>__check_list_starts</code>
function.</p>
<p>Upon further examination, it also made sense to create a new <code>__get_current_block_quote_prefix</code>
function and a new <code>__get_last_block_quote</code> function to deal with the
work in the <code>__check_list_starts</code> function.  This allowed me to streamline
the <code>__check_list_starts</code> even more, simplifying the code to a good clean
level.</p>
<p>One of the other reasons that I went so far to do some refactoring was that I
expect that I am going to need to work with those concepts after I deal with
the issues that I found during the recent examination of Rule Md027.  With eight
issues open, I am confident that at least one or two of them are going to
require me to change the code for the rule, and similarly confident that one of those is going
to require one of the two new functions.  And if I am wrong, the code has been
tightened a bit and looks that much better.</p>
<h3 id="fixing-up-the-remaining-scenario-tests">Fixing Up The Remaining Scenario Tests<a class="headerlink" href="#fixing-up-the-remaining-scenario-tests" title="Permanent link">¶</a></h3>
<p>With the bulk of the other issues out of the way, the issues that were left were
ones where one of the elements fixed in the earlier sections were also firing
on any of those elements within List elements within Block Quote elements.
Taking a couple of minutes to think about these scenarios clearly, I was relieved that I
came up with a solution that was easy to implement.  At the top of the
<code>__handle_within_block_quotes</code> function, I added the following statement:</p>
<div class="highlight"><pre><span></span><span class="n">is_directly_within_block_quote</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__container_tokens</span><span class="p">[</span>
        <span class="o">-</span><span class="mi">1</span>
    <span class="p">]</span><span class="o">.</span><span class="n">is_block_quote_start</span>
</pre></div>
<p>From there, I added that new variable to the argument list of most of the handlers,
using it to opt-out of any reporting of errors. With that in place, I started
running tests, and watched as most of the tests started passing.  Investigating
the failing tests, I started to notice something.  A decent number of scenario
tests were not passing, even with these changes.  What was the issue?</p>
<h3 id="the-issue-was">The Issue Was…<a class="headerlink" href="#the-issue-was" title="Permanent link">¶</a></h3>
<p>Lack of scenario coverage.  As I mentioned earlier, I do not have confidence that
I have all the required scenarios to test nested container blocks.  After the
work that I did this week, I know I am closer to that goal.  However, even after
that work, I still believe that I have not found every scenario.</p>
<p>As I know I found some new scenarios with this work, I believe that it was
reasonable to expect that some percentage of those scenario tests would fail.
And a small percentage did fail.  To wrap up the work, I filed eight issues
to investigate later.  It was not much, but it was more than I had optimistically
hoped for.  But even though it was more than I had hoped for, I was still optimistic.
After everything I have thrown at the parser so far, eight scenario tests failing
was still a good metric.</p>
<p>But having met my goal of discovering what I had missed, I now had a good count
of the issues to fix.  Things were good for now, so I decided to move on
and do something different for the last day of the week.</p>
<h2 id="issue-104-dial-home-device"><a href="https://github.com/jackdewinter/pymarkdown/issues/104">Issue 104</a> - Dial Home Device<a class="headerlink" href="#issue-104-dial-home-device" title="Permanent link">¶</a></h2>
<p>Having been a science fiction fan since an early age, when
<a href="https://en.wikipedia.org/wiki/Stargate_SG-1">Stargate SG-1</a> started airing in
the last 1990s, I was hooked.  Sure, it was a simple premise and did not have
the international support of Doctor Who and Star Trek, but it had a certain flair
of its own.  With the show came its own plot device: the Dial Home Device. Without
the correct coordinates to input into this device, the team was locked out of gate
travel, stuck wherever they were. And yes, as those were the days of
<a href="https://en.wikipedia.org/wiki/DVD">DVDs</a>, I waited to get each season of the
series as it came out on DVD, just to see the show and the highlights.</p>
<p>I believe it was there that I got the idea that any kind of decent software should
have some way of checking to see if there are any upgrades to it, especially to
solve issues.  If there is a problem with one of the components on my car, I get
mailed a recall notice and I must go to my local dealer to get it fixed.  If
one of the services is changing its terms, they must send out snail
mail or email with the specifics on those changes. Following along from there,
why should not an application be able to find out if there is a newer version and
suggest upgrading it?</p>
<p>For me, the answer was a simple one.  It should.  As someone who uses editors like
VSCode and Notepad++, repository browsers like SourceTree, and web browsers such
as Chrome, I am kind of used to it.  With each of those programs, a periodic check
is made to figure out if there is an available upgrade.  While the actual upgrade
is left up to me, I am presented with that information to allow me to know to look
and see if the upgrade is beneficial.</p>
<h3 id="design">Design<a class="headerlink" href="#design" title="Permanent link">¶</a></h3>
<p>The first part of the design for this feature was a quite simple rule: unless something
was setup exceptionally wrong, any errors should be captured and logged, but should
not stop the application.  The purpose of this feature is to supply extra information
about improvements to itself as an aside, not as a focus.  That was the only one iron
rule.
Other than that, there were three simple parts that quickly fell into place: find
the current version of the application, find the published version of the
application, and find out how often to check.</p>
<p>Finding the current version was a simple part to design.  As the setup code
already had a version of that code implemented, I just needed to make a couple of adjustments to that
code to make it capture all errors.  Other than that, it remained pretty much the
same.  Finding the published version was almost as easy to design.  The pages
over at PyPi.org are static, so scraping the pages once every seven days
should not be a big deal.  Since the <code>request</code> package is one of the common ones,
its interface is very well known, and easy to work with.</p>
<p>That left the <code>how often</code> question to be designed.  Opting for simplicity, I
decided to borrow from greatness and create a <code>.pymarkdownlnt</code> file in the user
directory with the last checked timestamp.  If there were any errors reading this
file and interpreting the timestamp, the code should assume that a check is
needed.  Otherwise, a simple comparison between the current timestamp and the
written timestamp will inform the module if seven days have passed since the
last check.  To round that out, I decided to add a <code>--force</code> type flag to the
command line to force the <code>how often</code> algorithm to skip the check and check
anyway.  To balance that out, the <code>--disable</code> type flag would never check and
leave it up to the user.</p>
<p>Even though the designs of the individual components were simple, I took the
time to do my usual due diligence and walk through the scenarios. And even
with something so simple, there were a couple of tweaks that I was able to
make to the design to make everything work better.</p>
<h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">¶</a></h3>
<p>Given that design, it was simple and methodical to implement. As far as the PyMarkdown
core was concerned, this was the interface to it:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__check_for_current_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">disable_version_check</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">package_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__package_name</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">x_test_version_fault</span><span class="p">:</span>
        <span class="n">package_name</span> <span class="o">+=</span> <span class="s2">"xxxxxx"</span>
    <span class="n">helper</span> <span class="o">=</span> <span class="n">DialHomeHelper</span><span class="p">(</span><span class="n">package_name</span><span class="p">,</span> <span class="n">PyMarkdownLint</span><span class="o">.</span><span class="n">__dial_home_expiry_in_days</span><span class="p">)</span>

    <span class="p">(</span>
        <span class="n">current_version</span><span class="p">,</span>
        <span class="n">version_error</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">helper</span><span class="o">.</span><span class="n">get_semantic_version_from_version_module</span><span class="p">()</span>
    <span class="k">assert</span> <span class="p">(</span>
        <span class="n">current_version</span>
    <span class="p">),</span> <span class="n">f</span><span class="s2">"Version information was not in the expected location: {version_error}"</span>

    <span class="n">update_message</span> <span class="o">=</span> <span class="n">helper</span><span class="o">.</span><span class="n">verify_version_is_currrent</span><span class="p">(</span>
        <span class="n">current_version</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">force_version_check</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">update_message</span><span class="p">:</span>
        <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">update_message</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">update_message</span><span class="p">)</span>
</pre></div>
<p>Following from the design, the only thing that will cause this check to have a
critical error is during the extraction of the version from the PyMarkdown module.
Because this should only happen if something gets very messed up, the <code>assert</code>
statement is there to prevent that. Other than that, either nothing gets printed
out because everything is fine, or a simple warning message is presented to the
user and logged in the log file.</p>
<p>While I will not go into it in detail, the new code is the <code>DialHomeHelper</code> module
was created and tested to try and ensure that all error paths were thought of
and mitigated.  The <code>get_semantic_version_from_version_module</code> function uses simple
techniques to get the <code>__version__</code> field from the <code>version.py</code> module compiled
within the project.  Once that version is figured out, the <code>verify_version_is_currrent</code>
function is called to check to see if that version is the same as the version that
is currently registered at PyPi.org for
<a href="https://pypi.org/project/pymarkdownlnt/">PyMarkdown</a>.</p>
<p>The code itself is not the most complicated code I have written recently, but it
does hit a mark within me for being some of the most satisfying work to complete.  As
the preface to the section indicates, having a process in place that lets a user
know when there is an update available just makes sense to me.  This work just
made me feel that the project itself was that much more complete.  If I had to
pin it down to a concrete concept and not a feeling, I would say that I believe
that useful applications should be able to dial home. As such, know that PyMarkdown
can dial home, it is that much closer to being a useful application.</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>This week was interesting and fulfilling, but in weird and unusual ways.  One
of the fun metrics that I keep in my head is that there are now only thirty-three lines
of issues in the Issues List between <code>Priority 2</code> and <code>Priority 3</code>. That was a
good improvement.  And looking at that section of the list, at least half of the
items there will probably move to the <code>Priority 3</code> section of the list or
to the GitHub issues list.  Not bad.  I also added over fifty new scenario
tests to the project and came away with only eight added issues that were not
resolvable right away. Decent for my work over the last week.</p>
<p>But my best output from the week was my improved confidence that I had the right
design and right implementation for Nested Container Blocks.  Sure, there were
eight added issues that I needed to fix, but that is par for the course when talking
about software development.  But to have most of the 3 level and less variations
on Nested Container Blocks working without problems is something solid.  More
importantly, it helps me reframe my confidence with Nested Container Blocks to
a more positive level.</p>
<p>And that is what made this week interesting and fulfilling. Just run of the mill
working hard to get things working together properly.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>Having been highly creative in the last few weeks, I need to take at least a week
off any do a tiny bit of brainless stuff.  As such, I am going to start looking at a few
products that are available to analyze open-source projects.
Stay tuned!</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Fun%20With%20Block%20Quotes&url=https%3A//jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Fun%20With%20Block%20Quotes&amp;body=https%3A//jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2021/11/08/markdown-linter-fun-with-block-quotes/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-beta-bugs-g"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2021/11/01/markdown-linter-double-checking-my-double-checks/" title="Previous: Markdown Linter - Double Checking My Double Checks">Markdown Linter - Double Checking My Double Checks</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2021/11/15/improving-quality-figuring-out-better-tooling/" title="Next: Improving Quality - Figuring Out Better Tooling">Improving Quality - Figuring Out Better Tooling</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~14 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-11-08T00:00:00-08:00">Nov 8, 2021</time>
        <h4>Markdown Linter Beta Bugs</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2021/09/27/markdown-linter-clearing-away-some-bugs/" title="Markdown Linter - Clearing Away Some Bugs">Part 1: Markdown Linter - Clearing Away Some Bugs</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/04/markdown-linter-more-beta-bugs/" title="Markdown Linter - More Beta Bugs">Part 2: Markdown Linter - More Beta Bugs</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/10/markdown-linter-cleaning-things-up/" title="Markdown Linter - Cleaning Things Up">Part 3: Markdown Linter - Cleaning Things Up</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/17/markdown-linter-tying-up-some-loose-ends/" title="Markdown Linter - Tying Up Some Loose Ends">Part 4: Markdown Linter - Tying Up Some Loose Ends</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/10/25/markdown-linter-fun-with-nested-containers/" title="Markdown Linter - Fun With Nested Containers">Part 5: Markdown Linter - Fun With Nested Containers</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/11/01/markdown-linter-double-checking-my-double-checks/" title="Markdown Linter - Double Checking My Double Checks">Part 6: Markdown Linter - Double Checking My Double Checks</a>
            </li>
            <li  class="active-part">
            Part 7: Markdown Linter - Fun With Block Quotes
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/11/29/markdown-linter-the-bug-that-almost-knocked-me-down/" title="Markdown Linter - The Bug That Almost Knocked Me Down">Part 8: Markdown Linter - The Bug That Almost Knocked Me Down</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/12/20/markdown-linter-getting-back-to-work/" title="Markdown Linter - Getting Back To Work">Part 9: Markdown Linter - Getting Back To Work</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/12/27/markdown-linter-deciding-what-is-important/" title="Markdown Linter - Deciding What Is Important">Part 10: Markdown Linter - Deciding What Is Important</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/01/03/markdown-linter-keeping-at-it-with-something-that-works-for-you/" title="Markdown Linter - Keeping At It With Something That Works (For You)">Part 11: Markdown Linter - Keeping At It With Something That Works (For You)</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/01/10/markdown-linter-know-when-to-break-the-rules/" title="Markdown Linter - Know When To Break The Rules">Part 12: Markdown Linter - Know When To Break The Rules</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/01/17/markdown-linter-finding-something-that-works/" title="Markdown Linter - Finding Something That Works">Part 13: Markdown Linter - Finding Something That Works</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/01/24/markdown-linter-why-nested-containers-are-so-difficult/" title="Markdown Linter - Why Nested Containers Are So Difficult">Part 14: Markdown Linter - Why Nested Containers Are So Difficult</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/01/31/markdown-linter-there-is-no-such-thing-as-professional-life/" title="Markdown Linter - There Is No Such Thing As Professional Life">Part 15: Markdown Linter - There Is No Such Thing As Professional Life</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/02/07/markdown-linter-is-it-worth-it/" title="Markdown Linter - Is It Worth It?">Part 16: Markdown Linter - Is It Worth It?</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/02/14/markdown-linter-grinding-away-at-issues/" title="Markdown Linter - Grinding Away At Issues">Part 17: Markdown Linter - Grinding Away At Issues</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/03/14/markdown-linter-pi-day-blues/" title="Markdown Linter - Pi Day Blues">Part 18: Markdown Linter - Pi Day Blues</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/03/28/markdown-linter-python-type-hinting/" title="Markdown Linter - Python Type Hinting">Part 19: Markdown Linter - Python Type Hinting</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2022/05/17/markdown-linter-shifting-left/" title="Markdown Linter - Shifting Left">Part 20: Markdown Linter - Shifting Left</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>91</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>109</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>