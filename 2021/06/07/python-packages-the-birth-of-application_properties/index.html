<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I talked about the final changes that I needed to make to get the PyMarkdown project ready for its initial release. In this article, I take a bit of a break from pushing towards release to work on some refactoring. Introduction¶ Having taken up a …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Python packages, Software Quality, " />

<meta property="og:title" content="Python Packages - The Birth of Application_Properties "/>
<meta property="og:url" content="https://jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/" />
<meta property="og:description" content="Summary¶ In my last article, I talked about the final changes that I needed to make to get the PyMarkdown project ready for its initial release. In this article, I take a bit of a break from pushing towards release to work on some refactoring. Introduction¶ Having taken up a …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2021-06-07T00:00:00-07:00" />
<meta name="twitter:title" content="Python Packages - The Birth of Application_Properties ">
<meta name="twitter:description" content="Summary¶ In my last article, I talked about the final changes that I needed to make to get the PyMarkdown project ready for its initial release. In this article, I take a bit of a break from pushing towards release to work on some refactoring. Introduction¶ Having taken up a …">

        <title>Python Packages - The Birth of Application_Properties  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/">
                Python Packages - The Birth of Application_Properties
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#why-that-module">Why That Module?</a><ul>
<li><a href="#the-basics">The Basics</a></li>
<li><a href="#picking-the-best-option-for-a-project">Picking The Best Option For A Project</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#example-1-a-simple-webservice">Example 1: A Simple Webservice</a></li>
<li><a href="#example-2-growing-the-webservice">Example 2: Growing The Webservice</a></li>
<li><a href="#example-3-this-really-should-be-multiple-webservices">Example 3: This Really Should Be Multiple Webservices</a></li>
</ul>
</li>
<li><a href="#looking-for-something-out-there">Looking For Something Out There</a></li>
</ul>
</li>
<li><a href="#getting-it-done">Getting It Done</a><ul>
<li><a href="#starting-with-cleanup">Starting With Cleanup</a></li>
<li><a href="#then-make-a-local-package">Then Make A Local Package</a></li>
<li><a href="#increasing-readability">Increasing Readability?</a></li>
<li><a href="#testing-with-pymarkdown">Testing With PyMarkdown</a></li>
</ul>
</li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#as-always-clean-up">As Always… Clean Up</a></li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2021/05/31/markdown-linter-road-to-initial-release-triple-check-everything/">last article</a>, I talked
about the final changes that I needed to make to get the PyMarkdown project ready for
its initial release. In this article, I take a bit of a break from pushing towards
release to work on some refactoring.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>Having taken up a lot of energy in the past month or so to get the initial
release of the PyMarkdown project done, I was tired.  Not so tired that I could not
look at a computer screen, but tired of the push towards the goal of the initial
release.  And like anyone pushing towards a goal who then reaches that goal,
I knew that the healthy thing to do was to take a bit of needed downtime before
I get back to the issues waiting for me on the PyMarkdown project.</p>
<p>There is a catch though: I do not like sitting still.  Even when I am relaxing, I
like doing something like reading, working on a puzzle or a puzzle book, or trying
something new out.  It is not that I do not care for relaxing, quite the contrary.
It is just that getting something done helps me feel more at piece, even something
as simple as taking care of one of my chores around the house.  One more thing
done, one less thing to worry about.  And I knew that I did not want a big break
from writing Python code, I just wanted a small break from writing code for the
PyMarkdown project.</p>
<p>Looking at the various things that I could spend time on Python-wise, there was
one thing that caught my eye: the <code>application_properties.py</code> module.  </p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather that the solutions themselves.  For a full record of the solutions presented in
this article, please consult the <code>PyMarkdown</code> commit of
<a href="https://github.com/jackdewinter/pymarkdown/commit/9c8b1d3aff583e0aa8a63ec8534b5c943c5a9400">06 Jun 2021</a>
and the <code>application_properties</code> commits between
<a href="https://github.com/jackdewinter/application_properties/commit/abf1caa4d7073b37d0dd5eb98d5c800581d7e1c9">02 Jun 2021</a>
and
<a href="https://github.com/jackdewinter/application_properties/commit/002a9e0c1df8c571b53927c45bc724f516a258a9">06 Jun 2021</a>.</p>
<h2 id="why-that-module">Why That Module?<a class="headerlink" href="#why-that-module" title="Permanent link">¶</a></h2>
<p>When I was looking over my list of various things that I could work on during my
break, there was one prevalent theme among the Python oriented projects:
foundational objects.  In each case, they needed simple configuration support,
simple logging support, and simple file determination support.  While I needed
to think about how to better deal with logging and file determination in the
future, I already had a good solution for configuration that I had developed
for the PyMarkdown project: the <code>application_properties.py</code> module.</p>
<p>But what was the best way to move that to the other projects that I wanted to
start working on?</p>
<h3 id="the-basics">The Basics<a class="headerlink" href="#the-basics" title="Permanent link">¶</a></h3>
<p>Created back in March,
<a href="https://jackdewinter.github.io/2021/03/22/markdown-linter-road-to-initial-release-configuration/">this article</a>
details the thinking around why I created that module.  My decision to
create “another” properties system was not an easy one to make.  However,
after listing out my requirements for any properties system, I was not
able to find any existing system that had the level of quality and readability
that I wanted for a properties system.  As such, I felt the best alternative
was to create a properties system that met those requirements.</p>
<p>With the PyMarkdown project, I felt strongly about documenting what I was
thinking about and going through as I was creating the project.  As the
properties system was an important part of the interface, I dedicated an
entire article to explain why I created that system.  And while I will not
repeat every single point made in that article, I believe there is benefit
in highlighting two of the important points of that article.</p>
<p>The first point that I made is that I believe that every configuration system
can be evaluated on five core concepts: basic property support, command line support
and environment support, validation support, grouping support, and finally hierarchy
support.  Basic property support is the provision of basic operations to get the
property value out of the configuration system.  Command line support and environment
support assume that some manner of file support is a given and ensuring that the
user can override the configuration from either the command line, the environment,
or both is an extra.  Validation support speaks to any functionality that is provided
to help the caller determine the correctness of a configuration value without having
to further handle the value returned from the system.  Grouping support is the ability
of the configuration system to recognize some manner of grouping configuration items
that have a common purpose together.  Finally, hierarchical support provides for an extra
level of understanding of what configuration items belong together with which other
configuration items.</p>
<p>While that is by no means a comprehensive list, it was a good list of requirements to
start off with.  Using that as a foundation, I then presented a good argument that
those requirements help define three basic types of configurations: the Simple Configuration,
the Grouped Configuration, and the Complex Configuration.  The main difference is not
the data that is stored within each configuration, as that data is identical in all
cases.  It is the organization of the data that is the main difference, with the Complex
Configuration type providing the best organization of all three types.</p>
<p>With those types now defined, how do we pick one for any given project?</p>
<h3 id="picking-the-best-option-for-a-project">Picking The Best Option For A Project<a class="headerlink" href="#picking-the-best-option-for-a-project" title="Permanent link">¶</a></h3>
<p>From my experience, if a project’s needs are for five or less configuration items,
a Simple Configuration type typically works best.  For between five and ten
configuration items, it is usually best to start organizing those configuration items
into groups, and hence a Grouped Configuration type is more fitting.  Following that
logic even further, when there are more than ten configuration items, it usually a
good idea to organize those groups into a meaningful hierarchy, lending itself to
the Complex Configuration type.</p>
<p>While I do not use those ranges as concrete guidelines that I strictly follow, to
me they follow my personal common-sense rule.  The first question that I ask myself
is:</p>
<blockquote>
<p>What are the configuration requirements for the project that I am working on?</p>
</blockquote>
<p>The follow up question to that is:</p>
<blockquote>
<p>What is the most obvious way to present that data to make it clear, understandable, and maintainable?”</p>
</blockquote>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">¶</a></h3>
<p>I believe that the best way to show why I believe that these ranges make sense
are with some concrete examples.  While this set of examples is completely fictious,
it follows patterns and situations that I have observed and helped mitigate over the
years.</p>
<h4 id="example-1-a-simple-webservice">Example 1: A Simple Webservice<a class="headerlink" href="#example-1-a-simple-webservice" title="Permanent link">¶</a></h4>
<p>One of the simplest cases that I can think of is the configuration for a simple webservice that
presents data from a simple data file.  In this case, I would probably create a data file that
looked like this:</p>
<div class="highlight"><pre><span></span><span class="na">port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_data.json</span>
</pre></div>
<p>From a common-sense point of view, I believe this layout makes the most sense.  Both
property values relate to the webservice, but that seems to be their only link to each other.
So, partially due to the low number of property items and partially due to their lack of
connection, a Simple Configuration system seems to be the most logical choice for representing
this data.  I believe that this file presents the intention of the data in a way that satisfies
all three of the criteria mentioned above.</p>
<h4 id="example-2-growing-the-webservice">Example 2: Growing The Webservice<a class="headerlink" href="#example-2-growing-the-webservice" title="Permanent link">¶</a></h4>
<p>As with all things simple, they organically seem to grow as people try and make it do “just one
more simple thing”.  For the purpose of this example, I am going to grow the configuration by
allowing it to also specify the endpoint for the webservice, the input type of the data file,
and pagination values to limit the size of items being hosted.  Just adding these values to
the configuration file could result in this orderly file:</p>
<div class="highlight"><pre><span></span><span class="na">port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">endpoint</span><span class="o">=</span><span class="s">/api</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_data.json</span>
<span class="na">mime_type</span><span class="o">=</span><span class="s">application/json</span>
<span class="na">page_item_count</span><span class="o">=</span><span class="s">5</span>
<span class="na">page_maximum</span><span class="o">=</span><span class="s">10</span>
</pre></div>
<p>or it could result in this disorganized file:</p>
<div class="highlight"><pre><span></span><span class="na">port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">endpoint</span><span class="o">=</span><span class="s">/api</span>
<span class="na">page_item_count</span><span class="o">=</span><span class="s">5</span>
<span class="na">mime_type</span><span class="o">=</span><span class="s">application/json</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_data.json</span>
<span class="na">page_maximum</span><span class="o">=</span><span class="s">10</span>
</pre></div>
<p>Using the Simple Configuration Type, there just is not any good way to organize this
information.  If someone decides to add a <code>file</code> configuration item, the only rule is that
it must be within the file.  That is where the Grouped Configuration type comes
into play.  Switching over to that type would allow us to reorganize the configuration file
into a form such as:</p>
<div class="highlight"><pre><span></span><span class="k">[rest]</span>
<span class="na">port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">endpoint</span><span class="o">=</span><span class="s">/api</span>

<span class="k">[source-data]</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_data.json</span>
<span class="na">mime_type</span><span class="o">=</span><span class="s">application/json</span>

<span class="k">[pagination]</span>
<span class="na">item_count</span><span class="o">=</span><span class="s">5</span>
<span class="na">item_maximum</span><span class="o">=</span><span class="s">10</span>
</pre></div>
<p>While the exact format of the file is not important, the grouping of the data within that
file is important.  Instead of a group of six seemingly connected configuration items, the
file is now organized to show that there are three groups of configuration items.</p>
<p>Once again, from a common-sense point of view, I believe this Grouped Configuration type
layout is logical.  The
items in the <code>rest</code> section deal with how the REST endpoint for the webservice is setup.
The items in the <code>source-data</code> section deal with the information that is being presented
and the format in which it is stored.  Finally, the items in the <code>pagination</code> section are
used to provide instructions on how to deal with presenting large amounts of data through
the webservice.</p>
<p>To reiterate a point that I made above, both files present the same configuration
items.  The only differences are that some of the names changed and the addition of groups
for similar items adds more context to each item within that group.</p>
<h4 id="example-3-this-really-should-be-multiple-webservices">Example 3: This Really Should Be Multiple Webservices<a class="headerlink" href="#example-3-this-really-should-be-multiple-webservices" title="Permanent link">¶</a></h4>
<p>Following the rule of “do one thing well”, this example really should be implemented as
multiple webservices.  But due to external pressures, it is commonplace to overload an
already overloaded system just a bit more, even if it is only a stop gap measure. For
this example, I am going to create a fictional requirement that the webservice also hosts
another data file at a second endpoint.<sup id="fnref:push"><a class="footnote-ref" href="#fn:push">1</a></sup></p>
<p>Given that requirement, I started with the Grouped Configuration file that was presented
in the last section, and then made some modifications:</p>
<div class="highlight"><pre><span></span><span class="k">[rest]</span>
<span class="na">port</span><span class="o">=</span><span class="s">8080</span>
<span class="na">endpoint</span><span class="o">=</span><span class="s">/api</span>
<span class="na">alternate_endpoint</span><span class="o">=</span><span class="s">/data</span>

<span class="k">[source-data]</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_data.json</span>
<span class="na">mime_type</span><span class="o">=</span><span class="s">application/json</span>

<span class="k">[alternate-source-data]</span>
<span class="na">file</span><span class="o">=</span><span class="s">my_other_data.json</span>
<span class="na">mime_type</span><span class="o">=</span><span class="s">text/csv</span>

<span class="k">[pagination]</span>
<span class="na">item_count</span><span class="o">=</span><span class="s">5</span>
<span class="na">item_maximum</span><span class="o">=</span><span class="s">10</span>
</pre></div>
<p>Going strictly by my own guidelines, nine configuration items means that this should be a
good configuration file, but it looks disjointed to me. When I read that file, the big
question that I have is whether the item <code>alternate_endpoint</code> is related to the items under
the <code>alternate-source-data</code> group.  And if I must remind myself of that each time that
I read the file, it means the maintainability of the configuration is not where it could be.</p>
<p>That configuration file’s lack of maintainability presents a good reason for bumping the
file up to a Complex Configuration type, such as:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"port"</span> <span class="p">:</span> <span class="mi">8080</span><span class="p">,</span>
    <span class="nt">"endpoint"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"/api"</span><span class="p">,</span>
        <span class="nt">"source"</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"path"</span> <span class="p">:</span> <span class="s2">"my_data.json"</span><span class="p">,</span>
            <span class="nt">"mime_type"</span> <span class="p">:</span> <span class="s2">"application/json"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">"alternate_endpoint"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"/data"</span><span class="p">,</span>
        <span class="nt">"source"</span> <span class="p">:</span> <span class="p">{</span>
            <span class="nt">"path"</span> <span class="p">:</span> <span class="s2">"my_other_data.csv"</span><span class="p">,</span>
            <span class="nt">"mime_type"</span> <span class="p">:</span> <span class="s2">"text/csv"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">"pagination"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="nt">"item_count"</span> <span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nt">"item_maximum"</span> <span class="p">:</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>While there is a bit more text in this file, that text helps define meaningful context
that adds hierarchical context to the data.  Speaking directly to my previous question
regarding the item <code>alternate_endpoint</code>, it is now clear that the endpoint’s path and
the endpoint’s source data are directly connected.  Additionally, it allows the file
to group the <code>path</code> and <code>mime_type</code> configuration items under the <code>source</code> entry, making
it clear that both of those items are related to the source used for the webservice.</p>
<p>I may be reiterating this point too many times, but this kind of formatting just seems
like common sense to me.  This data is more complex, so the configuration type must
evolve with the data, or understanding and maintainability suffers.  To me, the format
of this file makes the data clear, understandable, and maintainable.</p>
<h3 id="looking-for-something-out-there">Looking For Something Out There<a class="headerlink" href="#looking-for-something-out-there" title="Permanent link">¶</a></h3>
<p>Other than sounding like the opening line to a Hair Rock ballad, the section title describes
what I initially did when looking for a solution that provided all three levels of
configuration.  While there were some solutions out there that provided for the first two types
of configuration, I could not find anything that handles the Complex Configuration type.  I
know that the above sample is a simple JSON file and loading JSON files are easy, but the
traversal of the configuration data should be easy as well.</p>
<p>It was then that I realized that I wanted to pull the <code>application_properties.py</code> module
out of the PyMarkdown project and turn it into its own package.  My plan is to start with
what I have, and quickly add on other loaders to address the Simple Configuration type
and the Grouped configuration type.  The thing that ties them together?  Regardless of
how the configuration is loaded, the Python interface should remain the same.</p>
<p>Basically, I believe that I have a good way to present properties to Python developers,
and I believe that releasing <code>application_properties</code> as a package will provide some
benefit to others.  Now I just had to do the work to get it done!</p>
<h2 id="getting-it-done">Getting It Done<a class="headerlink" href="#getting-it-done" title="Permanent link">¶</a></h2>
<p>The first two commits to the new repository,
<a href="https://github.com/jackdewinter/application_properties">jackdewinter/application_properties</a>
were simple with only a couple of changes.  The only changes that I made before that
commit were to add new test functions for any functionality that was previously uncovered.
That effort was nothing serious, just the addition of a handful of test functions to
cover lines that previous had been covered by the scenario tests for PyMarkdown.  Due to
the simple nature of the package, I was able to get the code coverage to 100 percent with
little effort. And, like the PyMarkdown project, maintaining a coverage percentage near that
value is a worthy goal that I hope to be able to maintain.</p>
<h3 id="starting-with-cleanup">Starting With Cleanup<a class="headerlink" href="#starting-with-cleanup" title="Permanent link">¶</a></h3>
<p>Before I could package the project up, I felt that I needed to clean up two things.  The first
bit of cleanup that I needed to do was to split up the various classes in the
<code>application_properties.py</code> file up, reorganizing them to follow the one class one module rule.
When the module was in the PyMarkdown project, that module was only one module in a group
of other modules. As such, keeping all three classes in one module made sense. Now that it
was in a package dedicated to providing access to properties, it just seemed like
the right thing to do.</p>
<p>Once that task was completed, I took some time to properly understand the
purpose of a <code>__init__.py</code> file in a package, then taking that knowledge to
create an <code>__init__.py</code> file for the package.  I was confused at first
as to how to properly construct a good <code>__init__.py</code> file that would work properly.
Looking at other Python packages and how they constructed their <code>__init__.py</code> files
helped me learn a lot. Initially, I was also concerned it would be a lot of effort to create,
but it turned out to be straightforward process.  As an added benefit, it made accessing the
package from the test modules a lot easier.</p>
<h3 id="then-make-a-local-package">Then Make A Local Package<a class="headerlink" href="#then-make-a-local-package" title="Permanent link">¶</a></h3>
<p>From that point, my next goal was to create a distributable package that I could test
locally.  Like the way I created a simple <code>pymtest</code> project to test the installation
of the PyMarkdown project, I decided to use the PyMarkdown project to test the installation
of the <code>application_properties</code> package.  From my experience with PyMarkdown, I knew that I
could install the package locally using the command line:</p>
<div class="highlight"><pre><span></span>pipenv install ../pymarkdown/dist/pymarkdownlnt-0.8.0.tar.gz
</pre></div>
<p>Being able to test that package locally before I published it was fantastic.  I could
fiddle with whatever settings I wanted to until everything looked just right.</p>
<p>So, with the project itself cleaned up, I decided to use the PyMarkdown project as a
“cheat sheet” of what to do.  Since I created the packaging for that project and I
knew how well it worked, I figured that using the PyMarkdown project as a template
was a smart move. Therefore, I started copying files from the PyMarkdown project as
examples of what I needed to do in the current project.</p>
<p>The list of files that I needed to copy over and change from the PyMarkdown project
was quite small.  The obvious file is the <code>setup.py</code> file, and it required around ten
changes to work properly.  Other than that, the <code>version.py</code> file, the <code>MANIFEST.in</code>
file, the <code>install-requirements.txt</code> file, and the <code>package.cmd</code> file were the only
other files that I copied over.  After making small changes to the <code>version.py</code> file
and the <code>install-requirements.txt</code> file, the package was building within five minutes
of starting the work on this section.</p>
<h3 id="increasing-readability">Increasing Readability?<a class="headerlink" href="#increasing-readability" title="Permanent link">¶</a></h3>
<p>Outside of
changing the name of the package, the biggest change was my introduction of a new
file called the <code>pypi.md</code> file.  Since my creation of the PyMarkdown project’s
<a href="https://github.com/jackdewinter/pymarkdown/blob/main/readme.md">readme.md file</a>,
I have started to wonder if that Pypi.org page for the package has too much information.
While I believe that the PyMarkdown readme.md file is a solid GitHub repository <code>readme.md</code>
file, I am not sure if it is the right length for a
<a href="https://pypi.org/project/pymarkdownlnt/">PyPi.org project description page</a>.</p>
<p>I am not sure of whether a copy of the <code>readme.md</code> file or a shorter version
of that information is the best thing for either project, so I decided to experiment.
I created the <code>pypi.md</code> file to be used as the source for the <code>application_properties</code>
package’s
<a href="https://pypi.org/project/application-properties/">PyPi.org project description page</a>.
Into that file, I copied the first three sections, with reference links to the main
readme.md file. This way I can see both in action, solicit feedback, and make an educated
decision at a later date.</p>
<p>As I said, it is an experiment.  Not sure how it will turn out, but time will tell.</p>
<h3 id="testing-with-pymarkdown">Testing With PyMarkdown<a class="headerlink" href="#testing-with-pymarkdown" title="Permanent link">¶</a></h3>
<p>Going back to the PyMarkdown project, I was easily able to add the newly built package
to my project using the following command line:</p>
<div class="highlight"><pre><span></span>pipenv install ../application_properties/dist/application_properties-0.5.0.tar.gz
</pre></div>
<p>Once I did that, I went to the PyMarkdown source files and removed the
<code>application_properties.py</code> from the project.  Trying to compile, I noticed that I
needed to do some small changes on the import statements for the <code>application_properties</code>
module.  Other than that, everything just worked.  I would like to think that a certain
amount of that was luck, but I believe that it was simply good organization.  Other than
the new <code>__init__.py</code> module in the project taking care of the import responsibilities,
everything was the same as before.  They had the same class names and the same function names;
the only difference was that they were in a different package.</p>
<p>After double checking, the <code>test_application_properties.py</code> module was removed, as it had
also been moved to the new project.  Running all the PyMarkdown scenario tests, everything
worked fine, so it was time to move on.</p>
<h2 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">¶</a></h2>
<p>With the thorough tests in place, zero PyLint &amp; Flake8 warnings, a clean build of the Python
package itself, and the testing of that package in the PyMarkdown project accomplished, there
was only one thing left to do: documentation.</p>
<p>If I am being honest, I was mostly looking forward to working on the documentation.  Based on
my usage of the module in the PyMarkdown project and the few changes that I already performed
in this project, I was confident that I had a good set of modules to document.  For me, that
is always the bulk of the battle.  The more confident and interested I am in the subject that
I am documenting, the easier the words flow out of my fingers.</p>
<p>The other reason that I look forward to working on documentation is that it has a habit
of forcing me to walk through the entire user interface for the purposes of documenting it.
Along the way, if something is not done right, it quickly becomes obvious to me.  From my
experience, I have found that the effort required to document an object is directly
proportional to how difficult that object is to understand.  I knew there were probably
going to be a couple of things that I missed or could be simplified, and I was eager to
get to them.</p>
<p>As the module had been previously tested, there was not that much to find.  One of the
functions that was missing was a new function called <code>property_names_under</code> to
complement the <code>property_names</code> property that listed every property name in the
configuration instance.  This new function took that same concept but altered the
returned list slightly to only return those property names that were under a given
prefix.  That way, instead of the caller having to filter the return value of <code>property_names</code>
to only include the values under <code>rest</code>, the caller could ask the
<code>property_names_under</code> function for values under <code>rest</code>.</p>
<p>Along those same lines, I needed to fix up the <code>handle_error_fn</code> parameter of the
<code>ApplicationPropertiesJsonLoader</code> class.  Since the PyMarkdown project wanted a
consistent response to any load exception, I created this parameter to pass
failure text along with the exception.  That way, the project could decide how to
best display that information.  The only problem was that it did not have any default
behavior, so it required an inner function to be created in the test functions.</p>
<p>I decided to clear that up by adding the following code to the <code>load_and_set</code> function:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">handle_error_fn</span><span class="p">:</span>

        <span class="k">def</span> <span class="nf">print_error_to_stdout</span><span class="p">(</span><span class="n">formatted_error</span><span class="p">,</span> <span class="n">thrown_exception</span><span class="p">):</span>
            <span class="n">_</span> <span class="o">=</span> <span class="n">thrown_exception</span>
            <span class="k">print</span><span class="p">(</span><span class="n">formatted_error</span><span class="p">)</span>

        <span class="n">handle_error_fn</span> <span class="o">=</span> <span class="n">print_error_to_stdout</span>
</pre></div>
<p>A simple write of the <code>formatted_error</code> to standard out, but a simple enough default.</p>
<h2 id="as-always-clean-up">As Always… Clean Up<a class="headerlink" href="#as-always-clean-up" title="Permanent link">¶</a></h2>
<p>Before I published, I took a quick look through the code and documentation, and just did
some small cleanup tasks here and there.  Nothing big, just some rewording of the
documentation, creating GitHub issues to track what needs to be done, and adding placeholder
sections to some of the documents.  There was some stuff left to do, but for an initial
release, it would be good enough.</p>
<p>And with that, I ran the <code>publish_to_pypi.cmd</code> script and published the package.  I then
went over to the PyMarkdown project and updated its dependency from a local package to
<code>application_properties==0.5.0</code>, and reran every test.</p>
<p>With things looking good, and all tests passing, it was time to call it a day!</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>While it might seem weird to some people, it was a fun and relaxing week
working on the initial release of the <code>application_properties</code> package.  No pressure
from myself to do anything, just take something I already have and clean it up for
publication.</p>
<p>It was also nice to know that I was thinking about future projects in Python.  Looking
at the PyMarkdown directory on my computer, there are a couple of helper
scripts that I use every so often for various small tasks.  It would be nice to get
them out of that directory and into their own project.  That would allow me to clean
them up and make them easier to use.  Nothing serious,
just some small helper applications, but nice fun projects to work on.  And having
a good start on the configuration for those projects, that was a nice thing to have
in my pocket.</p>
<p>Yes, next week was going to be about getting more work done on PyMarkdown.  But for this
week, it was a nice and relaxing small break.  I felt refreshed.</p>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>Getting back to PyMarkdown, I start to go through the issues list, with the goal
to knock a couple more things off that list.</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:push">
<p>While I would push back on this requirement from a quality point of view, I would also acknowledge that there may well be a business benefit to this overload for a variety of reasons. <a class="footnote-backref" href="#fnref:push" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Python%20Packages%20-%20The%20Birth%20of%20Application_Properties&url=https%3A//jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/&hashtags=python-packages" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Python%20Packages%20-%20The%20Birth%20of%20Application_Properties&amp;body=https%3A//jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2021/06/07/python-packages-the-birth-of-application_properties/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="application-properties-package-1"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2021/05/31/markdown-linter-road-to-initial-release-triple-check-everything/" title="Previous: Markdown Linter - Road To Initial Release - Triple Check Everything">Markdown Linter - Road To Initial Release - Triple Check Everything</a></li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~16 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-06-07T00:00:00-07:00">Jun 7, 2021</time>
        <h4>Application Properties Package</h4>
    <ul class="multi-parts-list">
            <li  class="active-part">
            Part 1: Python Packages - The Birth of Application_Properties
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#python-packages-ref">Python packages
                    <span>1</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>