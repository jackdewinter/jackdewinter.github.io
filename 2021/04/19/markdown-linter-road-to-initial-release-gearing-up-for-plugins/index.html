<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I talked about how I worked through the issues to create an installable package for the project. In this article, I talk about gearing up for the work that I need to do on the plugins to get them ready for the release. Introduction¶ Having …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Markdown Linter - Road To Initial Release - Gearing Up For Plugins "/>
<meta property="og:url" content="https://jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/" />
<meta property="og:description" content="Summary¶ In my last article, I talked about how I worked through the issues to create an installable package for the project. In this article, I talk about gearing up for the work that I need to do on the plugins to get them ready for the release. Introduction¶ Having …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2021-04-19T00:00:00-07:00" />
<meta name="twitter:title" content="Markdown Linter - Road To Initial Release - Gearing Up For Plugins ">
<meta name="twitter:description" content="Summary¶ In my last article, I talked about how I worked through the issues to create an installable package for the project. In this article, I talk about gearing up for the work that I need to do on the plugins to get them ready for the release. Introduction¶ Having …">

        <title>Markdown Linter - Road To Initial Release - Gearing Up For Plugins  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/">
                Markdown Linter - Road To Initial Release - Gearing Up For Plugins
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-the-audience-for-this-article">What Is the Audience for This Article?</a></li>
<li><a href="#where-to-start">Where To Start?</a></li>
<li><a href="#adding-in-where-exceptions-occur">Adding In Where Exceptions Occur</a></li>
<li><a href="#only-displaying-implemented-plugins">Only Displaying Implemented Plugins</a></li>
<li><a href="#setting-configuration-values-manually">Setting Configuration Values Manually</a><ul>
<li><a href="#why">Why?</a></li>
<li><a href="#figuring-out-requirements">Figuring Out Requirements</a></li>
<li><a href="#research">Research</a></li>
<li><a href="#where-did-i-land">Where Did I Land?</a></li>
<li><a href="#implementation">Implementation</a></li>
<li><a href="#verifying-the-manual-property-string">Verifying The Manual Property String</a></li>
<li><a href="#verifying-the-property-key">Verifying The Property Key</a></li>
<li><a href="#verifying-the-property-key-parts">Verifying The Property Key Parts</a></li>
<li><a href="#why-did-i-do-it-this-way">Why Did I Do It This Way?</a></li>
<li><a href="#adding-the-type-system">Adding The Type System</a></li>
</ul>
</li>
<li><a href="#wiring-it-up-to-the-command-line">Wiring It Up To The Command Line</a></li>
<li><a href="#what-was-my-experience-so-far">What Was My Experience So Far?</a></li>
<li><a href="#what-is-next">What is Next?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2021/04/12/markdown-linter-road-to-initial-release-creating-a-package/">last article</a>, I talked about
how I worked through the issues to create an installable package for the project.  In
this article, I talk about gearing up for the work that I need to do on the plugins to
get them ready for the release.</p>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>Having made great progress towards the initial release, I knew that I needed to spend
some time focusing on the heart of the PyMarkdown linter project: the rule plugins.  To be
honest, the last time that I have spent any serious time looking at the rules was at
least five or six months ago.  In that time, I have changed a lot of code, both improving
how things performed and fixing issues.  It just made sense that before I release the
project, that I go through the already implemented rules and make sure they get the same
thorough treatment that I have given the rest of the project.</p>
<h2 id="what-is-the-audience-for-this-article">What Is the Audience for This Article?<a class="headerlink" href="#what-is-the-audience-for-this-article" title="Permanent link">¶</a></h2>
<p>While detailed more eloquently in
<a href="https://jackdewinter.github.io/2020/04/05/what-is-the-audience-for-my-blog/#what-is-the-audience-for-my-blog">this article</a>,
my goal for this technical article is to focus on the reasoning behind my solutions,
rather that the solutions themselves.  For a full record of the solutions presented in
this article, please go to this project’s GitHub repository and consult the
commits between
<a href="https://github.com/jackdewinter/pymarkdown/commit/2c3d4f65c9f1aa1cbd079f6939c6fbb4d3a7008c">03 Apr 2021</a>
and
<a href="https://github.com/jackdewinter/pymarkdown/commit/2ee5154b52250231e7f5ea1afc6582c5655521c9">10 Apr 2021</a>.</p>
<h2 id="where-to-start">Where To Start?<a class="headerlink" href="#where-to-start" title="Permanent link">¶</a></h2>
<p>Looking at the current set of issues that I had with the configuration system, I noticed
two little problems and one slightly bigger problem.  The first little problem had
to deal with the error output from the plugin manager.  If there was any kind of
exception in the plugin, it was being handled and replaced with a more standard error.
But the issue that I had with it was that I needed more information to be provided with
that error, to debug plugin issues more effectively.  The second problem was the
inverse of the first problem: too much information.  When listing the plugins from the
command line, I felt that I was providing too much information and needed a way to filter
out plugins that were in development.</p>
<p>The bigger problem was going to take more time, but I also felt that it was important.  I
needed to find an effective way to override any configuration file properties from the
command line.
In any useful command line tool that I have used, that tool almost always has support
for a configuration file and configuration from the command line.  Having used tools
with this functionality implemented, I sincerely felt it is a better, more efficient way
to work.  I felt it was important enough to take the time to implemented it and do
implement it right.</p>
<p>With those three issues to fix, it was time to get to work!</p>
<h2 id="adding-in-where-exceptions-occur">Adding In Where Exceptions Occur<a class="headerlink" href="#adding-in-where-exceptions-occur" title="Permanent link">¶</a></h2>
<p>As I mentioned above, the first issue that I wanted to tackle was one that I believe is
helpful in debugging issues with PyMarkdown’s rule plugin modules.  Prior to this change,
if one of the rules thrown an exception, plenty of information was included about the
exception that occurred.  What that information that was missing was any information
detailing where the parser was in the Markdown document when the exception occurred.
While that
may seem like a small thing, that extra content is often pivotal to diagnosing why the
exception was raised in the first place.</p>
<p>Thankfully, adding that information was rather trivial.  To start, the <code>__init__</code> function
of the <code>BadPluginError</code> class was changed to accept four new arguments: <code>line_number</code>,
<code>column_number</code>, <code>actual_line</code>, and <code>actual_token</code>.  The handling of those arguments
was then added to the end of the processing of the <code>formatted_message</code> variable in
the <code>__init__</code> function:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">line_number</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">column_number</span><span class="p">:</span>
            <span class="n">position_message</span><span class="o">=</span><span class="n">f</span><span class="s2">"({line_number},{column_number})"</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">position_message</span><span class="o">=</span><span class="n">f</span><span class="s2">"(Line {line_number})"</span>
        <span class="n">formatted_message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"{position_message}: {formatted_message}"</span>
    <span class="k">if</span> <span class="n">actual_line</span><span class="p">:</span>
        <span class="n">formatted_message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"{formatted_message}</span><span class="se">\n</span><span class="s2">Actual Line: {actual_line}"</span>
    <span class="k">if</span> <span class="n">actual_token</span><span class="p">:</span>
        <span class="n">formatted_message</span> <span class="o">=</span> <span class="n">f</span><span class="s2">"{formatted_message}</span><span class="se">\n</span><span class="s2">Actual Token: {ParserHelper.make_value_visible(actual_token)}"</span>
</pre></div>
<p>Basically, if the <code>line_number</code> argument is provided, then the <code>line_number</code> and
optionally the <code>column_number</code> are added to the end of the <code>formatted_message</code>
variable.  Additionly, if a line is being processed when the error occurs, the
<code>actual_line</code> is specified, and that variable is added on its own line.  Similarly,
if a token is being processed when the error occurs, the <code>actual_token</code> is added
on its own line.</p>
<p>With that work completed, it was then time to wire up the other side of the exception:
where the <code>PluginManager</code> class raised those exceptions.  To ensure that the extra
information would only be provided when requested, its presence was enabled by passing the
<code>arg.show_stack_trace</code> variable
from the command line into the class.  Once set as the <code>self.__show_stack_trace</code>
member variable, the <code>next_line</code> function was changed to:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">next_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">line_number</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">line_number</span> <span class="o">=</span> <span class="n">line_number</span>
    <span class="k">for</span> <span class="n">next_plugin</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__enabled_plugins_for_next_line</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">next_plugin</span><span class="o">.</span><span class="n">plugin_instance</span><span class="o">.</span><span class="n">next_line</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">this_exception</span><span class="p">:</span>
            <span class="n">actual_line</span> <span class="o">=</span> <span class="n">line</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__show_stack_trace</span> <span class="k">else</span> <span class="bp">None</span>

            <span class="k">raise</span> <span class="n">BadPluginError</span><span class="p">(</span>
                <span class="n">next_plugin</span><span class="o">.</span><span class="n">plugin_id</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">stack</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">line_number</span><span class="o">=</span><span class="n">line_number</span><span class="p">,</span> <span class="n">actual_line</span><span class="o">=</span><span class="n">actual_line</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">this_exception</span>
</pre></div>
<p>and the <code>next_token</code> function was changed to:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">next_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">token</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Inform any listeners of a new token that has been processed.</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">next_plugin</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__enabled_plugins_for_next_token</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">next_plugin</span><span class="o">.</span><span class="n">plugin_instance</span><span class="o">.</span><span class="n">next_token</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">this_exception</span><span class="p">:</span>
            <span class="n">actual_token</span> <span class="o">=</span> <span class="n">token</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__show_stack_trace</span> <span class="k">else</span> <span class="bp">None</span>

            <span class="k">raise</span> <span class="n">BadPluginError</span><span class="p">(</span>
                <span class="n">next_plugin</span><span class="o">.</span><span class="n">plugin_id</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">stack</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">function</span><span class="p">,</span> <span class="n">line_number</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">line_number</span><span class="p">,</span> <span class="n">column_number</span><span class="o">=</span><span class="n">token</span><span class="o">.</span><span class="n">column_number</span><span class="p">,</span> <span class="n">actual_token</span><span class="o">=</span><span class="n">actual_token</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">this_exception</span>
</pre></div>
<p>In the <code>next_line</code> function, the <code>line_number</code> is always passed on to the exception when
it is raised.  Keying off of the <code>self.__show_stack_trace</code> member variable, the
<code>actual_line</code> is either set to <code>None</code> or to the current line.  As expected, the changes
to the <code>next_token</code> function perform the same actions, just with a token-based approach
instead of a line-based approach.</p>
<p>Once this code was in place, I started to execute the scenario tests, and was welcomed
by the behavior that I expected.  The four scenario tests that I expected would
change did change.  In addition, when I added two additional scenario tests to ensure
that the code was properly covered, the output for those two tests was as I expected.
With a bit of cleanup to ensure that all <code>PyLint</code> checks pass, it was then on to the
next planned change.</p>
<h2 id="only-displaying-implemented-plugins">Only Displaying Implemented Plugins<a class="headerlink" href="#only-displaying-implemented-plugins" title="Permanent link">¶</a></h2>
<p>For the initial release, I wanted everything to look nice and clean.  As such, when I was
going through the command line to document what I saw there, there was something in the
output for the <code>plugins list</code> subcommand that I did not like: unimplemented rules were
showing up.  I wanted those “in-development” rules plugins to be included in the project
to remind me to complete them, but I did not want them to show up until they were done.
When I added the version numbers for all the rules, I set the version numbers of those
“in-development” rules to <code>0.0.0</code> as a visual reminder that they were not yet ready.
But now that I wanted to clean things up, that did not look as clean as I wanted it to,
so I needed to change it.</p>
<p>To preserve the existing behavior, I changed the command line parser to implement a
new <code>--all</code> flag:</p>
<div class="highlight"><pre><span></span><span class="n">sub_sub_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s2">"--all"</span><span class="p">,</span>
    <span class="n">dest</span><span class="o">=</span><span class="s2">"show_all"</span><span class="p">,</span>
    <span class="n">action</span><span class="o">=</span><span class="s2">"store_true"</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="s2">"show all loaded plugins (default is False)"</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
<p>Then, in the <code>__handle_argparse_subparser_list</code> function that handles the list of
plugins, I made a small change:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">next_plugin</span><span class="o">.</span><span class="n">plugin_version</span> <span class="o">==</span> <span class="s2">"0.0.0"</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">show_all</span><span class="p">:</span>
        <span class="k">continue</span>
</pre></div>
<p>These two small changes together specified that by default, if a plugin containing a
rule has a version of <code>0.0.0</code>, it will be skipped over in the list, unless the <code>--all</code>
flag is specified.  Scenario tests that previously emitted:</p>
<div class="highlight"><pre><span></span>  md009  no-trailing-spaces     False              False              0.0.0
  md019  no-multiple-space-atx  True               True               0.5.0
  md029  ol-prefix              False              False              0.0.0
  md039  no-space-in-links      False              False              0.0.0
</pre></div>
<p>now emitted:</p>
<div class="highlight"><pre><span></span>  md019  no-multiple-space-atx  True               True               0.5.0
</pre></div>
<p>unless the <code>--all</code> flag was set.  By default, only those rules that were no longer in
development would be listed.  In my eyes, it just looked cleaner and more correct.</p>
<h2 id="setting-configuration-values-manually">Setting Configuration Values Manually<a class="headerlink" href="#setting-configuration-values-manually" title="Permanent link">¶</a></h2>
<p>With the two small issues out of the way, it was time for me to focus on the large
issue.  The
definition of the issue itself was easy.  There already existed a good way to set
configuration values using the configuration files, as mentioned in my article on
the project’s new
<a href="https://jackdewinter.github.io/2021/03/22/markdown-linter-road-to-initial-release-configuration/">configuration system</a>.
But for me, that was not enough.  I wanted to be able to set configuration values
directly from the command line.</p>
<h3 id="why">Why?<a class="headerlink" href="#why" title="Permanent link">¶</a></h3>
<p>When I am starting to use any tool like the PyMarkdown linter, I usually need to
experiment with the configuration to get it dialed in the way I want it.  With tools that
only have a configuration file, I find that that process that I use to figure out
settings is inefficient.  That process involves a lot of repetitions of the following
tasks: look something up or consult the tool’s command line help, figure out
a variation that is close to how I want it, change the configuration file, save that file,
and run the tool to verify the new behavior.  The biggest issue I have with this process
is that I am
constantly switching contexts from one tool to another, figuring things out for the next
step.  The second biggest issue is that it is very easy to forget the “save that file”
step of the process.  I do that a lot!</p>
<p>Then there are those few tools that I find both useful and efficient, like PyTest.  By
default,
PyTest reads its configuration from the <code>setup.cfg</code> file.  However, any setting in the
tool can be overridden from the command line.  That one simple change made configuring
PyTest simple and easy.  Sure, I still had the consult, figure, and execute steps from
above, but I eliminated the change and save steps.  To make the PyMarkdown project easier
to configure for users, I wanted to adopt a similar style of interface: configuration
file for “tested” values and the command line for “experimental” values.</p>
<h3 id="figuring-out-requirements">Figuring Out Requirements<a class="headerlink" href="#figuring-out-requirements" title="Permanent link">¶</a></h3>
<p>The first step in adopting a similar type of interface for the PyMarkdown project was to
take the time to figure out a solid set of requirements.  Specifying the property name
from the command line was the relatively easy part.  As I had used the <code>.</code> character as a
property name separator character, there were a couple of easy combinations that I needed
to prevent against as they made no sense.  Then focusing in on each one of those property
parts, there was another set of requirements that arose from ensuring that each part was
consistent and valid. Adding the <code>=</code> character to separate the property name from the
property value add a couple of small requirements, but nothing big.  For good measure,
I decided that whitespaces within the property name were going to be too much trouble,
so I added those characters to the list of illegal characters in a property name.</p>
<p>Then there was the big design decision:  How to handle the property values?  At this
point, the configuration system itself can handle properties that are strings, integers,
and booleans.  Without any modifications, the command line flag <code>-set key=value</code> can
handle only one type of property values: strings.  I needed to figure out a simple way
to allow for that one type to be extended to include the extra types supported by
the configuration system.  The question was how to do that in a way that made sense?</p>
<h3 id="research">Research<a class="headerlink" href="#research" title="Permanent link">¶</a></h3>
<p>A good subtitle for this section could be “Jack sits around and scribbles on paper like a
maniac for a week”.  Even if that is what it looked like, “Research” was a more precise
definition of what I was doing.  As readers of past articles might have picked up, I try
to always put my best work out there, so I go the extra distance to try and make the
right decisions for the right reasons.  This was no
different.  The problem that I was facing was that there were few good examples out there
to compare to.</p>
<p>I do not blame other teams for taking the easy way out and making simple decisions.  If
you have a configuration system that is relatively simple, the design decisions that come
out of providing information to that system are also relatively simple.  When I
looked at other configuration systems and interfaces, most of what I found were
simple configuration systems.  If the tools went so far as to provide any additional
interfaces, those provided interfaces were also simple.  To be plain and concise, for a
lot of applications, only supporting a string type
is perfectly fine, so their configuration systems support that.  If any extra meaning is
to be imparted to that string, it is up to the developer to add that extra level of
meaning and handle any errors.</p>
<p>The problem with that approach is that the PyMarkdown project does not have a simple
configuration system, it has a
<a href="https://jackdewinter.github.io/2021/03/22/markdown-linter-road-to-initial-release-configuration/#which-is-best-for-this-project">complex one</a>.
As part of the design of the configuration system, it just made sense to have that system
understand the difference between the different types of data.  For me, to not support
that functionality would make the configuration system seem like it was half done.  But
now I knew that I had to come up with an equally easy solution for manually setting the
property values as I had for the rest of the configuration system.</p>
<p>I tried many different alternatives that attempted to figure out the type of the string
without any explicit declarations being used.  But for every 95% of the cases that I was
able to get working well, the remaining 5% of the cases always seemed to sink the
approach.  One good example is the string <code>True</code> or <code>true</code>.  Is it meant to be a string
or is it meant to be a boolean?  Similarly with the string <code>010</code>.  Is it meant to be a
string or an integer?  If it is an integer, is it in decimal form or binary form?  While
I can make sense of when to translate or not, figuring out an algorithm to implicitly
make that same decision seemed pointless.  In addition, I did not want any required
translation to occur any later than it had to.  If that translation fails, I would rather
the translation failed fast, as soon as it could reasonably fail.</p>
<h3 id="where-did-i-land">Where Did I Land?<a class="headerlink" href="#where-did-i-land" title="Permanent link">¶</a></h3>
<p>Like many other features in this project, after spending a good amount of time trying to
do things the fancy way, I was able to find success in using the simple approach.  For
the configuration values, I decided that a string should only be interpreted as something
else if the user explicitly specifies so.  As I mentioned in the last section, I was able
to make sense of when to translate or not and I believe the user is also the best
entity to decide whether to translate or not.  Therefore,
I decided to use the <code>$</code> character to start special handling of translation of the
configuration value to other types.</p>
<p>Hopefully keeping it simple, if the configuration string is of the form <code>key=value</code> or
<code>key=$$value</code>, then the string <code>value</code> is assigned to the property named <code>key</code>.  If
that value needs to be an integer, then the form <code>key=$#value</code> is used.  Similarly, if
that value needs to be a boolean, then the form <code>key=$!value</code> is used.  Trying to keep
things simple, I figured that a decent percentage of the users will not have issues
identifying the <code>$</code> character with a string, the <code>#</code> with an integer, and the <code>!</code> with
a boolean.  To further keep things simple, the integer can only be provided in the normal
base 10 notation (with a sign and leading zeros a sign if desired) and the boolean is set
to true if lowercase value equals the string <code>true</code>.</p>
<p>After spending some time to enumerate all the different scenarios that I wanted to handle,
I felt good about the research.  The only thing I was concerned about were the boundary
cases, so I examine the algorithms again looking for any potential issues.  I felt mostly
silly for missing one of the boundary conditions, but I did find it before I started
coding, that was the important thing.  That boundary condition was to have a <code>$</code>
character that was not followed by any other of the type characters.</p>
<p>A couple of quick adjustments to the algorithm, and another check to make sure that I
did not miss any other boundary cases, and it was on to the implementation!</p>
<h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">¶</a></h3>
<p>After all that research, I felt an extra sense of urgency to get this feature completed.
I do not regret taking almost six days to figure out the right decision for this feature,
but it was six days.  I wanted to get this feature completed so I could move on to the
next thing in the issues list.  Given the research from above, I already had more than
ten scenarios derived, so I coded each scenario into its own scenario test and
started to get to work coding the new <code>set_manual_property</code> function.</p>
<p>The first version of the new <code>set_manual_property</code> function was simple:</p>
<div class="highlight"><pre><span></span><span class="n">__assignment_operator</span> <span class="o">=</span> <span class="s2">"="</span>

<span class="o">...</span>

<span class="k">def</span> <span class="nf">set_manual_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">combined_string</span><span class="p">):</span>

    <span class="n">equals_index</span> <span class="o">=</span> <span class="n">combined_string</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__assignment_operator</span><span class="p">)</span>
    <span class="n">property_key</span> <span class="o">=</span> <span class="n">combined_string</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">equals_index</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">property_value</span> <span class="o">=</span> <span class="n">combined_string</span><span class="p">[</span><span class="n">equals_index</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">__flat_property_map</span><span class="p">[</span><span class="n">property_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">property_value</span><span class="p">)</span>
</pre></div>
<p>Keeping things simple, my goal was to just get the first scenario tests with the simplest
scenario passing.  As such, the task was simply to split the string up into its
constituent parts and add it to the dictionary.  It was a simple start, but a good start.</p>
<h3 id="verifying-the-manual-property-string">Verifying The Manual Property String<a class="headerlink" href="#verifying-the-manual-property-string" title="Permanent link">¶</a></h3>
<p>With the foundation in place, it was then time to start adding the layers.  The first
layer that i needed to add was to verify the form of the manual property string.  Where
possible, I strongly believe that a utility should provide as much information about
why something is wrong as is possible.  With that in mind, I created the first iteration
of the <code>verify_manual_property_form</code> function:</p>
<div class="highlight"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">verify_manual_property_form</span><span class="p">(</span><span class="n">string_to_verify</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">string_to_verify</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Manual property form must be a string."</span><span class="p">)</span>
    <span class="n">equals_index</span> <span class="o">=</span> <span class="n">string_to_verify</span><span class="o">.</span><span class="n">find</span><span class="p">(</span>
        <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__assignment_operator</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">equals_index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">"Manual property key and value must be separated by the '=' character."</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">string_to_verify</span>
</pre></div>
<p>It was not much, but it was a good start.  This function was there to verify that the
entire string was a properly formed string, with good error messages if it was not.
With that accomplished, it was on to the next step.</p>
<h3 id="verifying-the-property-key">Verifying The Property Key<a class="headerlink" href="#verifying-the-property-key" title="Permanent link">¶</a></h3>
<p>The next step was to extend the verification to verify that the property keys on the
left of the manual property string were validly formed.  This was easily done by adding
these two lines at the end of the <code>verify_manual_property_form</code> function:</p>
<div class="highlight"><pre><span></span>    <span class="n">property_key</span> <span class="o">=</span> <span class="n">string_to_verify</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">equals_index</span><span class="p">]</span>
    <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">verify_full_key_form</span><span class="p">(</span><span class="n">property_key</span><span class="p">)</span>
</pre></div>
<p>With that call to the new <code>verify_full_key_form</code> function coded, it was time to implement
that function:</p>
<div class="highlight"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">verify_full_key_form</span><span class="p">(</span><span class="n">property_key</span><span class="p">):</span>

    <span class="k">if</span> <span class="n">property_key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
        <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__separator</span>
    <span class="p">)</span> <span class="ow">or</span> <span class="n">property_key</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__separator</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">"Full property key must not start or end with the '{ApplicationProperties.__separator}' character."</span>
        <span class="p">)</span>
    <span class="n">doubles</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">f</span><span class="s2">"{ApplicationProperties.__separator}{ApplicationProperties.__separator}"</span>
    <span class="p">)</span>
    <span class="n">doubles_index</span> <span class="o">=</span> <span class="n">property_key</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">doubles</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">doubles_index</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">"Full property key cannot contain multiples of the {ApplicationProperties.__separator} without any text between them."</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">property_key</span>
</pre></div>
<p>Like the previous function, this function takes a slice of the string to verify
and focuses on that slice.  For this function, that focus was on making sure that the
<code>property_key</code> argument was validly formed.  This task broke down into two checks: does
the key start or end with the separator character and does the
key contain two separator characters in a row.  By focusing on these checks, the function
can then return the <code>property_key</code> argument knowing that there are no cases of any part
of that property key that does not contain at least one character.</p>
<p>And just like the last section, it was then on to the next, and in this case, last step.</p>
<h3 id="verifying-the-property-key-parts">Verifying The Property Key Parts<a class="headerlink" href="#verifying-the-property-key-parts" title="Permanent link">¶</a></h3>
<p>In the same way that I added to the call to the <code>verify_full_key_form</code> function to the
<code>verify_manual_property_form</code> function, I now added a call to the <code>verify_full_part_form</code>
function to the <code>verify_full_key_form</code> function.</p>
<div class="highlight"><pre><span></span>    <span class="n">split_key</span> <span class="o">=</span> <span class="n">property_key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__separator</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">next_key</span> <span class="ow">in</span> <span class="n">split_key</span><span class="p">:</span>
        <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">verify_full_part_form</span><span class="p">(</span><span class="n">next_key</span><span class="p">)</span>
</pre></div>
<p>Constricting the focus even further, it was now time to examine each part of the
<code>property_key</code> argument:</p>
<div class="highlight"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">verify_full_part_form</span><span class="p">(</span><span class="n">property_key</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Given one part of a full key, verify that it is composed properly.</span>
<span class="sd">    """</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="s2">" "</span> <span class="ow">in</span> <span class="n">property_key</span>
        <span class="ow">or</span> <span class="s2">"</span><span class="se">\t</span><span class="s2">"</span> <span class="ow">in</span> <span class="n">property_key</span>
        <span class="ow">or</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> <span class="ow">in</span> <span class="n">property_key</span>
        <span class="ow">or</span> <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__assignment_operator</span> <span class="ow">in</span> <span class="n">property_key</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="n">f</span><span class="s2">"Each part of the property key must not contain a whitespace character or the '{ApplicationProperties.__separator}' character."</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">property_key</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">"Each part of the property key must contain at least one character."</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">property_key</span>
</pre></div>
<p>Having eliminated all of the high-level checks, this function could then focus on the
task of ensuring that each part of the property key was validly formed.  That task was
then simply to check two things: that the part of the key did not contain a whitespace
character or the assignment character (<code>=</code>), and that the part had at least one character
in it.  I will admit freely that the last check was probably overkill. I just felt better
adding it in for now, knowing that I could easily take it out once I proved it was not
needed.</p>
<p>And with that done, I had the validation for the string passed to the
<code>set_manual_property</code> function completed.</p>
<h3 id="why-did-i-do-it-this-way">Why Did I Do It This Way?<a class="headerlink" href="#why-did-i-do-it-this-way" title="Permanent link">¶</a></h3>
<p>One thing I have learned in the years I have been developing software is that it is
important to keep things simple.  If things are simple, they are easy to read.  If they
are easy to read, they are generally easy to debug.  By placing each level of
verification in its own function, I kept things small, concise, and simple. And
as an extra benefit, I could reuse those functions in other parts of the application
properties library!</p>
<p>Having followed principles like “Keep It Simple”, I do get confused when I see people
trying to cram more than one responsibility into a given function.  Sometimes I can
understand how a single responsibility can organically grow into a pair of
responsibilities, but even in those cases will I try and refactor the code.  Anything
more than two
responsibilities and I wonder why the person who wrote or modified the code did not
refactor it.  From my point of view, the closer you keep the code to being simple
and having a single responsibility, the easier it is to maintain and the fewer bugs
I usually find in them.  Just my experience, but maybe others have a different
experience.</p>
<h3 id="adding-the-type-system">Adding The Type System<a class="headerlink" href="#adding-the-type-system" title="Permanent link">¶</a></h3>
<p>With the changes in place to validate the form of the string and the key part of that
string, it was then time to add the type system I designed, as summarized in the section
<a href="https://jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/#where-did-i-land">Where Did I Land?</a>.</p>
<p>To add the type system, I started by defining the prefix values at the top of the
<code>ApplicationProperties</code> class:</p>
<div class="highlight"><pre><span></span>    <span class="n">__manual_property_type_prefix</span> <span class="o">=</span> <span class="s2">"$"</span>
    <span class="n">__manual_property_type_string</span> <span class="o">=</span> <span class="s2">"$"</span>
    <span class="n">__manual_property_type_integer</span> <span class="o">=</span> <span class="s2">"#"</span>
    <span class="n">__manual_property_type_boolean</span> <span class="o">=</span> <span class="s2">"!"</span>
</pre></div>
<p>From there, the next step was to explicitly look for the <code>__manual_property_type_prefix</code>
character with the following code:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="p">(</span>
        <span class="n">property_value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
            <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__manual_property_type_prefix</span>
        <span class="p">)</span>
        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">property_value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span>
    <span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>This condition was simple to code.  Each of the special sequence starts with a <code>$</code>
character and contains exactly 2 characters.  Therefore, if the <code>property_value</code>
variable did not meet that criteria, there was no use taking those extra steps.</p>
<p>From there, it was then on to adding the first of the types.  Since the string type was
the easiest, and probably going to be the most frequently accessed, it made sense to add
it at the start of the <code>if</code> block:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="p">(</span>
        <span class="n">property_value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span>
            <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__manual_property_type_prefix</span>
        <span class="p">)</span>
        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">property_value</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">property_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__manual_property_type_string</span><span class="p">:</span>
            <span class="n">property_value</span> <span class="o">=</span> <span class="n">property_value</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">property_value</span> <span class="o">=</span> <span class="n">property_value</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
<p>Replacing the <code>pass</code> from the last example with the <code>if-else</code> conditional, this
handling of the string type was easy.  Knowing that there were other types to come,
this was purposefully coded using an <code>if-else</code> instead of a <code>trinary assignment</code>.
At this point, there was either another <code>$</code> character after the first <code>$</code> character
or there was not.  In either case, the <code>property_value</code> was modified to skip over those
characters, as the <code>property_value</code> variable was already a string type and did not need
any modifications.</p>
<p>That simplicity was then changed with the introduction of the boolean type.  As per the
design, this value gets assigned a <code>True</code> value or a <code>False</code> value based on whether the
lowercase value of the remaining string exactly equals <code>true</code>:</p>
<div class="highlight"><pre><span></span>            <span class="n">property_value</span> <span class="o">=</span> <span class="n">property_value</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="p">(</span>
            <span class="n">property_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="o">==</span> <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__manual_property_type_boolean</span>
        <span class="p">):</span>
            <span class="n">property_value</span> <span class="o">=</span> <span class="n">property_value</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">"true"</span>
        <span class="k">else</span><span class="p">:</span>
</pre></div>
<p>I went back and forth on whether to modify the check to include other values and
handling of whitespace, but I decided to keep it simple as designed. By keeping it
simple, it made it easier to explain and document: it is either <code>true</code> or it is not.
And stripping whitespace seemed mostly pointless.  I guess someone could pass a
boolean argument with <code>true</code> as the value.  But I just did not feel like that was
a path that I wanted to take.  So, I decided on no whitespace stripping and no
alternate values.</p>
<p>Finally, it was time to handle the integer type:</p>
<div class="highlight"><pre><span></span>        <span class="k">elif</span> <span class="p">(</span>
            <span class="n">property_value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="o">==</span> <span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">__manual_property_type_integer</span>
        <span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">property_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">property_value</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">this_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="n">f</span><span class="s2">"Manual property value '{property_value}' cannot be translated into an integer."</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">this_exception</span>
</pre></div>
<p>This translation was a bit different than the boolean type in that it may throw an
exception if a bad value was passed for the integer.  I thought this was a useful
scenario and wanted to test it out to make sure it worked properly.  I can see myself
extending these translations in the future and knowing that the system can handle a
<code>ValueError</code> being thrown is a good thing.</p>
<p>With the final type wired up, all the scenario tests were all passing properly.  Looking
at the code coverage for the project, I noticed a couple of gaps in the coverage,
so I coded some extra scenarios to cover those gaps.  Other than that, everything was
working as planned.</p>
<h2 id="wiring-it-up-to-the-command-line">Wiring It Up To The Command Line<a class="headerlink" href="#wiring-it-up-to-the-command-line" title="Permanent link">¶</a></h2>
<p>Once I had the <code>set_manual_property</code> function thoroughly tested, it was time to wire it
up to the command line and to get that working.  To do this, I added the following code
to incorporate the command into the base command line parser instance:</p>
<div class="highlight"><pre><span></span>    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">"--set"</span><span class="p">,</span>
        <span class="s2">"-s"</span><span class="p">,</span>
        <span class="n">dest</span><span class="o">=</span><span class="s2">"set_configuration"</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">"append"</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"manualy set properties"</span><span class="p">,</span>
        <span class="nb">type</span><span class="o">=</span><span class="n">ApplicationProperties</span><span class="o">.</span><span class="n">verify_manual_property_form</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
<p>Then, in the <code>__set_initial_state</code> function, I simply passed the value collected
from the command line the <code>ApplicationProperties</code> instance as follows:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">set_configuration</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__properties</span><span class="o">.</span><span class="n">set_manual_property</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">set_configuration</span><span class="p">)</span>
</pre></div>
<p>That is all it took. With that all done, I ran some basic tests, and everything went
fine.  Almost.  When
I decided to set multiple configuration items from the same command line, the <code>append</code>
action from <code>argparse</code> kicked in and the <code>combined_string</code> arguments to the
<code>set_manual_property</code> function was now an array of strings.  While I had thought about
it when I designed the <code>set_manual_property</code> function, I did not think it would be an
issue and I guess wrong.  It was a simple omittance, and one that was easy to fix.</p>
<p>The way that I saw it at the time was that I could either modify the existing function
to handle the “array of strings” case, or I could write a helper function that would
perform that same action, but under a different function name.  I played around with
splitting the functionality out into a new <code>set_manual_properties</code> function but decided
against it.  With the determination to keep all the code in one place, I added this
block of code to the start of the function:</p>
<div class="highlight"><pre><span></span>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">combined_string</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">iterator</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">iterator</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">combined_string</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span> <span class="k">as</span> <span class="n">this_exception</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">"Manual property form must either be a string or an iterable of strings."</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">this_exception</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterator</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_manual_property</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">return</span>
</pre></div>
<p>There were a couple of cases here that I wanted to handle. I wanted to prevent execution
of the function for non-string arguments other than an iterable of strings.  Without
implementing <code>mypy</code> and generics, the best I can do is to make sure that if the value
is not a string, then it is an iterable of some sort.  Then, when passing the individual
elements of the iterable instance to the <code>set_manual_property</code> function, the function
itself can verify that those elements are strings or not.</p>
<p>It was not perfect, but it was a good design and a faithful implementation.  With these
changes in place, I was looking forward to verifying that the existing rules were
up to date.</p>
<h2 id="what-was-my-experience-so-far">What Was My Experience So Far?<a class="headerlink" href="#what-was-my-experience-so-far" title="Permanent link">¶</a></h2>
<p>This block of work was both normal and humbling at the same time.  From my viewpoint,
this was just me looking at what needed to be cleaned up and getting it done.
That really does not change from project to project or task to task.  But finding
something that I really needed to take a lot of time to focus on and design right was a
bit of a shocker.</p>
<p>I know I am not perfect.  Clear on that.  But I do my best to see what are my next tasks
and plan the design for those tasks in advance.  If I am going to make a
change to my backyard, I probably have thought about it for at least a month, talked to
at least four or five people about it, and sketched it out at least three or four times.
It’s not that I strive for perfection, I just like to understand the variables of the
task dealt with so I can focus on the implementation problems when I am working on the
task.</p>
<p>When I started to think about what I needed for to handle types, I honestly thought I
would find plenty of examples that I could use to guide the modelling of my own system.
I was wrong.  It was because of that once omittance that I needed to dig deep and
figure things out on my own and weigh the good point and bad points myself.  To be
clear, it is not the work that I was upset about, but that I missed the need for that
work to be planned for.</p>
<p>That was the humbling part.  But as I write this article, I am also starting to see it
in a different light.  Yeah, I missed a design point, and my ego was bruised a bit.
So what?  I kept to my principles and did the work to make sure I was making the right
decision.  Do I wish that I could have done that in the spare moments of working on
other stuff?  Sure… but I did not and did it anyway.</p>
<p>As one of my professors once said to me:</p>
<blockquote>
<p>Principles aren’t things that you see clearly in the light.  It takes some form of darkness for you to see them for what they truly are.</p>
</blockquote>
<h2 id="what-is-next">What is Next?<a class="headerlink" href="#what-is-next" title="Permanent link">¶</a></h2>
<p>With all that foundational work out of the way so I can focus on the implemented rules
plugins, I knew my next task was to start working through those plugins and verify that
they worked as advertised.  Stay tuned!</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Markdown%20Linter%20-%20Road%20To%20Initial%20Release%20-%20Gearing%20Up%20For%20Plugins&url=https%3A//jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Markdown%20Linter%20-%20Road%20To%20Initial%20Release%20-%20Gearing%20Up%20For%20Plugins&amp;body=https%3A//jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2021/04/19/markdown-linter-road-to-initial-release-gearing-up-for-plugins/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="markdown-linter-road-to-release-k"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2021/04/12/markdown-linter-road-to-initial-release-creating-a-package/" title="Previous: Markdown Linter - Road To Initial Release - Creating A Package">Markdown Linter - Road To Initial Release - Creating A Package</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2021/04/25/anxiety/" title="Next: Anxiety">Anxiety</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~21 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2021-04-19T00:00:00-07:00">Apr 19, 2021</time>
        <h4>Markdown Linter Road To Initial Release</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://jackdewinter.github.io/2021/02/08/markdown-linter-road-to-initial-release-learned-and-useful-things/" title="Markdown Linter - Road To Initial Release - Learned and Useful Things">Part 1: Markdown Linter - Road To Initial Release - Learned and Useful Things</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/02/15/markdown-linter-road-to-initial-release-refactoring/" title="Markdown Linter - Road To Initial Release - Refactoring">Part 2: Markdown Linter - Road To Initial Release - Refactoring</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/02/22/markdown-linter-road-to-initial-release-starting-performance/" title="Markdown Linter - Road To Initial Release - Starting Performance">Part 3: Markdown Linter - Road To Initial Release - Starting Performance</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/03/01/markdown-linter-road-to-initial-release-measured-performance-increases/" title="Markdown Linter - Road To Initial Release - Measured Performance Increases">Part 4: Markdown Linter - Road To Initial Release - Measured Performance Increases</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/03/08/markdown-linter-road-to-initial-release-cleaning-up-the-list-and-readability/" title="Markdown Linter - Road To Initial Release - Cleaning Up The List and Readability">Part 5: Markdown Linter - Road To Initial Release - Cleaning Up The List and Readability</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/03/15/markdown-linter-road-to-initial-release-front-matter/" title="Markdown Linter - Road To Initial Release - Front-Matter">Part 6: Markdown Linter - Road To Initial Release - Front-Matter</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/03/22/markdown-linter-road-to-initial-release-configuration/" title="Markdown Linter - Road To Initial Release - Configuration">Part 7: Markdown Linter - Road To Initial Release - Configuration</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/03/29/markdown-linter-road-to-initial-release-command-lines/" title="Markdown Linter - Road To Initial Release - Command Lines">Part 8: Markdown Linter - Road To Initial Release - Command Lines</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/04/05/markdown-linter-road-to-initial-release-cleaning-up/" title="Markdown Linter - Road To Initial Release - Cleaning Up">Part 9: Markdown Linter - Road To Initial Release - Cleaning Up</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/04/12/markdown-linter-road-to-initial-release-creating-a-package/" title="Markdown Linter - Road To Initial Release - Creating A Package">Part 10: Markdown Linter - Road To Initial Release - Creating A Package</a>
            </li>
            <li  class="active-part">
            Part 11: Markdown Linter - Road To Initial Release - Gearing Up For Plugins
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/05/03/markdown-linter-road-to-initial-release-finalizing-plugins/" title="Markdown Linter - Road To Initial Release - Finalizing Plugins">Part 12: Markdown Linter - Road To Initial Release - Finalizing Plugins</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/05/10/markdown-linter-road-to-initial-release-fine-tuning-plugins/" title="Markdown Linter - Road To Initial Release - Fine Tuning Plugins">Part 13: Markdown Linter - Road To Initial Release - Fine Tuning Plugins</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/05/17/markdown-linter-road-to-initial-release-dotting-the-is/" title="Markdown Linter - Road To Initial Release - Dotting The Is">Part 14: Markdown Linter - Road To Initial Release - Dotting The Is</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/05/24/markdown-linter-road-to-initial-release-crossing-the-ts/" title="Markdown Linter - Road To Initial Release - Crossing The Ts">Part 15: Markdown Linter - Road To Initial Release - Crossing The Ts</a>
            </li>
            <li >
            <a href="https://jackdewinter.github.io/2021/05/31/markdown-linter-road-to-initial-release-triple-check-everything/" title="Markdown Linter - Road To Initial Release - Triple Check Everything">Part 16: Markdown Linter - Road To Initial Release - Triple Check Everything</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>94</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>112</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>