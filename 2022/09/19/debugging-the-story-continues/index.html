<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, about my love of film, especially short film and how it inspires me. In this article, I am going to talk again on the artform called debugging. If It Was Easy, Everyone Would Do It¶ That title just about sums it up for me. Debugging …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Personal, " />

<meta property="og:title" content="Debugging... The Story Continues "/>
<meta property="og:url" content="https://jackdewinter.github.io/2022/09/19/debugging-the-story-continues/" />
<meta property="og:description" content="Summary¶ In my last article, about my love of film, especially short film and how it inspires me. In this article, I am going to talk again on the artform called debugging. If It Was Easy, Everyone Would Do It¶ That title just about sums it up for me. Debugging …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2022-09-19T00:00:00-07:00" />
<meta name="twitter:title" content="Debugging... The Story Continues ">
<meta name="twitter:description" content="Summary¶ In my last article, about my love of film, especially short film and how it inspires me. In this article, I am going to talk again on the artform called debugging. If It Was Easy, Everyone Would Do It¶ That title just about sums it up for me. Debugging …">

        <title>Debugging... The Story Continues  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2022/09/19/debugging-the-story-continues/">
                Debugging... The Story Continues
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#if-it-was-easy-everyone-would-do-it">If It Was Easy, Everyone Would Do It</a></li>
<li><a href="#start-with-something-simple">Start With Something Simple</a></li>
<li><a href="#adding-in-some-complexity">Adding In Some Complexity</a></li>
<li><a href="#taking-steps-to-tame-the-chaos">Taking Steps To Tame The Chaos</a></li>
<li><a href="#using-language-support">Using Language Support</a></li>
<li><a href="#multiplying-that-by-orders-of-multitude">Multiplying That By Orders Of Multitude</a></li>
<li><a href="#debugging-is-a-lot-of-hard-work">Debugging Is A Lot of Hard Work</a></li>
<li><a href="#the-moral">The Moral</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2022/09/12/my-love-of-short-film/">last article</a>, about my love of film,
especially short film and how it inspires me.  In this article, I am going to
talk again on the artform called debugging.</p>
<h2 id="if-it-was-easy-everyone-would-do-it">If It Was Easy, Everyone Would Do It<a class="headerlink" href="#if-it-was-easy-everyone-would-do-it" title="Permanent link">¶</a></h2>
<p>That title just about sums it up for me.  Debugging is not always an easy task
to undertake.  It takes brute force, luck, and stubbornness. I need to make sure
that I clear my mind of distractions, but also know when I need distractions to
reset my mind so I can start again. At times it can feel like you are mentally
balancing on a rope, without knowing how thick the rope is or how far off the
ground it is.  And you have to be okay with that.</p>
<p>For any readers that think I may be exagerating with that opening paragraph, I
am going to try and prove that I am not exagerating.</p>
<h2 id="start-with-something-simple">Start With Something Simple<a class="headerlink" href="#start-with-something-simple" title="Permanent link">¶</a></h2>
<p>To start proving my point, I am going to start with something that is relatively
easy to figure out.  When running this code, it looks like it should succeed,
but it does not:</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">1.1</span> <span class="o">+</span> <span class="mf">2.2</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mf">3.3</span>
</pre></div>
<p>As a matter of fact, when I run this through the Python terminal, I get the
following output:</p>
<div class="highlight"><pre><span></span>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AssertionError
</pre></div>
<p>For any developer with experience, one look at this code will quickly lead them
to question how Python handles floating point numbers.  In this case, the value
of <code>x</code> is assigned the value of <code>3.3000000000000003</code> and does not match the
value in the <code>assert</code> statement’s conditional. From the Python documentation
<a href="https://docs.python.org/3.10/tutorial/floatingpoint.html?highlight=floating%20point">on floating point values</a>:</p>
<blockquote>
<p>Unfortunately, most decimal fractions cannot be represented exactly as binary
fractions. A consequence is that, in general, the decimal floating-point numbers
you enter are only approximated by the binary floating-point numbers actually
stored in the machine.</p>
</blockquote>
<h2 id="adding-in-some-complexity">Adding In Some Complexity<a class="headerlink" href="#adding-in-some-complexity" title="Permanent link">¶</a></h2>
<p>Graduating from that example, the next example is a bit more nuanced:</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span>
<span class="k">assert</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
<p>Running this through the Python terminal, we get the same output as above, with
an assert occuring on the last line.  Even as someone who has used Python for over
five years, this one initially stumped me.  But due to my debugging skills, I added
one line to that example:</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
<p>That one line provided output that was pivotal:</p>
<div class="highlight"><pre><span></span>&lt;class 'float'&gt;
</pre></div>
<p>That one piece of information lead me to
<a href="https://realpython.world/basics/division-in-python.html">this article</a> on
Real Python that talks about division and integer division. The article
talks about various aspects of division and remainders in Python, and was
an interesting read.  It also gave me something to think about as I
am debugging other scenarios.</p>
<h2 id="taking-steps-to-tame-the-chaos">Taking Steps To Tame The Chaos<a class="headerlink" href="#taking-steps-to-tame-the-chaos" title="Permanent link">¶</a></h2>
<p>The first example outlined a situation that occurs in most programming languages.
Most languages do not have built-in support for exacting floating point values.
Instead, the default is to approximate floating point values using binary values.
The key there is the word “approximate” as various calculations end up being
off by an extremely small amount.  But that amount is just enough to make conditionals
fail when they look like they should succeed, when the fail. To rememdy this problem,
the develop needs to know about the <code>//</code> integer division operator which provides
the behavior that most developers expect.</p>
<p>The second example is something that strikes polyglot developers more than
single language developers, but can be a blindspot that hits a junior developer.
Different languages have specific ways of handling specific situations.  In Python,
dividing one integer by another integer results in a float.  However, in most modern
languages, the result would be an integer.  It depends on the viewpoint as to whether
that is a good thing or not.</p>
<p>But there are concepts that are handled coherently across languages.  Sticking to
examples related to floating point math, fixed point math is supported in Python using
the <a href="https://docs.python.org/3/library/decimal.html">decimal</a> module. Supported with
a similar name in other modern languages, one part of the Python module definition
stands out clearly in the documentation:</p>
<blockquote>
<p>Decimal “is based on a floating-point model which was designed with people in mind,
and necessarily has a paramount guiding principle – computers must provide an
arithmetic that works in the same way as the arithmetic that people learn at school.”</p>
</blockquote>
<p>While there is not built-in support to properly handle these two examples, modules like
the <code>decimal</code> module provide easy-to-use alternatives that address these issues.  But
it takes learning and experience to know what the alternatives are and when to use them.</p>
<h2 id="using-language-support">Using Language Support<a class="headerlink" href="#using-language-support" title="Permanent link">¶</a></h2>
<p>One thing that Python has going for it is that it does not statically type every
variable that is created.  Instead, a value is assigned to a type that “makes the
most sense”.  Given a value of <code>"xxx"</code>, a string makes the most sense.  Given a
value of <code>1</code>, an integer makes the most sense.  Given a value of <code>(1, False)</code>,
a tuple makes the most sense.</p>
<p>But while that is often a boon in Python development, it can make things a bit
crazy when debugging.  When debugging in Python, I have either had to use debug
output or traverse multiple functions to determine the type and value of a
variable.  While I do spend some time in Python’s real-time debugger, the volume
of tests in my projects often prevent me from spending any significant time in
the debugger.  Instead, I needed an alternative that would at least help me
figure out those values.</p>
<p>Coming up with proposals to determine the value of variables was an easy problem
to solve.  Python has a very robust built-in logger that is easy to setup and use.
But that part of the solution requires me to complete parts of the code before I
can run the code to produce the log entries.  And that did not help me much with
my type issues.  Then I started paying attention to <a href="http://mypy-lang.org/">MyPy</a>.</p>
<p>MyPy is:</p>
<blockquote>
<p>an optional static type checker for Python that aims to combine the benefits of
dynamic (or “duck”) typing and static typing.</p>
</blockquote>
<p>The MyPy type checking is run on Python code as part of a “compile phase”. While
it is optional, once a module has started to implement static typing in one or
more functions, warnings will be emitted if typed Python code calls into an
untyped function.  But the good part of that process is that most of the type
annotations in MyPy are simple and easy to use. Rewriting the above example
using type annotations leads to a function looking somewhat similar to this:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">y</span>
</pre></div>
<p>In this example, I have been more verbose than I usually am, but that is only
to highlight a point.  By ensuring that every variable reference in the function
is an integer, the attempt to assign <code>x / 2</code> will still work in Python, but will
raise a type error in MyPy.  Just having that capability alone saves time.</p>
<h2 id="multiplying-that-by-orders-of-multitude">Multiplying That By Orders Of Multitude<a class="headerlink" href="#multiplying-that-by-orders-of-multitude" title="Permanent link">¶</a></h2>
<p>One of the reasons that I have strived to keep the various parts of the
<a href="https://github.com/jackdewinter/pymarkdown">PyMarkdown</a> project separate from
each other is because understanding and debugging complex systems suck. When
I say that they suck, what I am really saying is that as humans, we all have our
limits in keeping multiple values and multiple trains of thought going in our
heads at the same time.</p>
<p>Given a simple system, such as the <code>my_func</code> function in the above example,
keeping each concept in my head to figure out the problem is a relatively easy
problem to solve.  With my experience to supercharge my debugging skills, determining
the issue in a small system like that is trivial.</p>
<p>But as complexity grows in the source code, the complexity of debugging that
source code grows at an even faster rate.  When writing code, I typically work
towards a single goal before moving on to the next goal.  If I try to keep too
much in my head with respect to the code, I often fail at that task.  By keeping
things simple, I retain a clear picture in my head which allows me to develop
the source code with the same clarity.</p>
<p>The way in which I debug code approaches the problem of debugging compex systems
with a similar approach.  To ensure that I keep that clarity, I make it a habit
in my projects to using logging effectively.  This means outputing the current
state of a variable at a crucial point and also logging crucial paths taking due
to conditional statements.  By performing these actions, I provide a trail
of breadcrumbs that I can refer back to in order to clarify the picture that I
am debugging from.  I can then focus on the local picture, and determine if the
picture that the logs are telling is the same as the picture that I have in my
head.</p>
<p>Debugging effectively for me is all about keeping a clear picture in my head and
making sure that I can shift that picture as needed.  But that is not always
enough to get the job done.</p>
<h2 id="debugging-is-a-lot-of-hard-work">Debugging Is A Lot of Hard Work<a class="headerlink" href="#debugging-is-a-lot-of-hard-work" title="Permanent link">¶</a></h2>
<p>How does this relate to the whitespace work of the last couple of weeks?  The
honest answer is that I paid a lot of attention to the above concepts that I have
developed over many years, and it was still failing me.  Sometimes systems are
complex enough that it is hard to decompose them into small enough pictures that
make for effective debugging.</p>
<p>That is what happened with the last remaining issue dealing with whitespaces.
With all the other issues resolve, I had a single issue remaining where the
following Markdown generated an <code>AssertionError</code>:</p>
<div class="highlight"><pre><span></span> <span class="o">&gt;</span> <span class="n">block</span> <span class="n">quote</span>
 <span class="o">&gt;</span><span class="err">\</span><span class="n">t</span><span class="o">&gt;</span> <span class="n">another</span> <span class="n">block</span> <span class="n">quote</span>
</pre></div>
<p>In trying to keep things simple, I was able to quickly determine what the issue
was.  When the parser recursed to handle the text past the first block quote on
the second line, it was not recognizing the remaining text as another block quote
with its own text.  Furthermore, because that parsing was off, an assert was
failing because the indent calculations for the produced tokens were off as well.
Basically, it was not working properly, and I had at least two possible reasons
for the failure.</p>
<p>In the two weeks that I was working on the other whitespace issues, I went back
to this issue multiple times.  Even with the various parts of the system somewhat
isolated from each other, the parsing of tokens is a somewhat complex system.
Part of that complexity is just because parsing in itself tends to be complex, with
most parsers supporting forward scanning as a primary mode and backward scanning
where needed.</p>
<p>The PyMarkdown project is no different, with multiple possible areas to check on
what could be causing that behavior.  I have found through experience that sometimes
the most effective debugging behavior is not given up.  Just sticking to my confidence
that I can debug the code and determine what the issue is.  And sometimes, that means
trying twenty different paths just to find the one path that works.</p>
<p>And it was on that twentieth try that I found my answer.  In that one specific
example above, the <code>leading_space</code> variable for that Block Quote token is assigned
the leading spaces for both the first and second lines.  When that token’s
<code>leading_space</code> variable was then used in a subsequent calculation, the result
was the calculation of the length of all the leading space for that Block Quote
token, not just the last line.</p>
<h2 id="the-moral">The Moral<a class="headerlink" href="#the-moral" title="Permanent link">¶</a></h2>
<p>Having talent is essential in developing system to meet the needs they were designed
for.  Even without a lot of talent, a person can still be taught different
concepts and ideas that build their development experience. But when it comes to
debugging, I put more faith in having a clear picture in my head and knowing that
I am stubborn enough to not give up easily, than to bank on experinece and talent.
[more]</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Debugging...%20The%20Story%20Continues&url=https%3A//jackdewinter.github.io/2022/09/19/debugging-the-story-continues/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2022/09/19/debugging-the-story-continues/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Debugging...%20The%20Story%20Continues&amp;body=https%3A//jackdewinter.github.io/2022/09/19/debugging-the-story-continues/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2022/09/19/debugging-the-story-continues/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="debugging-the-story"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2022/09/12/my-love-of-short-film/" title="Previous: My Love of Short Film">My Love of Short Film</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2022/09/26/thinking-about-direction/" title="Next: Thinking About Direction">Thinking About Direction</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~9 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2022-09-19T00:00:00-07:00">Sep 19, 2022</time>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#personal-ref">Personal</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>108</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>126</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>