<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Jack De Winter" />

        <meta name="description" content="Summary¶ In my last article, I talked about my work on the PyMarkdown project to solidify how it manages whitespace. In this article, I talk about how inspiration struck me for this article… and when. To Get Things Started¶ First off, I want to be honest with any readers on …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="markdown linter, core linter, Software Quality, " />

<meta property="og:title" content="Inspiration Comes At Weird Moments In Our Life "/>
<meta property="og:url" content="https://jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/" />
<meta property="og:description" content="Summary¶ In my last article, I talked about my work on the PyMarkdown project to solidify how it manages whitespace. In this article, I talk about how inspiration struck me for this article… and when. To Get Things Started¶ First off, I want to be honest with any readers on …" />
<meta property="og:site_name" content="Jack&#39;s Digital Workbench" />
<meta property="og:article:author" content="Jack De Winter" />
<meta property="og:article:published_time" content="2022-09-06T00:00:00-07:00" />
<meta name="twitter:title" content="Inspiration Comes At Weird Moments In Our Life ">
<meta name="twitter:description" content="Summary¶ In my last article, I talked about my work on the PyMarkdown project to solidify how it manages whitespace. In this article, I talk about how inspiration struck me for this article… and when. To Get Things Started¶ First off, I want to be honest with any readers on …">

        <title>Inspiration Comes At Weird Moments In Our Life  · Jack&#39;s Digital Workbench
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://jackdewinter.github.io/theme/css/style.min.css?bec7d543">

        <link href="https://jackdewinter.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jack&#39;s Digital Workbench - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://jackdewinter.github.io/"><span class=site-name>Jack's Digital Workbench</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://jackdewinter.github.io
                                    >Home</a>
                                </li>
                                <li ><a href="https://jackdewinter.github.io/categories">Categories</a></li>
                                <li ><a href="https://jackdewinter.github.io/tags">Tags</a></li>
                                <li ><a href="https://jackdewinter.github.io/archives">Archives</a></li>
                                <li><form class="navbar-search" action="https://jackdewinter.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/">
                Inspiration Comes At Weird Moments In Our Life
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#summary">Summary</a></li>
<li><a href="#to-get-things-started">To Get Things Started</a></li>
<li><a href="#the-journey-here">The Journey Here</a></li>
<li><a href="#and-then-came-monday">And Then Came Monday</a></li>
<li><a href="#and-then-it-hit-me">And Then It Hit Me</a></li>
<li><a href="#where-to-go-from-here">Where To Go From Here?</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">¶</a></h2>
<p>In my
<a href="https://jackdewinter.github.io/2022/08/29/tackling-whitespace/">last article</a>, I talked about
my work on the <a href="https://github.com/jackdewinter/pymarkdown">PyMarkdown</a> project to solidify
how it manages whitespace.  In this article, I talk about how inspiration struck me
for this article… and when.</p>
<h2 id="to-get-things-started">To Get Things Started<a class="headerlink" href="#to-get-things-started" title="Permanent link">¶</a></h2>
<p>First off, I want to be honest with any readers on the timing of this article.
It is Tuesday afternoon and I had almost given up on authoring an article this
week.  At this point in most weeks, I have either finished the article and
it is posted, or I am giving it a “24 hour” no-read period to make sure it still
reads like I want it to.  Basically, it is either posted or within two or three
small edits from being posted.  Call me old fashioned, but I always feel better
knowing that I can go back to a document 24 hours after I have finished writing it,
still having it sound the way I wanted it to be.</p>
<p>This week was different.  With Labor Day here in North America, I spent part of
the day doing yard work and part of the day working on the whitespace handling
that I mentioned last week.  By Monday evening I am usually polishing the article
up if it is not already finished.  But this week I had nothing unique that I
wanted to say.  Sure, I could have put together a low-quality article that said what I
was doing, but it would have been a status report more than an article.</p>
<p>So, it was interesting to me that I got the inspiration for this article when I sat
down to do some more work on Tuesday evening.  Inspiration is weird.</p>
<h2 id="the-journey-here">The Journey Here<a class="headerlink" href="#the-journey-here" title="Permanent link">¶</a></h2>
<p>To understand the inspiration, I need to explain how I got there.  The first
part is the easy part: hard work.  In the last week, I have resolved most of
the whitespace issues that I documented prior to last week.  The first
skipped test and the skipped test with tabs and code spans are the only two skipped tests that are
left to fix.  Through hard work and imagination, I managed to crack
through and correct the other thirty-one scenario tests and get them working.</p>
<p>For the most part, that hard work was correcting one thing or another. A good
example of that was coming up with better names for the various helper functions
that I used to extract whitespace.  To be blunt, my naming sucked.  Granted,
it sucked after learning more about the three types of whitespace, but it still
sucked.  Instead of a generic <code>whitespace</code> in function names, I created variants
of those functions that used <code>space</code>, <code>ascii_whitespace</code>, or <code>unicode_whitespace</code>
properly.  That took a while to carry out, but it felt good to have those functions
with names that reflected my new understanding.  And as it felt like I was changing
the entire code base, I also refactored a handfull of large functions while I was there. “Always
leave an area better than when you found it” is a good motto of mine.</p>
<p>To that extent, I just bore down and started working through each of the
thirty-three skipped scenarios, from the bottom to the top.  Why? Because I did
not want to get bored, and I figured starting from the bottom would help me not get bored. Basically,
for no reason other than to do something different.  After all, a list of thirty-three
failed tests is the same to me whether I start at the bottom of the top: they all
need to be fixed.</p>
<p>For the most part, the last thirty (or first thirty, depending on viewpoint) scenario
tests were relatively easy to fix.  In some cases, I had skipped the test because
I had “thought” it might be bad.  In those cases, I just made sure to verify the
test data and everything worked properly.  There were other cases where I had collected
the expected output HTML improperly, and I just went ahead and fixed those.</p>
<p>That left the significant issues for me to fix.  The next batch of issues that
I dealt with were dealing with removing whitespace from the start and end of
paragraphs.  Originally, I was removing only <code>spaces</code>, but the
<a href="https://github.github.com/gfm/">specification</a> clearly says:</p>
<blockquote>
<p>The paragraph’s raw content is formed by concatenating the lines and removing initial and final whitespace.</p>
</blockquote>
<p>That took a little bit of figuring out on how to resolve it, but I was able to
resolve it with a minimal amount of code changing.  That was a good find.</p>
<p>The next issue that I tackled was properly dealing with whitespace at the end of
the end of a fenced code block.  While I was producing the right HTML, I was
not storing that whitespace in the end token.  As a result, when I tried to
rehydrate the Markdown in function <code>test_whitespaces_fenced_code_closed_with_spaces_after</code>,
there was no space to rehydrate with.  That was a bit more of a chore, requiring
me to add a new field to the end fenced code block token to store that whitespace.
The downside to that was that there was already an optional field at the end of
that token, therefore it made more sense to add it before the serialization of that optional
field.  This affected every end fenced code block token in the scenario tests,
but it was a quick search-and-replace to fix them all. Even so, let me just say
I stopped counting the instances after the first fifty and leave it at that.</p>
<p>Having completed dealing with the issue of bad whitespace storage in the end
fenced code block token, I thought it was only fitting to look at a similar issue
with not properly stripping whitespace at the end of the fenced code block’s
<code>info string</code> construct.  Like my quote for paragraphs is the quote for
info strings:</p>
<blockquote>
<p>The line with the opening code fence may optionally contain some text following
the code fence; this is trimmed of leading and trailing whitespace and called the info string.</p>
</blockquote>
<p>In this instance, the start of the info string element was being trimmed properly,
but the end of that same element was only handling <code>spaces</code> and not <code>whitespace</code>.
Most of the work there was just handling the extra whitespace characters, but it
did take some time to work out.</p>
<p>Basically, up to this point everything I did to fix those issues required some
thinking or some changes, but nothing major.  Just me applying solid debugging practices
to every test, putting in the time and getting it working.  By far, the
costliest fix was having to do the search-and-replace for the end fenced code block token,
and that was only tedious, not difficult.  But that would change on Monday.</p>
<h2 id="and-then-came-monday">And Then Came Monday<a class="headerlink" href="#and-then-came-monday" title="Permanent link">¶</a></h2>
<p>Now that everyone is caught up, that is when Monday started.  At the start of
Monday, I had three scenario tests that I needed to get working.  One dealt with
properly recognizing a hard break, one was properly handing spaces inside of a
code span, and the last was very first scenario test in the file, the one I have
not even looked at yet.</p>
<p>This was the place that I needed any inspiration I could find.  This was an interesting problem
to solve and not an easy one.  To make things easier for the project, I replaced any tab characters with the proper
count of space characters.  The downside to approach was that the parser loses any context of
where the original tab characters were.  I knew I did not have an idea on how to
fix it, hence I decided to do something else for a while. Enter yardwork.</p>
<p>It might sound counter-intuitive, but I find the best way to solve problems and
get inspiration is to do something that is not connected to the problem you are
trying to solve.  In this case, it was a section of our yard that I decided to
not weed, only to change my mind later.  Just freely thinking about things and
staring out into the blue sky helped me reset my mind.  That and clearing about
fifty square feet of backyard from weeds and filling up our yard waste bin to the
top.</p>
<p>When I came inside, I looked at the problem again and came up with a solution
almost immediately.  I knew that the first thing that I needed to do was to pass the original
string to the lower levels of the parser, to allow the parser tell what the original
whitespace was.  That was easy enough on its own, but it was not enough.  That
change enabled me to properly deal with container tokens and leaf tokens, but
not the inline tokens.  For those tokens, I quickly figured out that I needed to add an optional
field in the text token for a <code>tabified_text</code> field that would only be populated
for original lines that had tab characters in them.</p>
<p>As a proof of concept, I worked on the hard break issue and got it working properly
within a couple of hours.  To be fair, most of that time was getting the <code>tabified_text</code> field
working properly.  Once that was done, I looked back at the specification where
it says:</p>
<blockquote>
<p>A line break (not in a code span or HTML tag) that is preceded by two or more spaces
and does not occur at the end of a block is parsed as a hard line break</p>
</blockquote>
<p>But in the scenario test where a line in a paragraph ended with two tab characters,
the parser rightfully saw the more than two space characters and decided that there
should be a hard break.  With the new <code>tabified_text</code> field, I was able to change
the parser to notice that the line did not end with two space characters, returning
the proper HTML.  Once I was inspired to put the right data in the text token,
the rest of the solution almost wrote itself.</p>
<h2 id="and-then-it-hit-me">And Then It Hit Me<a class="headerlink" href="#and-then-it-hit-me" title="Permanent link">¶</a></h2>
<p>Once again, inspiration comes at weird moments in our life. Having given up on
authoring an article this week, I finished some work downstairs and was taking a quick
shower before starting work on the project for the evening.  As per my routine, I
mentally went over what I did yesterday and what I planned to do today. Just my
usual routine.</p>
<p>And then a weird thought came into my head.  Instead of using the same backwards
tab lookup concept to fix one or two small issues, what if I used the same approach
to fix all the tab issues?</p>
<p>To be clear, after the raw line is passed into the Container Block Processor to
look for blocks, one of the first things that is done is to translate the line
into a detabified format.  From that point on, the line information is passed
without any space characters.  But with the original string now available, other
options opened.  It was then that the ideas started flowing.</p>
<p>The first one was a simple one: what if I applied the same solution to other
elements?  If I had the original line within reach, I should be able to
pull match things up and figure out which space characters belonged to each tab.</p>
<p>The second idea was a more radical one.  What if I specifically only looked at
any leading whitespace and translated any tabs in that leading whitespace to
space characters.  For the most part, the translated tab characters are only
beneficial for indentation purposes, so it might work.</p>
<h2 id="where-to-go-from-here">Where To Go From Here?<a class="headerlink" href="#where-to-go-from-here" title="Permanent link">¶</a></h2>
<p>To be honest, I am not sure which choice I am going to take.  But that is the
beauty of inspiration!  Not only do I have one possible solution, but that
solution inspired me to think of the other solution.  And not only do I have
two possibly viable solutions to my tab issues, but I had good inspiration for an
article!</p>
<p>For me, the bonus is that even in my fifties, I am finding new ways of exploring
and analyzing that I previously thought were dead ends.  This is one of the reasons
that I am starting to cultivate other hobbies that deal less and less with computers,
video, and audio and rooting myself more in the real world.  Not only is it better
for me, but it allows me to be inspired more often.  And that is always a good thing!
After all, you never know what weird thought and weird moments in your life will
inspire you!</p>


             
 
                <p id="post-share-links">
    Like this post? Share on:
    <a href="https://twitter.com/intent/tweet?text=Inspiration%20Comes%20At%20Weird%20Moments%20In%20Our%20Life&url=https%3A//jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/&hashtags=markdown-linter,core-linter" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
    ❄
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
    ❄
    <a href="mailto:?subject=Inspiration%20Comes%20At%20Weird%20Moments%20In%20Our%20Life&amp;body=https%3A//jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>
    </p>

            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   href="https://jackdewinter.github.io/2022/09/06/inspiration-comes-at-weird-moments-in-our-life/#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">

                        <script src="https://utteranc.es/client.js"
        data-repo="jackdewinter/jackdewinter.github.io"
        data-issue-term="inspiration-weird"
        data-label="Comments"
        data-theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://jackdewinter.github.io/2022/08/29/tackling-whitespace/" title="Previous: Tackling Whitespace">Tackling Whitespace</a></li>
                <li class="next-article"><a href="https://jackdewinter.github.io/2022/09/12/my-love-of-short-film/" title="Next: My Love of Short Film">My Love of Short Film</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
    <h4>Reading Time</h4>
    <p>~9 min read</p>
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2022-09-06T00:00:00-07:00">Sep 6, 2022</time>
            <h4>Category</h4>
            <a class="category-link" href="https://jackdewinter.github.io/categories#software-quality-ref">Software Quality</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://jackdewinter.github.io/tags#core-linter-ref">core linter
                    <span>101</span>
</a></li>
                <li><a href="https://jackdewinter.github.io/tags#markdown-linter-ref">markdown linter
                    <span>119</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/jackdewinter" title="github-alt" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/jackdewinter/" title="linkedin" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
    <a href="https://jackdewinter.github.io/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2021 by Jack De Winter and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>